(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["xmpp-chat"],{"050d":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",u="week",c="month",l="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:u,d:a,D:h,h:s,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",D={};D[b]=g;var _=function(e){return e instanceof x},w=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();D[o]&&(i=o),n&&(D[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;D[a]=t,i=a}return!r&&i&&(b=i),i||!r&&b},E=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},C=y;C.l=w,C.i=_,C.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function g(e){this.$L=w(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return C},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!C.u(t)||t,l=C.p(e),f=function(e,t){var i=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},p=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case u:var b=this.$locale().weekStart||0,D=(m<b?m+7:m)-b;return f(r?v-D:v+(6-D),g);case a:case h:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,u=C.p(e),l="set"+(this.$u?"UTC":""),f=(n={},n[a]=l+"Date",n[h]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[s]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],p=u===a?this.$D+(t-this.$W):t;if(u===c||u===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[C.p(e)]()},v.add=function(r,l){var h,f=this;r=Number(r);var p=C.p(l),m=function(e){var t=E(f);return C.w(t.date(t.date()+Math.round(e*r)),f)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===a)return m(1);if(p===u)return m(7);var g=(h={},h[o]=t,h[s]=n,h[i]=e,h)[p]||1,v=this.$d.getTime()+r*g;return C.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),o=this.$H,s=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},d=function(e){return C.s(o%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:C.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:C.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:C.s(s,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||p[e]||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var p,m=C.p(h),g=E(r),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=C.m(this,g);return b=(p={},p[d]=b/12,p[c]=b,p[l]=b/3,p[u]=(y-v)/6048e5,p[a]=(y-v)/864e5,p[s]=y/n,p[o]=y/t,p[i]=y/e,p)[m]||y,f?b:C.a(b)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return D[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return C.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),A=x.prototype;return E.prototype=A,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,x,E),e.$i=!0),E},E.locale=w,E.isDayjs=_,E.unix=function(e){return E(1e3*e)},E.en=D[b],E.Ls=D,E.p={},E}))},"05f5":function(e,t,n){var r=n("6b1d"),i=n("cc18");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},"0a8a":function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}};return n.default.locale(r,null,!0),r}))},"0cd0":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}))},"0d5c":function(e,t,n){"use strict";var r=n("6b1d"),i=n("b546"),o=n("70b7"),s=n("2e3f"),a=n("730c"),u=n("b495"),c=n("2a3e"),l=n("157c"),d=n("6a61"),h=n("8e5d"),f=n("1b03"),p=n("60de"),m=n("ef30"),g=n("72df"),v=n("7d53"),y=n("433a"),b=n("e3f6"),D=n("df8c"),_=n("cdcd"),w=n("0e93"),E=v("matchAll"),C="RegExp String",x=C+" Iterator",A=_.set,k=_.getterFor(x),S=RegExp.prototype,F=TypeError,O=o("".indexOf),M=o("".matchAll),T=!!M&&!g((function(){M("a",/./)})),j=s((function(e,t,n,r){A(this,{type:x,regexp:e,string:t,global:n,unicode:r,done:!1})}),C,(function(){var e=k(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=D(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""===c(r[0])&&(t.lastIndex=b(n,u(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),N=function(e){var t,n,r,i=l(this),o=c(e),s=y(i,RegExp),a=c(f(i));return t=new s(s===RegExp?i.source:i,a),n=!!~O(a,"g"),r=!!~O(a,"u"),t.lastIndex=u(i.lastIndex),new j(t,o,n,r)};r({target:"String",proto:!0,forced:T},{matchAll:function(e){var t,n,r,o,s=a(this);if(null!=e){if(h(e)&&(t=c(a(f(e))),!~O(t,"g")))throw F("`.matchAll` does not allow non-global regexes");if(T)return M(s,e);if(r=p(e,E),void 0===r&&w&&"RegExp"==d(e)&&(r=N),r)return i(r,e,s)}else if(T)return M(s,e);return n=c(s),o=new RegExp(e,"g"),w?i(N,o,n):o[E](n)}}),w||E in S||m(S,E,N)},"0ffc":function(e,t,n){"use strict";e.exports=function(t){return t||(t={}),t.beforeSecond=t.beforeSecond||t.before||e.exports.defaultOptions.beforeSecond||e.exports.defaultOptions.before,t.before=t.before||e.exports.defaultOptions.before,t.afterSecond=t.afterSecond||t.after||e.exports.defaultOptions.afterSecond||e.exports.defaultOptions.after,t.after=t.after||e.exports.defaultOptions.after,t.language=t.language?t.language.replace(/[^a-z]/g,""):e.exports.defaultOptions.language,t},e.exports.defaultOptions={before:"<strong>",after:"</strong>",beforeSecond:'<strong class="secondary">',afterSecond:"</strong>",language:"en"}},1706:function(e,t,n){var r=n("6b1d"),i=n("a2fc");r({target:"String",proto:!0},{repeat:i})},"1b5d":function(e,t,n){"use strict";var r=n("0c4f"),i=n("81fc"),o="[object Symbol]";function s(e){return"symbol"==typeof e||Object(i["a"])(e)&&Object(r["a"])(e)==o}t["a"]=s},"1b70":function(e,t,n){"use strict";var r=function(e,t){var n="(?:"+t.suffix.join("|")+")";return e=e.replace(new RegExp(n+"$","i"),""),e+=n+"?",e},i=function(e){return e+="[,;:\\.\\!\\?]??",e},o=function(e,t){for(var n in t.unicode||{}){var r=t.unicode[n].slice(0);r.unshift(n);var i="(?:"+r.join("|")+")";e=e.replace(new RegExp(i,"g"),i)}return e};e.exports=function(e,t){var n=e;return n=r(n,t),n=i(n,t),n=o(n,t),n}},"1ba0":function(e,t,n){},"1eb6":function(e,t,n){"use strict";n("3dff")},2169:function(e,t,n){"use strict";var r=n("6b1d"),i=n("f498"),o=n("cf50"),s=n("0a1e"),a="ArrayBuffer",u=o[a],c=i[a];r({global:!0,constructor:!0,forced:c!==u},{ArrayBuffer:u}),s(a)},"221e":function(e,t,n){"use strict";n.r(t);var r,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-chat"},[n("div",{attrs:{id:"web_im_copy_div"}},[e._v("copy")]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"chat-wrapper",on:{contextmenu:function(e){e.stopPropagation()}}},[n("message-list",{ref:"chatPanel"})],1)])},o=[],s=n("de79"),a=n("9ce4"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-chat-panel"},[n("div",{staticClass:"search-wrapper"},[n("search-box",{attrs:{"init-query":e.chatKeyword,activedescendant:e.matchedActivedescendant,disabled:e.disabledSearch,"placeholder-label":"Search chat"},on:{query:e.onQuery,keydown:e.onSearchKeyDown}})],1),n("div",{ref:"content",staticClass:"chat-content"},[n("zm-scrollbar",{ref:"scrollbar",attrs:{"wrap-style":e.$options.WRAP_STYLE}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.messages.length>0,expression:"messages.length > 0"}],ref:"chatList",staticClass:"chat-list",attrs:{tabindex:e.messages.length?0:-1,"aria-activedescendant":e.activedescendant,"aria-label":"chat history",role:"list"},on:{keydown:e.handleKeydown,focusout:e.clearFocusedMsgId}},e._l(e.messages,(function(t,r){return n("div",{key:t.id,class:e.getListItemCls(t.id),attrs:{tabindex:"1","aria-label":e.getAriaLabel(t),id:t.id},on:{mouseenter:function(n){e.onMouseEnter(n,t)},mouseleave:e.onMouseLeave}},["info"===t.messageType?[n("system-message",{attrs:{message:t}})]:n("message",{ref:"messages",refInFor:!0,attrs:{message:t,"should-show-avatar":e.needAvatar(t,r)}})],2)})),0),n("ul",{staticClass:"hidden-matched-list"},e._l(e.matchedIndexList,(function(t){return n("li",{directives:[{name:"uid",rawName:"v-uid",value:"hidden-matched-list-item",expression:"'hidden-matched-list-item'"}],key:t.id,ref:"matchedListItem",refInFor:!0,attrs:{"aria-label":e.getAriaLabel(t)}})})),0),e.jumpLoading?n("div",{staticClass:"loading-wrapper"},[n("i",{staticClass:"zm-icon-loading",staticStyle:{"font-size":"20px"}})]):e._e()])],1)])},c=[],l=(n("ef1f"),n("33ef"),n("d86f"),n("b506"),n("841a"),n("918c"),n("ef14"),n("bdf7"),n("b0f5")),d=function(){if(l["d"])return 0;if(void 0!==r)return r;var e=document.createElement("div");e.className="zm-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),r=t-i,r},h=n("8563"),f=n("2bb0"),p=n("45ce"),m=n("fee2"),g=n("46b8"),v=(n("28eb"),n("e5dc"));function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(t){var o=b(e,t,n,i);if("undefined"!==typeof o){var s=Object(v["a"])();r?s(e,"scrollTop",o,r):e.scrollTop=o}}else e.scrollTop=0}function b(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[],s=t.offsetParent;while(s&&e!==s&&e.contains(s))o.push(s),s=s.offsetParent;var a=t.offsetTop+o.reduce((function(e,t){return e+t.offsetTop}),0);if(n)r=a;else{var u=a+t.offsetHeight,c=e.scrollTop,l=a+e.clientHeight;u>l?r=u-e.clientHeight:a<c&&(r=a)}return r-=i,Math.max(r,1)}var D=n("f5ea"),_=n("eec4"),w=n("76ac"),E=n("b617"),C=n("f511"),x=n("e343"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-info"},[n("span",{staticClass:"system-text",attrs:{title:e.message.message}},[e._v(e._s(e.message.message))])])},k=[],S={name:"im-system-message",components:{},data:function(){return{}},props:{message:{type:Object,default:function(){return{}}}},methods:{}},F=S,O=(n("f61c"),n("2be6")),M=Object(O["a"])(F,A,k,!1,null,"0c07d8ee",null),T=M.exports,j=d()?"height: calc(100% + 17px);":"height: 100%;",N={name:"im-chat-panel",mixins:[h["a"],f["a"]],components:{Message:x["a"],SystemMessage:T,SearchBox:m["a"]},directives:{focus:{inserted:function(e,t,n){n.componentInstance.focus()}},ariadialog:{inserted:function(e,t,n){var r=n.context,i=r.activeButton,o=new w["a"](e,i,!1),s=["cancel","save"];s.forEach((function(e){r.$once(e,(function(e){e===r.activeTranscript&&o.closeDialog()}))}))}},ariaesc:{inserted:function(e,t,n){var r=n.context,i=r.activeButton,o=new w["a"](e,i,!1),s=["cancel-user-name","save-user-name"];s.forEach((function(e){r.$once(e,(function(e){e===r.activeTranscript&&o.closeDialog()}))}))}},Uid:E["a"]},WRAP_STYLE:j,data:function(){return{useKeyboard:!1,disabledSearch:!0,matchedIndex:-1,jumpLoading:!1,isScrolling:!1,activeIndex:"",activedescendant:null,messageList:[],matchedIndexList:[],matchedActivedescendant:null}},computed:Object(s["a"])(Object(s["a"])({},Object(a["e"])(["chatKeyword","matchedQueryMessageList"])),{},{messages:function(){return this.messageList||[]},originalMessages:function(){return this.$store.state.xmppList||[]}}),provide:function(){return{chatPanel:this}},watch:{activeIndex:function(e){this.activedescendant=e},matchedIndex:function(e){var t=this;e>-1&&this.$nextTick((function(){t.matchedActivedescendant=t.$refs.matchedListItem[e].id}))}},created:function(){this.initMessagePageList()},beforeDestroy:function(){this.pollTimer&&clearTimeout(this.pollTimer)},methods:Object(s["a"])(Object(s["a"])({},Object(a["d"])({setChatMessageQuery:"SET_CHAT_MESSAGE_QUERY",setXmppReady:"SET_XMPP_READY",clearMatchedMessageList:"CLEAR_MATCH_CHAT_MESSAGE_LIST"})),{},{getChatContentRef:function(){return this.$refs.content},handleScrollEnd:function(){var e=this,t=this.messageList,n=this.originalMessages;if(n.length&&!this.jumpLoading){this.jumpLoading=!0;var r=t.length,i=this.originalMessages.slice(r,r+p["a"]);try{var o=this.handleMessage(Object(C["a"])(i));this.messageList=this.messageList.concat(o),this.jumpLoading=!1,this.messageList.length<n.length?this.requestID=requestAnimationFrame((function(){e.handleScrollEnd()})):(this.requestID&&cancelAnimationFrame(this.requestID),this.disabledSearch=!1)}catch(s){this.jumpLoading=!1,console.error(s)}}},initMessagePageList:function(){var e=this;this.messageList=[];var t=this.originalMessages.slice(0,p["a"]);try{var n=this.handleMessage(Object(C["a"])(t));this.messageList=this.messageList.concat(n),this.pollTimer=setTimeout((function(){e.setXmppReady(!0);var t=e.messageList,n=e.originalMessages;t.length<n.length?e.handleScrollEnd():e.disabledSearch=!1}),200)}catch(r){console.error(r)}},getAriaLabel:function(e){var t=(null===e||void 0===e?void 0:e.senderName)+", "+Object(D["a"])(null===e||void 0===e?void 0:e.timeFromMeetingStart)+", "+(null===e||void 0===e?void 0:e.content);return t||""},onQuery:function(e){var t=this;this.clearMatchedMessageList(),this.setChatMessageQuery(e),this.$nextTick((function(){var n=Object(C["a"])(t.matchedQueryMessageList)||[];t.matchedIndexList=n.sort((function(e,t){return e.matchIndex-t.matchIndex}));var r,i=t.matchedIndexList.length;i>0?(Object(D["b"])("Search results in Chat Message, ".concat(i," chat messages found matching: ").concat(e)),t.useKeyboard=!0,t.matchedIndex=0,t.activeIndex=null===(r=t.matchedIndexList[t.matchedIndex])||void 0===r?void 0:r.id,t.adjustView()):(t.useKeyboard=!1,t.matchedIndex=-1)}))},onMouseEnter:function(e,t){if(this.isScrolling)return!1;this.useKeyboard=!1,this.setFocus(t.id)},setFocus:function(e){this.activeIndex=e},onMouseLeave:function(){if(this.isScrolling)return!1;this.useKeyboard=!1,this.activeIndex=""},openMatchedMessage:function(e,t){var n=this.matchedIndexList.find((function(e){return e.id===t}));if(n&&null!==n&&void 0!==n&&n.replyId)for(var r=0;r<e.length;r++){var i=e[r];if(i.id===n.replyId){i.showMessage=!0;break}}},adjustView:function(){var e=this;this.openMatchedMessage(this.messageList,this.activeIndex),this.$nextTick((function(){var t=document.querySelector("#message_".concat(e.activeIndex));t&&y(e.$el.querySelector(".zm-scrollbar__wrap"),t,!0,0,e.$el.clientHeight/2)}))},onSearchKeyDown:function(e){if(this.matchedIndexList.length){this.useKeyboard=!0;var t=e.keyCode,n=_["a"].keys;switch(t){case n.enter:this.activeIndex&&this.adjustView(),e.preventDefault();break;case n.up:this.navigateMatched("prev"),e.preventDefault();break;case n.down:this.navigateMatched("next"),e.preventDefault();break;case n.home:this.navigateMatched("home"),e.preventDefault();break;case n.end:this.navigateMatched("end"),e.preventDefault();break;case n.tab:this.useKeyboard=!1,this.activeIndex="",this.matchedIndex=-1;break}}},getListItemCls:function(e){var t=["chat-list-item"];return e===this.activeIndex&&this.useKeyboard&&t.push("is-keyboard-active"),t.join(" ")},navigateMatched:function(e){var t;switch(e){case"next":this.matchedIndex<this.matchedIndexList.length-1&&this.matchedIndex++;break;case"prev":this.matchedIndex>0&&this.matchedIndex--;break;case"home":this.matchedIndex=0;break;case"end":this.matchedIndex=this.matchedIndexList.length-1;break}this.activeIndex=null===(t=this.matchedIndexList[this.matchedIndex])||void 0===t?void 0:t.id,this.adjustView()},isRevoked:function(e){var t=e.deleted;return t},hasReplies:function(e){var t=e.commentTotal,n=e.comments;return!!(t||Array.isArray(n)&&n.length)},isInfo:function(e){var t=e.messageType;return t===p["e"].info},needAvatar:function(e,t){var n=this.messages.findIndex((function(e){var t=e.messageType;return t!==p["e"].info})),r=t===n,i="edit"===e.operType||e.edited;if(r||i||this.isRevoked(e)||this.hasReplies(e))return!0;var o=this.messages[t-1];if(this.isRevoked(o)||this.hasReplies(o)||this.isInfo(o))return!0;var s=o.channelJid!==e.channelJid,a=o.senderName!==e.senderName,u=Object(g["a"])(o.time,e.time)>0;return s||u||a},scrollToTop:function(){this.$refs.scrollbar&&this.$refs.scrollbar.scrollToBeginY()},scrollToEnd:function(){this.$refs.scrollbar&&this.$refs.scrollbar.scrollToEndY()}})},B=N,I=(n("6dc2"),Object(O["a"])(B,u,c,!1,null,"24333c37",null)),L=I.exports,R={name:"chat-wrapper",components:{MessageList:L},data:function(){return{}},computed:Object(s["a"])({isLoading:function(){return!this.xmppReady}},Object(a["e"])(["xmppReady"])),provide:function(){return{chat:this}}},P=R,H=(n("54d7"),Object(O["a"])(P,i,o,!1,null,"c36c8e14",null));t["default"]=H.exports},"232b":function(e,t,n){"use strict";n("83a3")},"258d":function(e,t,n){var r=n("6b1d"),i=n("5428"),o=n("70b7"),s=n("72df"),a=n("2a3e"),u=n("7a25"),c=n("ae5d"),l=n("f776").ctoi,d=/[^\d+/a-z]/i,h=/[\t\n\f\r ]+/g,f=/[=]+$/,p=i("atob"),m=String.fromCharCode,g=o("".charAt),v=o("".replace),y=o(d.exec),b=s((function(){return""!==p(" ")})),D=!s((function(){p("a")})),_=!b&&!D&&!s((function(){p()})),w=!b&&!D&&1!==p.length;r({global:!0,enumerable:!0,forced:b||D||_||w},{atob:function(e){if(c(arguments.length,1),_||w)return p(e);var t,n,r=v(a(e),h,""),o="",s=0,b=0;if(r.length%4==0&&(r=v(r,f,"")),r.length%4==1||y(d,r))throw new(i("DOMException"))("The string is not correctly encoded","InvalidCharacterError");while(t=g(r,s++))u(l,t)&&(n=b%4?64*n+l[t]:l[t],b++%4&&(o+=m(255&n>>(-2*b&6))));return o}})},2741:function(e,t,n){"use strict";var r=n("d4cb"),i=n("72df"),o=n("157c"),s=n("82e8"),a=n("aa4d"),u=Error.prototype.toString,c=i((function(){if(r){var e=s(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==u.call(e))return!0}return"2: 1"!==u.call({message:1,name:2})||"Error"!==u.call({})}));e.exports=c?function(){var e=o(this),t=a(e.name,"Error"),n=a(e.message);return t?n?t+": "+n:t:n}:u},"2bb0":function(e,t,n){"use strict";var r=n("e109"),i=n("de79");n("841a"),n("ef1f"),n("fa8c"),n("2aa5"),n("32f5"),n("62c8"),n("d86f");function o(e){this.j={},this.jr=[],this.jd=null,this.t=e}o.prototype={accepts:function(){return!!this.t},tt:function(e,t){if(t&&t.j)return this.j[e]=t,t;var n=t,r=this.j[e];if(r)return n&&(r.t=n),r;r=s();var i=l(this,e);return i?(Object.assign(r.j,i.j),r.jr.append(i.jr),r.jr=i.jd,r.t=n||i.t):r.t=n,this.j[e]=r,r}};var s=function(){return new o},a=function(e){return new o(e)},u=function(e,t,n){e.j[t]||(e.j[t]=n)},c=function(e,t,n){e.jr.push([t,n])},l=function(e,t){var n=e.j[t];if(n)return n;for(var r=0;r<e.jr.length;r++){var i=e.jr[r][0],o=e.jr[r][1];if(i.test(t))return o}return e.jd},d=function(e,t,n){for(var r=0;r<t.length;r++)u(e,t[r],n)},h=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];u(e,r,i)}},f=function(e,t,n,r){var i,o=0,s=t.length;while(o<s&&(i=e.j[t[o]]))e=i,o++;if(o>=s)return[];while(o<s-1)i=r(),u(e,t[o],i),e=i,o++;u(e,t[s-1],n)},p="DOMAIN",m="LOCALHOST",g="TLD",v="NUM",y="PROTOCOL",b="MAILTO",D="WS",_="NL",w="OPENBRACE",E="OPENBRACKET",C="OPENANGLEBRACKET",x="OPENPAREN",A="CLOSEBRACE",k="CLOSEBRACKET",S="CLOSEANGLEBRACKET",F="CLOSEPAREN",O="AMPERSAND",M="APOSTROPHE",T="ASTERISK",j="AT",N="BACKSLASH",B="BACKTICK",I="CARET",L="COLON",R="COMMA",P="DOLLAR",H="DOT",z="EQUALS",$="EXCLAMATION",U="HYPHEN",q="PERCENT",Y="PIPE",V="PLUS",W="POUND",J="QUERY",K="QUOTE",X="SEMI",G="SLASH",Z="TILDE",Q="UNDERSCORE",ee="SYM",te=Object.freeze({__proto__:null,DOMAIN:p,LOCALHOST:m,TLD:g,NUM:v,PROTOCOL:y,MAILTO:b,WS:D,NL:_,OPENBRACE:w,OPENBRACKET:E,OPENANGLEBRACKET:C,OPENPAREN:x,CLOSEBRACE:A,CLOSEBRACKET:k,CLOSEANGLEBRACKET:S,CLOSEPAREN:F,AMPERSAND:O,APOSTROPHE:M,ASTERISK:T,AT:j,BACKSLASH:N,BACKTICK:B,CARET:I,COLON:L,COMMA:R,DOLLAR:P,DOT:H,EQUALS:z,EXCLAMATION:$,HYPHEN:U,PERCENT:q,PIPE:Y,PLUS:V,POUND:W,QUERY:J,QUOTE:K,SEMI:X,SLASH:G,TILDE:Z,UNDERSCORE:Q,SYM:ee}),ne="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermögensberater-ctb vermögensberatung-pwb ελ ευ бг бел дети ею католик ком қаз мкд мон москва онлайн орг рус рф сайт срб укр გე հայ ישראל קום ابوظبي اتصالات ارامكو الاردن البحرين الجزائر السعودية العليان المغرب امارات ایران بارت بازار بھارت بيتك پاکستان ڀارت تونس سودان سورية شبكة عراق عرب عمان فلسطين قطر كاثوليك كوم مصر مليسيا موريتانيا موقع همراه कॉम नेट भारत भारतम् भारोत संगठन বাংলা ভারত ভাৰত ਭਾਰਤ ભારત ଭାରତ இந்தியா இலங்கை சிங்கப்பூர் భారత్ ಭಾರತ ഭാരതം ලංකා คอม ไทย ລາວ 닷넷 닷컴 삼성 한국 アマゾン グーグル クラウド コム ストア セール ファッション ポイント みんな 世界 中信 中国 中國 中文网 亚马逊 企业 佛山 信息 健康 八卦 公司 公益 台湾 台灣 商城 商店 商标 嘉里 嘉里大酒店 在线 大众汽车 大拿 天主教 娱乐 家電 广东 微博 慈善 我爱你 手机 招聘 政务 政府 新加坡 新闻 时尚 書籍 机构 淡马锡 游戏 澳門 点看 移动 组织机构 网址 网店 网站 网络 联通 诺基亚 谷歌 购物 通販 集团 電訊盈科 飞利浦 食品 餐厅 香格里拉 香港".split(" "),re=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,ie=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,oe=/\uFE0F/,se=/\d/,ae=/\s/;function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s(),n=a(v),r=a(p),i=s(),o=a(D),l=[[se,r],[re,r],[ie,r],[oe,r]],d=function(){var e=a(p);return e.j={"-":i},e.jr=[].concat(l),e},te=function(e){var t=d();return t.t=e,t};h(t,[["'",a(M)],["{",a(w)],["[",a(E)],["<",a(C)],["(",a(x)],["}",a(A)],["]",a(k)],[">",a(S)],[")",a(F)],["&",a(O)],["*",a(T)],["@",a(j)],["`",a(B)],["^",a(I)],[":",a(L)],[",",a(R)],["$",a(P)],[".",a(H)],["=",a(z)],["!",a($)],["-",a(U)],["%",a(q)],["|",a(Y)],["+",a(V)],["#",a(W)],["?",a(J)],['"',a(K)],["/",a(G)],[";",a(X)],["~",a(Z)],["_",a(Q)],["\\",a(N)]]),u(t,"\n",a(_)),c(t,ae,o),u(o,"\n",s()),c(o,ae,o);for(var ue=0;ue<ne.length;ue++)f(t,ne[ue],te(g),d);var ce=d(),le=d(),de=d(),he=d();f(t,"file",ce,d),f(t,"ftp",le,d),f(t,"http",de,d),f(t,"mailto",he,d);var fe=d(),pe=a(y),me=a(b);u(le,"s",fe),u(le,":",pe),u(de,"s",fe),u(de,":",pe),u(ce,":",pe),u(fe,":",pe),u(he,":",me);for(var ge=d(),ve=0;ve<e.length;ve++)f(t,e[ve],ge,d);return u(ge,":",pe),f(t,"localhost",te(m),d),c(t,se,n),c(t,re,r),c(t,ie,r),c(t,oe,r),c(n,se,n),c(n,re,r),c(n,ie,r),c(n,oe,r),u(n,"-",i),u(r,"-",i),u(i,"-",i),c(r,se,r),c(r,re,r),c(r,ie,r),c(r,oe,r),c(i,se,r),c(i,re,r),c(i,ie,r),c(i,oe,r),t.jd=a(ee),t}function ce(e,t){var n=le(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),r=n.length,i=[],o=0,s=0;while(s<r){var a=e,u=null,c=0,d=null,h=-1,f=-1;while(s<r&&(u=l(a,n[s])))a=u,a.accepts()?(h=0,f=0,d=a):h>=0&&(h+=n[s].length,f++),c+=n[s].length,o+=n[s].length,s++;o-=h,s-=f,c-=h,i.push({t:d.t,v:t.substr(o-c,c),s:o-c,e:o})}return i}function le(e){var t=[],n=e.length,r=0;while(r<n){var i=e.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function de(e){return de="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}var he={defaultProtocol:"http",events:null,format:pe,formatHref:pe,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function fe(e){e=e||{},this.defaultProtocol="defaultProtocol"in e?e.defaultProtocol:he.defaultProtocol,this.events="events"in e?e.events:he.events,this.format="format"in e?e.format:he.format,this.formatHref="formatHref"in e?e.formatHref:he.formatHref,this.nl2br="nl2br"in e?e.nl2br:he.nl2br,this.tagName="tagName"in e?e.tagName:he.tagName,this.target="target"in e?e.target:he.target,this.rel="rel"in e?e.rel:he.rel,this.validate="validate"in e?e.validate:he.validate,this.truncate="truncate"in e?e.truncate:he.truncate,this.className="className"in e?e.className:he.className,this.attributes=e.attributes||he.attributes,this.ignoreTags=[];for(var t=("ignoreTags"in e?e.ignoreTags:he.ignoreTags),n=0;n<t.length;n++)this.ignoreTags.push(t[n].toUpperCase())}function pe(e){return e}fe.prototype={resolve:function(e){var t=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",t,e),tagName:this.get("tagName",t,e),className:this.get("className",t,e),target:this.get("target",t,e),rel:this.get("rel",t,e),events:this.getObject("events",t,e),attributes:this.getObject("attributes",t,e),truncate:this.get("truncate",t,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r,i=this[e];if(!i)return i;switch(de(i)){case"function":return i(t,n.t);case"object":return r=n.t in i?i[n.t]:he[e],"function"===typeof r?r(t,n.t):r}return i},getObject:function(e,t,n){var r=this[e];return"function"===typeof r?r(t,n.t):r}};function me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r.constructor=t,t.prototype=r,t}function ge(){}function ve(e,t){function n(t,n){this.t=e,this.v=t,this.tk=n}return me(ge,n,t),n}ge.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};var ye=ve("email",{isLink:!0}),be=ve("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),De=ve("text"),_e=ve("nl"),we=ve("url",{isLink:!0,toHref:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he.defaultProtocol,t=this.tk,n=!1,r=!1,i=[],o=0;while(t[o].t===y)n=!0,i.push(t[o].v),o++;while(t[o].t===G)r=!0,i.push(t[o].v),o++;for(;o<t.length;o++)i.push(t[o].v);return i=i.join(""),n||r||(i="".concat(e,"://").concat(i)),i},hasProtocol:function(){return this.tk[0].t===y}}),Ee=Object.freeze({__proto__:null,MultiToken:ge,Base:ge,createTokenClass:ve,MailtoEmail:ye,Email:be,Text:De,Nl:_e,Url:we});function Ce(){var e=s(),t=s(),n=s(),r=s(),i=s(),o=s(),c=s(),l=a(we),h=s(),f=a(we),D=a(we),te=s(),ne=s(),re=s(),ie=s(),oe=s(),se=a(we),ae=a(we),ue=a(we),ce=a(we),le=s(),de=s(),he=s(),fe=s(),pe=s(),me=s(),ge=a(be),ve=s(),De=a(be),Ee=a(ye),Ce=s(),xe=s(),Ae=s(),ke=s(),Se=a(_e);u(e,_,Se),u(e,y,t),u(e,b,n),u(t,G,r),u(r,G,i),u(e,g,o),u(e,p,o),u(e,m,l),u(e,v,o),u(i,g,D),u(i,p,D),u(i,v,D),u(i,m,D),u(o,H,c),u(pe,H,me),u(c,g,l),u(c,p,o),u(c,v,o),u(c,m,o),u(me,g,ge),u(me,p,pe),u(me,v,pe),u(me,m,pe),u(l,H,c),u(ge,H,me),u(l,L,h),u(l,G,D),u(h,v,f),u(f,G,D),u(ge,L,ve),u(ve,v,De);var Fe=[O,T,j,N,B,I,P,p,z,U,m,v,q,Y,V,W,y,G,ee,Z,g,Q],Oe=[M,S,A,k,F,L,R,H,$,C,w,E,x,J,K,X];u(D,w,ne),u(D,E,re),u(D,C,ie),u(D,x,oe),u(te,w,ne),u(te,E,re),u(te,C,ie),u(te,x,oe),u(ne,A,D),u(re,k,D),u(ie,S,D),u(oe,F,D),u(se,A,D),u(ae,k,D),u(ue,S,D),u(ce,F,D),u(le,A,D),u(de,k,D),u(he,S,D),u(fe,F,D),d(ne,Fe,se),d(re,Fe,ae),d(ie,Fe,ue),d(oe,Fe,ce),d(ne,Oe,le),d(re,Oe,de),d(ie,Oe,he),d(oe,Oe,fe),d(se,Fe,se),d(ae,Fe,ae),d(ue,Fe,ue),d(ce,Fe,ce),d(se,Oe,se),d(ae,Oe,ae),d(ue,Oe,ue),d(ce,Oe,ce),d(le,Fe,se),d(de,Fe,ae),d(he,Fe,ue),d(fe,Fe,ce),d(le,Oe,le),d(de,Oe,de),d(he,Oe,he),d(fe,Oe,fe),d(D,Fe,D),d(te,Fe,D),d(D,Oe,te),d(te,Oe,te),u(n,g,Ee),u(n,p,Ee),u(n,v,Ee),u(n,m,Ee),d(Ee,Fe,Ee),d(Ee,Oe,Ce),d(Ce,Fe,Ee),d(Ce,Oe,Ce);var Me=[O,M,T,N,B,I,A,P,p,z,U,v,w,q,Y,V,W,J,G,ee,Z,g,Q];return d(o,Me,xe),u(o,j,Ae),d(l,Me,xe),u(l,j,Ae),d(c,Me,xe),d(xe,Me,xe),u(xe,j,Ae),u(xe,H,ke),d(ke,Me,xe),u(Ae,g,pe),u(Ae,p,pe),u(Ae,v,pe),u(Ae,m,ge),e}function xe(e,t,n){var r=n.length,i=0,o=[],s=[];while(i<r){var a=e,u=null,c=null,d=0,h=null,f=-1;while(i<r&&!(u=l(a,n[i].t)))s.push(n[i++]);while(i<r&&(c=u||l(a,n[i].t)))u=null,a=c,a.accepts()?(f=0,h=a):f>=0&&f++,i++,d++;if(f<0)for(var p=i-d;p<i;p++)s.push(n[p]);else{s.length>0&&(o.push(Ae(De,t,s)),s=[]),i-=f,d-=f;var m=h.t,g=n.slice(i-d,i);o.push(Ae(m,t,g))}}return s.length>0&&o.push(Ae(De,t,s)),o}function Ae(e,t,n){var r=n[0].s,i=n[n.length-1].e,o=t.substr(r,i-r);return new e(o,n)}var ke="undefined"!==typeof console&&console&&console.warn||function(){},Se={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function Fe(){Se.scanner=null,Se.parser=null,Se.pluginQueue=[],Se.customProtocols=[],Se.initialized=!1}function Oe(e){if(Se.initialized&&ke('linkifyjs: already initialized - will not register custom protocol "'.concat(e,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(e))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Se.customProtocols.push(e)}function Me(){Se.scanner={start:ue(Se.customProtocols),tokens:te},Se.parser={start:Ce(),tokens:Ee};for(var e={createTokenClass:ve},t=0;t<Se.pluginQueue.length;t++)Se.pluginQueue[t][1]({scanner:Se.scanner,parser:Se.parser,utils:e});Se.initialized=!0}function Te(e){return Se.initialized||Me(),xe(Se.parser.start,e,ce(Se.scanner.start,e))}function je(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Te(e),r=[],i=0;i<n.length;i++){var o=n[i];!o.isLink||t&&o.t!==t||r.push(o.toObject())}return r}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Te(e);return 1===n.length&&n[0].isLink&&(!t||n[0].t===t)}var Be={nbsp:" "},Ie=/^#[xX]([A-Fa-f0-9]+)$/,Le=/^#([0-9]+)$/,Re=/^([A-Za-z0-9]+)$/,Pe=function(){function e(e){this.named=e}return e.prototype.parse=function(e){if(e){var t=e.match(Ie);return t?"&#x"+t[1]+";":(t=e.match(Le),t?"&#"+t[1]+";":(t=e.match(Re),t?this.named[t[1]]||"&"+t[1]+";":void 0))}},e}(),He=/[\t\n\f ]/,ze=/[A-Za-z]/,$e=/\r\n?/g;function Ue(e){return He.test(e)}function qe(e){return ze.test(e)}function Ye(e){return e.replace($e,"\n")}var Ve=function(){function e(e,t,n){void 0===n&&(n="precompile"),this.delegate=e,this.entityParser=t,this.mode=n,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var e=this.peek();if("<"!==e||this.isIgnoredEndTag()){if("precompile"===this.mode&&"\n"===e){var t=this.tagNameBuffer.toLowerCase();"pre"!==t&&"textarea"!==t||this.consume()}this.transitionTo("data"),this.delegate.beginData()}else this.transitionTo("tagOpen"),this.markTagStart(),this.consume()},data:function(){var e=this.peek(),t=this.tagNameBuffer;"<"!==e||this.isIgnoredEndTag()?"&"===e&&"script"!==t&&"style"!==t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e)):(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume())},tagOpen:function(){var e=this.consume();"!"===e?this.transitionTo("markupDeclarationOpen"):"/"===e?this.transitionTo("endTagOpen"):("@"===e||":"===e||qe(e))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(e))},markupDeclarationOpen:function(){var e=this.consume();if("-"===e&&"-"===this.peek())this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();"DOCTYPE"===t&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var e=this.consume();Ue(e)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var e=this.consume();Ue(e)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase()))},doctypeName:function(){var e=this.consume();Ue(e)?this.transitionTo("afterDoctypeName"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(e.toLowerCase())},afterDoctypeName:function(){var e=this.consume();if(!Ue(e))if(">"===e)this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var t=e.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),n="PUBLIC"===t.toUpperCase(),r="SYSTEM"===t.toUpperCase();(n||r)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),n?this.transitionTo("afterDoctypePublicKeyword"):r&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var e=this.peek();Ue(e)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):'"'===e?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):"'"===e?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):">"===e&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},doctypePublicIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypePublicIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(e)},afterDoctypePublicIdentifier:function(){var e=this.consume();Ue(e)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var e=this.consume();Ue(e)||(">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===e?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===e&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var e=this.consume();'"'===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},doctypeSystemIdentifierSingleQuoted:function(){var e=this.consume();"'"===e?this.transitionTo("afterDoctypeSystemIdentifier"):">"===e?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(e)},afterDoctypeSystemIdentifier:function(){var e=this.consume();Ue(e)||">"===e&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var e=this.consume();"-"===e?this.transitionTo("commentStartDash"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(e),this.transitionTo("comment"))},commentStartDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var e=this.consume();"-"===e?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+e),this.transitionTo("comment"))},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+e),this.transitionTo("comment"))},tagName:function(){var e=this.consume();Ue(e)?this.transitionTo("beforeAttributeName"):"/"===e?this.transitionTo("selfClosingStartTag"):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(e)},endTagName:function(){var e=this.consume();Ue(e)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):"/"===e?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):">"===e?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();Ue(e)?this.consume():"/"===e?(this.transitionTo("selfClosingStartTag"),this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):"="===e?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var e=this.peek();Ue(e)?(this.transitionTo("afterAttributeName"),this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.transitionTo("beforeAttributeValue"),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):'"'===e||"'"===e||"<"===e?(this.delegate.reportSyntaxError(e+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(e)):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();Ue(e)?this.consume():"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===e?(this.consume(),this.transitionTo("beforeAttributeValue")):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();Ue(e)?this.consume():'"'===e?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();Ue(e)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();Ue(e)?(this.consume(),this.transitionTo("beforeAttributeName")):"/"===e?(this.consume(),this.transitionTo("selfClosingStartTag")):">"===e?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var e=this.peek();">"===e?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var e=this.consume();("@"===e||":"===e||qe(e))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(e))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(e){this.state=e},e.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},e.prototype.tokenizePart=function(e){this.input+=Ye(e);while(this.index<this.input.length){var t=this.states[this.state];if(void 0===t)throw new Error("unhandled state "+this.state);t.call(this)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){"data"===this.state&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},e.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var t=this.input.slice(this.index,e),n=this.entityParser.parse(t);if(n){var r=t.length;while(r)this.consume(),r--;return this.consume(),n}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},e.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return"title"===e&&"</title>"!==this.input.substring(this.index,this.index+8)||"style"===e&&"</style>"!==this.input.substring(this.index,this.index+8)||"script"===e&&"<\/script>"!==this.input.substring(this.index,this.index+9)},e}(),We=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Ve(this,e,t.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},e.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var e=this.token;if(null===e)throw new Error("token was unexpectedly null");if(0===arguments.length)return e;for(var t=0;t<arguments.length;t++)if(e.type===arguments[t])return e;throw new Error("token type was unexpectedly "+e.type)},e.prototype.push=function(e){this.token=e,this.tokens.push(e)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},e.prototype.appendToDoctypePublicIdentifier=function(e){var t=this.current("Doctype");void 0===t.publicIdentifier?t.publicIdentifier=e:t.publicIdentifier+=e},e.prototype.appendToDoctypeSystemIdentifier=function(e){var t=this.current("Doctype");void 0===t.systemIdentifier?t.systemIdentifier=e:t.systemIdentifier+=e},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(e){this.current("Chars").chars+=e},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},e.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},e.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},e}();function Je(e,t){var n=new We(new Pe(Be),t);return n.tokenize(e)}var Ke=fe,Xe="StartTag",Ge="EndTag",Ze="Chars",Qe="Comment",et="Doctype";function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Je(e),r=[],i=[];t=new Ke(t);for(var o=0;o<n.length;o++){var s=n[o];if(s.type!==Xe)if(s.type===Ze){var a=nt(s.chars,t);r.push.apply(r,a)}else r.push(s);else{r.push(s);var u=s.tagName.toUpperCase(),c="A"===u||t.ignoreTags.indexOf(u)>=0;if(!c)continue;var l=r.length;rt(u,n,++o,r),o+=r.length-l-1}}for(var d=0;d<r.length;d++){var h=r[d];switch(h.type){case Xe:var f="<"+h.tagName;if(h.attributes.length>0){var p=st(h.attributes);f+=" "+p.join(" ")}f+=">",i.push(f);break;case Ge:i.push("</".concat(h.tagName,">"));break;case Ze:i.push(it(h.chars));break;case Qe:i.push("\x3c!--".concat(it(h.chars),"--\x3e"));break;case et:var m="<!DOCTYPE ".concat(h.name);h.publicIdentifier&&(m+=' PUBLIC "'.concat(h.publicIdentifier,'"')),h.systemIdentifier&&(m+=' "'.concat(h.systemIdentifier,'"')),m+=">",i.push(m);break}}return i.join("")}function nt(e,t){for(var n=Te(e),r=[],i=0;i<n.length;i++){var o=n[i];if("nl"===o.t&&t.nl2br)r.push({type:Xe,tagName:"br",attributes:[],selfClosing:!0});else if(o.isLink&&t.check(o)){var s=t.resolve(o),a=s.formatted,u=s.formattedHref,c=s.tagName,l=s.className,d=s.target,h=s.rel,f=s.attributes,p=s.truncate,m=[["href",u]];for(var g in l&&m.push(["class",l]),d&&m.push(["target",d]),h&&m.push(["rel",h]),p&&a.length>p&&(a=a.substring(0,p)+"…"),f)m.push([g,f[g]]);r.push({type:Xe,tagName:c,attributes:m,selfClosing:!1}),r.push({type:Ze,chars:a}),r.push({type:Ge,tagName:c})}else r.push({type:Ze,chars:o.toString()})}return r}function rt(e,t,n,r){var i=1;while(n<t.length&&i>0){var o=t[n];o.type===Xe&&o.tagName.toUpperCase()===e?i++:o.type===Ge&&o.tagName.toUpperCase()===e&&i--,r.push(o),n++}return r}function it(e){return e}function ot(e){return e.replace(/"/g,"&quot;")}function st(e){for(var t=[],n=0;n<e.length;n++){var r=e[n][0],i=e[n][1];t.push("".concat(r,'="').concat(ot(i),'"'))}return t}var at=n("9ce4"),ut=n("5bd4"),ct=n("45ce"),lt={};var dt=n("32a0");function ht(e){this.content=e}ht.prototype={constructor:ht,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return-1==i?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new ht(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new ht(n)},addToStart:function(e,t){return new ht([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new ht(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(-1==o?i.length:o,0,t,n),new ht(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=ht.from(e),e.size?new ht(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=ht.from(e),e.size?new ht(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=ht.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},ht.from=function(e){if(e instanceof ht)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new ht(t)};var ft=ht;function pt(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let e=0;i.text[e]==o.text[e];e++)n++;return n}if(i.content.size||o.content.size){let e=pt(i.content,o.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function mt(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),u=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);while(e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1])e++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let e=mt(s.content,a.content,n-1,r-1);if(e)return e}n-=u,r-=u}else n-=u,r-=u}}class gt{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,i){for(let o=0,s=0;s<t;o++){let a=this.content[o],u=s+a.nodeSize;if(u>e&&!1!==n(a,r+s,i||null,o)&&a.content.size){let i=s+1;a.nodesBetween(Math.max(0,e-i),Math.min(a.content.size,t-i),n,r+i)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,(s,a)=>{s.isText?(i+=s.text.slice(Math.max(e,a)-a,t-a),o=!n):s.isLeaf?(r?i+="function"===typeof r?r(s):r:s.type.spec.leafText&&(i+=s.type.spec.leafText(s)),o=!n):!o&&s.isBlock&&(i+=n,o=!0)},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new gt(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let s=this.content[i],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),r+=s.nodeSize),o=a}return new gt(n,r)}cutByIndex(e,t){return e==t?gt.empty:0==e&&t==this.content.length?this:new gt(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new gt(r,i)}addToStart(e){return new gt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new gt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return pt(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return mt(this,e,t,n)}findIndex(e,t=-1){if(0==e)return yt(0,e);if(e==this.size)return yt(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e||t>0?yt(n+1,o):yt(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return gt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new gt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return gt.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new gt(t||e,n)}static from(e){if(!e)return gt.empty;if(e instanceof gt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new gt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}gt.empty=new gt([],0);const vt={index:0,offset:0};function yt(e,t){return vt.index=e,vt.offset=t,vt}function bt(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!bt(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!bt(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Dt{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&bt(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Dt.none;if(e instanceof Dt)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}Dt.none=[];class _t extends Error{}class wt{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Ct(this.content,e+this.openStart,t);return n&&new wt(n,this.openStart,this.openEnd)}removeBetween(e,t){return new wt(Et(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return wt.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new wt(gt.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new wt(e,n,r)}}function Et(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(Et(o.content,t-i-1,n-i-1)))}function Ct(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=Ct(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function xt(e,t,n){if(n.openStart>e.depth)throw new _t("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new _t("Inconsistent open depths");return At(e,t,n,0)}function At(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=At(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:s}=Nt(n,e);return Mt(o,Tt(e,i,s,t,r))}{let r=e.parent,i=r.content;return Mt(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return Mt(o,jt(e,t,r))}function kt(e,t){if(!t.type.compatibleContent(e.type))throw new _t("Cannot join "+t.type.name+" onto "+e.type.name)}function St(e,t,n){let r=e.node(n);return kt(r,t.node(n)),r}function Ft(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Ot(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Ft(e.nodeAfter,r),o++));for(let a=o;a<s;a++)Ft(i.child(a),r);t&&t.depth==n&&t.textOffset&&Ft(t.nodeBefore,r)}function Mt(e,t){return e.type.checkContent(t),e.copy(t)}function Tt(e,t,n,r,i){let o=e.depth>i&&St(e,t,i+1),s=r.depth>i&&St(n,r,i+1),a=[];return Ot(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(kt(o,s),Ft(Mt(o,Tt(e,t,n,r,i+1)),a)):(o&&Ft(Mt(o,jt(e,t,i+1)),a),Ot(t,n,i,a),s&&Ft(Mt(s,jt(n,r,i+1)),a)),Ot(r,null,i,a),new gt(a)}function jt(e,t,n){let r=[];if(Ot(null,e,n,r),e.depth>n){let i=St(e,t,n+1);Ft(Mt(i,jt(e,t,n+1)),r)}return Ot(t,null,n,r),new gt(r)}function Nt(e,t){let n=t.depth-e.openStart,r=t.node(n),i=r.copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(gt.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}wt.empty=new wt(gt.empty,0,0);class Bt{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let i=0;i<e;i++)r+=n.child(i).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Dt.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Pt(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let o=e;;){let{index:e,offset:t}=o.content.findIndex(i),s=i-t;if(n.push(o,e,r+t),!s)break;if(o=o.child(e),o.isText)break;i=s-1,r+=t+1}return new Bt(t,n,i)}static resolveCached(e,t){for(let r=0;r<It.length;r++){let n=It[r];if(n.pos==t&&n.doc==e)return n}let n=It[Lt]=Bt.resolve(e,t);return Lt=(Lt+1)%Rt,n}}let It=[],Lt=0,Rt=12;class Pt{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ht=Object.create(null);class zt{constructor(e,t,n,r=Dt.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||gt.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&bt(this.attrs,t||e.defaultAttrs||Ht)&&Dt.sameSet(this.marks,n||Dt.none)}copy(e=null){return e==this.content?this:new zt(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new zt(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return wt.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),s=r.start(o),a=r.node(o),u=a.content.cut(r.pos-s,i.pos-s);return new wt(u,r.depth-o,i.depth-o)}replace(e,t,n){return xt(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return Bt.resolveCached(this,e)}resolveNoCache(e){return Bt.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ut(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=gt.empty,r=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Dt.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Dt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=gt.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}zt.prototype.text=void 0;class $t extends zt{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ut(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new $t(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new $t(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Ut(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class qt{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new Yt(e,t);if(null==n.next)return qt.empty;let r=Vt(n);n.next&&n.err("Unexpected trailing text");let i=nn(Qt(r));return rn(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function i(o,s){let a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return gt.from(s.map(e=>e.createAndFill()));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,s.concat(t));if(e)return e}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:s}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!s.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}return t(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let i=0;i<t.next.length;i++)r+=(i?", ":"")+t.next[i].type.name+"->"+e.indexOf(t.next[i].next);return r}).join("\n")}}qt.empty=new qt(!0);class Yt{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Vt(e){let t=[];do{t.push(Wt(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Wt(e){let t=[];do{t.push(Jt(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function Jt(e){let t=Zt(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=Xt(e,t)}return t}function Kt(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Xt(e,t){let n=Kt(e),r=n;return e.eat(",")&&(r="}"!=e.next?Kt(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Gt(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let e=n[o];e.groups.indexOf(t)>-1&&i.push(e)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}function Zt(e){if(e.eat("(")){let t=Vt(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=Gt(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}function Qt(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach(e=>e.to=t)}function o(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(o(n,t)),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),i(o(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return i(o(e.expr,t),s),i(o(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(o(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();i(o(e.expr,s),t),s=t}if(-1==e.max)i(o(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),i(o(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=o(e.exprs[r],t);if(r==e.exprs.length-1)return s;i(s,t=n())}}}function en(e,t){return t-e}function tn(e,t){let n=[];return r(t),n.sort(en);function r(t){let i=e[t];if(1==i.length&&!i[0].term)return r(i[0].to);n.push(t);for(let e=0;e<i.length;e++){let{term:t,to:o}=i[e];t||-1!=n.indexOf(o)||r(o)}}}function nn(e){let t=Object.create(null);return n(tn(e,0));function n(r){let i=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);tn(e,n).forEach(e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let o=t[r.join(",")]=new qt(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(en);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}}function rn(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(s)&&r.push(s)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function on(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function sn(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function an(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new cn(e[n]);return t}class un{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=an(n.attrs),this.defaultAttrs=on(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qt.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:sn(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zt(this,this.computeAttrs(e),gt.from(t),Dt.setFrom(n))}createChecked(e=null,t,n){return t=gt.from(t),this.checkContent(t),new zt(this,this.computeAttrs(e),t,Dt.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=gt.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(gt.empty,!0);return i?new zt(this,e,t.append(i),Dt.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Dt.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new un(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class cn{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ln{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=an(r.attrs),this.excluded=null;let i=on(this.attrs);this.instance=i?new Dt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Dt(this,sn(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,i)=>n[e]=new ln(e,r++,t,i)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class dn{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=ft.from(e.nodes),t.marks=ft.from(e.marks||{}),this.nodes=un.compile(this.spec.nodes,this),this.marks=ln.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",i=e.spec.marks;e.contentMatch=n[t]||(n[t]=qt.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==i?null:i?hn(this,i.split(" ")):""!=i&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:hn(this,t.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof un))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new $t(n,n.defaultAttrs,e,Dt.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return zt.fromJSON(this,e)}markFromJSON(e){return Dt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function hn(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class fn{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new wn(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new wn(this,t,!0);return n.addAll(e,t.from,t.to),wt.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(Cn(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r],i=null==e.priority?50:e.priority;if(i<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=An(e)),e.mark=r})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=An(e)),e.node=r})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new fn(e,fn.schemaRules(e)))}}const pn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mn={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gn={ol:!0,ul:!0},vn=1,yn=2,bn=4;function Dn(e,t,n){return null!=t?(t?vn:0)|("full"===t?yn:0):e&&"pre"==e.whitespace?vn|yn:n&~bn}class _n{constructor(e,t,n,r,i,o,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Dt.none,this.stashMarks=[],this.match=o||(s&bn?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(gt.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&vn)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=gt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(gt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):kn(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pn.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class wn{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,i=t.topNode,o=Dn(null,t.preserveWhitespace,0)|(n?bn:0);r=i?new _n(i.type,i.attrs,Dt.none,Dt.none,!0,t.topMatch||i.type.contentMatch,o):new _n(n?null:e.schema.topNodeType,null,Dt.none,Dt.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(xn(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&yn||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&vn)t=n.options&yn?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();gn.hasOwnProperty(r)&&this.parser.normalizeLists&&En(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:mn.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let t,n=this.top,o=this.needsBlock;if(pn.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=o}else this.addElementByRule(e,i,!1===i.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Dt.none;e:for(let n=0;n<e.length;n+=2)for(let r=void 0;;){let i=this.parser.matchStyle(e[n],e[n+1],this,r);if(!i)continue e;if(i.ignore)return null;if(t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;r=i}return t}addElementByRule(e,t,n){let r,i,o;if(t.node)i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace);else{let e=this.parser.schema.marks[t.mark];o=e.create(t.attrs),this.addPendingMark(o)}let s=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}addAll(e,t,n){let r=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(let r=0;r<t.length;r++)this.enterInner(t[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=Dn(e,r,i.options);i.options&bn&&0==i.content.length&&(o|=bn),this.nodes.push(new _n(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){let e=t.compareDocumentPosition(this.find[r].node);e&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=i;s--)if(o(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;s--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(e){let t=Sn(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n],i=r.pendingMarks.lastIndexOf(e);if(i>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function En(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&gn.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}function Cn(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function xn(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(t=n.exec(e))r.push(t[1],t[2].trim());return r}function An(e){let t={};for(let n in e)t[n]=e[n];return t}function kn(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&s(i))return!0}};if(s(i.contentMatch))return!0}}function Sn(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Fn{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Mn(t).createDocumentFragment());let r=n,i=[];return e.forEach(e=>{if(i.length||e.marks.length){let n=0,o=0;while(n<i.length&&o<e.marks.length){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}while(n<i.length)r=i.pop()[1];while(o<e.marks.length){let n=e.marks[o++],s=this.serializeMark(n,e.isInline,t);s&&(i.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Fn.renderSpec(Mn(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Fn.renderSpec(Mn(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let s=n?e.createElementNS(n,i):e.createElement(i),a=t[1],u=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){u=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):s.setAttribute(e,a[e])}}for(let c=u;c<t.length;c++){let i=t[c];if(0===i){if(c<t.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:o}=Fn.renderSpec(e,i,n);if(s.appendChild(t),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Fn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=On(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return On(e.marks)}}function On(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Mn(e){return e.document||window.document}const Tn=65535,jn=Math.pow(2,16);function Nn(e,t){return e+t*jn}function Bn(e){return e&Tn}function In(e){return(e-(e&Tn))/jn}const Ln=1,Rn=2,Pn=4,Hn=8;class zn{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Hn)>0}get deletedBefore(){return(this.delInfo&(Ln|Pn))>0}get deletedAfter(){return(this.delInfo&(Rn|Pn))>0}get deletedAcross(){return(this.delInfo&Pn)>0}}class $n{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&$n.empty)return $n.empty}recover(e){let t=0,n=Bn(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+In(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[s+i],c=this.ranges[s+o],l=a+u;if(e<=l){let i=u?e==a?-1:e==l?1:t:t,o=a+r+(i<0?0:c);if(n)return o;let d=e==(t<0?a:l)?null:Nn(s/3,e-a),h=e==a?Rn:e==l?Ln:Pn;return(t<0?e!=a:e!=l)&&(h|=Hn),new zn(o,h,d)}r+=c-u}return n?e+r:new zn(e+r,0,null)}touches(e,t){let n=0,r=Bn(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let a=this.ranges[s+i],u=t+a;if(e<=u&&s==3*r)return!0;n+=this.ranges[s+o]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),u=this.ranges[r+t],c=this.ranges[r+n];e(s,s+u,a,a+c),i+=c-u}}invert(){return new $n(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?$n.empty:new $n(e<0?[0,-e,0]:[0,0,e])}}$n.empty=new $n([]);class Un{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new Un(this.maps,this.mirror,e,t)}copy(){return new Un(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Un;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i],o=n.mapResult(e,t);if(null!=o.recover){let t=this.getMirror(i);if(null!=t&&t>i&&t<this.to){i=t,e=this.maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new zn(e,r,null)}}const qn=Object.create(null);class Yn{getMap(){return $n.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=qn[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in qn)throw new RangeError("Duplicate use of step JSON ID "+e);return qn[e]=t,t.prototype.jsonID=e,t}}class Vn{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Vn(e,null)}static fail(e){return new Vn(null,e)}static fromReplace(e,t,n,r){try{return Vn.ok(e.replace(t,n,r))}catch(i){if(i instanceof _t)return Vn.fail(i.message);throw i}}}function Wn(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(Wn(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return gt.fromArray(r)}class Jn extends Yn{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new wt(Wn(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return Vn.fromReplace(e,this.from,this.to,i)}invert(){return new Kn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Jn(t.pos,n.pos,this.mark)}merge(e){return e instanceof Jn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Jn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Jn(t.from,t.to,e.markFromJSON(t.mark))}}Yn.jsonID("addMark",Jn);class Kn extends Yn{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new wt(Wn(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return Vn.fromReplace(e,this.from,this.to,n)}invert(){return new Jn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Kn(t.pos,n.pos,this.mark)}merge(e){return e instanceof Kn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Kn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Kn(t.from,t.to,e.markFromJSON(t.mark))}}Yn.jsonID("removeMark",Kn);class Xn extends Yn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Vn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Vn.fromReplace(e,this.pos,this.pos+1,new wt(gt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Xn(this.pos,t.marks[n]);return new Xn(this.pos,this.mark)}}return new Gn(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xn(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Xn(t.pos,e.markFromJSON(t.mark))}}Yn.jsonID("addNodeMark",Xn);class Gn extends Yn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Vn.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Vn.fromReplace(e,this.pos,this.pos+1,new wt(gt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Xn(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Gn(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Gn(t.pos,e.markFromJSON(t.mark))}}Yn.jsonID("removeNodeMark",Gn);class Zn extends Yn{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&er(e,this.from,this.to)?Vn.fail("Structure replace would overwrite content"):Vn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $n([this.from,this.to-this.from,this.slice.size])}invert(e){return new Zn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Zn(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Zn)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?wt.empty:new wt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Zn(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?wt.empty:new wt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Zn(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Zn(t.from,t.to,wt.fromJSON(e,t.slice),!!t.structure)}}Yn.jsonID("replace",Zn);class Qn extends Yn{constructor(e,t,n,r,i,o,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=s}apply(e){if(this.structure&&(er(e,this.from,this.gapFrom)||er(e,this.gapTo,this.to)))return Vn.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Vn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Vn.fromReplace(e,this.from,this.to,n):Vn.fail("Content does not fit in gap")}getMap(){return new $n([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Qn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new Qn(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qn(t.from,t.to,t.gapFrom,t.gapTo,wt.fromJSON(e,t.slice),t.insert,!!t.structure)}}function er(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;while(i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));while(i>0){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function tr(e,t,n,r){let i,o,s=[],a=[];e.doc.nodesBetween(t,n,(e,u,c)=>{if(!e.isInline)return;let l=e.marks;if(!r.isInSet(l)&&c.type.allowsMarkType(r.type)){let c=Math.max(u,t),d=Math.min(u+e.nodeSize,n),h=r.addToSet(l);for(let e=0;e<l.length;e++)l[e].isInSet(h)||(i&&i.to==c&&i.mark.eq(l[e])?i.to=d:s.push(i=new Kn(c,d,l[e])));o&&o.to==c?o.to=d:a.push(o=new Jn(c,d,r))}}),s.forEach(t=>e.step(t)),a.forEach(t=>e.step(t))}function nr(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(e,s)=>{if(!e.isInline)return;o++;let a=null;if(r instanceof ln){let t,n=e.marks;while(t=r.isInSet(n))(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,u=a[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==o-1&&u.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=o):i.push({style:u,from:Math.max(s,t),to:r,step:o})}}}),i.forEach(t=>e.step(new Kn(t.from,t.to,t.style)))}function rr(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],s=t+1;for(let a=0;a<i.childCount;a++){let t=i.child(a),u=s+t.nodeSize,c=r.matchType(t.type);if(c){r=c;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new Kn(s,u,t.marks[r]))}else o.push(new Zn(s,u,wt.empty));s=u}if(!r.validEnd){let t=r.fillBefore(gt.empty,!0);e.replace(s,s,new wt(t,0,0))}for(let a=o.length-1;a>=0;a--)e.step(o[a])}function ir(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function or(e){let t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let t=e.$from.node(r),i=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&t.canReplace(i,o,n))return r;if(0==r||t.type.spec.isolating||!ir(t,i,o))break}return null}function sr(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),u=s,c=a,l=gt.empty,d=0;for(let p=o,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,l=gt.from(r.node(p).copy(l)),d++):u--;let h=gt.empty,f=0;for(let p=o,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,h=gt.from(i.node(p).copy(h)),f++):c++;e.step(new Qn(u,c,s,a,new wt(l.append(h),d,f),l.size-d,!0))}function ar(e,t,n=null,r=e){let i=cr(e,t),o=i&&lr(r,t);return o?i.map(ur).concat({type:t,attrs:n}).concat(o.map(ur)):null}function ur(e){return{type:e,attrs:null}}function cr(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function lr(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let a=s.length?s[s.length-1]:t,u=a.contentMatch;for(let c=r;u&&c<i;c++)u=u.matchType(n.child(c).type);return u&&u.validEnd?s:null}function dr(e,t,n){let r=gt.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=gt.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new Qn(i,o,i,o,new wt(r,0,0),n.length,!0))}function hr(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,i)&&fr(e.doc,e.mapping.slice(o).map(n),r)){e.clearIncompatible(e.mapping.slice(o).map(n,1),r);let s=e.mapping.slice(o),a=s.map(n,1),u=s.map(n+t.nodeSize,1);return e.step(new Qn(a,u,a+1,u-1,new wt(gt.from(r.create(i,null,t.marks)),0,0),1,!0)),!1}})}function fr(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function pr(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Qn(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new wt(gt.from(s),0,0),1,!0))}function mr(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,l=n-2;c>o;c--,l--){let e=i.node(c),t=i.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),o=r&&r[l]||e;if(o!=e&&(n=n.replaceChild(0,o.type.create(o.attrs))),!e.canReplace(t+1,e.childCount)||!o.type.validContent(n))return!1}let a=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(a,a,u?u.type:i.node(o+1).type)}function gr(e,t,n=1,r){let i=e.doc.resolve(t),o=gt.empty,s=gt.empty;for(let a=i.depth,u=i.depth-n,c=n-1;a>u;a--,c--){o=gt.from(i.node(a).copy(o));let e=r&&r[c];s=gt.from(e?e.type.create(e.attrs,s):i.node(a).copy(s))}e.step(new Zn(t,t,new wt(o.append(s),n,n),!0))}function vr(e,t){let n=e.resolve(t),r=n.index();return yr(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function yr(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function br(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let e,o,s=r.index(i);if(i==r.depth?(e=r.nodeBefore,o=r.nodeAfter):n>0?(e=r.node(i+1),s++,o=r.node(i).maybeChild(s)):(e=r.node(i).maybeChild(s-1),o=r.node(i+1)),e&&!e.isTextblock&&yr(e,o)&&r.node(i).canReplace(s,s+1))return t;if(0==i)break;t=n<0?r.before(i):r.after(i)}}function Dr(e,t,n){let r=new Zn(t-n,t+n,wt.empty,!0);e.step(r)}function _r(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let e=r.index(i);if(r.node(i).canReplaceWith(e,e,n))return r.before(i+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let e=r.indexAfter(i);if(r.node(i).canReplaceWith(e,e,n))return r.after(i+1);if(e<r.node(i).childCount)return null}return null}function wr(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),a=!1;if(1==o)a=s.canReplace(n,n,i);else{let e=s.contentMatchAt(n).findWrapping(i.firstChild.type);a=e&&s.canReplaceWith(n,n,e[0])}if(a)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function Er(e,t,n=t,r=wt.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return Cr(i,o,r)?new Zn(t,n,r):new xr(i,o,r).fit()}function Cr(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Yn.jsonID("replaceAround",Qn);class xr{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=gt.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=gt.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,o=n.depth,s=r.depth;while(o&&s&&1==i.childCount)i=i.firstChild.content,o--,s--;let a=new wt(i,o,s);return e>-1?new Qn(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new Zn(n.pos,r.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,r=null;t?(r=Sr(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;let i=n.firstChild;for(let o=this.depth;o>=0;o--){let n,{type:s,match:a}=this.frontier[o],u=null;if(1==e&&(i?a.matchType(i.type)||(u=a.fillBefore(gt.from(i),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:o,parent:r,inject:u};if(2==e&&i&&(n=a.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:o,parent:r,wrap:n};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Sr(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new wt(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Sr(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new wt(Ar(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new wt(Ar(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){while(this.depth>t)this.closeFrontierNode();if(i)for(let p=0;p<i.length;p++)this.openFrontierNode(i[p]);let o=this.unplaced,s=n?n.content:o.content,a=o.openStart-e,u=0,c=[],{match:l,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));l=l.matchFragment(r)}let h=s.size+e-(o.content.size-o.openEnd);while(u<s.childCount){let e=s.child(u),t=l.matchType(e.type);if(!t)break;u++,(u>1||0==a||e.content.size)&&(l=t,c.push(Fr(e.mark(d.allowedMarks(e.marks)),1==u?a:0,u==s.childCount?h:-1)))}let f=u==s.childCount;f||(h=-1),this.placed=kr(this.placed,t,gt.from(c)),this.frontier[t].match=l,f&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,m=s;p<h;p++){let e=m.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),m=e.content}this.unplaced=f?0==e?wt.empty:new wt(Ar(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new wt(Ar(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Or(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Or(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=Or(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;while(this.depth>t.depth)this.closeFrontierNode();t.fit.childCount&&(this.placed=kr(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=kr(this.placed,this.depth,gt.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop(),t=e.match.fillBefore(gt.empty,!0);t.childCount&&(this.placed=kr(this.placed,this.frontier.length,t))}}function Ar(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Ar(e.firstChild.content,t-1,n)))}function kr(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(kr(e.lastChild.content,t-1,n)))}function Sr(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Fr(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Fr(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(gt.empty,!0)))),e.copy(r)}function Or(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!Mr(n,o.content,s)?a:null}function Mr(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Tr(e){return e.spec.defining||e.spec.definingForContent}function jr(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(Cr(i,o,r))return e.step(new Zn(t,n,r));let s=Lr(i,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let e=i.node(h).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==f&&s.splice(1,0,-h)}let u=s.indexOf(a),c=[],l=r.openStart;for(let h=r.content,f=0;;f++){let e=h.firstChild;if(c.push(e),f==r.openStart)break;h=e.content}for(let h=l-1;h>=0;h--){let e=c[h].type,t=Tr(e);if(t&&i.node(u).type!=e)l=h;else if(t||!e.isTextblock)break}for(let h=r.openStart;h>=0;h--){let t=(h+l+1)%(r.openStart+1),a=c[t];if(a)for(let c=0;c<s.length;c++){let l=s[(c+u)%s.length],d=!0;l<0&&(d=!1,l=-l);let h=i.node(l-1),f=i.index(l-1);if(h.canReplaceWith(f,f,a.type,a.marks))return e.replace(i.before(l),d?o.after(l):n,new wt(Nr(r.content,0,r.openStart,t),t,r.openEnd))}}let d=e.steps.length;for(let h=s.length-1;h>=0;h--){if(e.replace(t,n,r),e.steps.length>d)break;let a=s[h];a<0||(t=i.before(a),n=o.after(a))}}function Nr(e,t,n,r,i){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Nr(i.content,t+1,n,r,i)))}if(t>r){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(gt.empty,!0))}return e}function Br(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=_r(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new wt(gt.from(r),0,0))}function Ir(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=Lr(r,i);for(let s=0;s<o.length;s++){let t=o[s],n=s==o.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),i.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),i.indexAfter(t-1))))return e.delete(r.before(t),i.after(t))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function Lr(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(r==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==r-1)&&n.push(i)}return n}class Rr extends Yn{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Vn.fail("No node at attribute step's position");let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Vn.fromReplace(e,this.pos,this.pos+1,new wt(gt.from(r),0,t.isLeaf?0:1))}getMap(){return $n.empty}invert(e){return new Rr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Rr(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Rr(t.pos,t.attr,t.value)}}Yn.jsonID("attr",Rr);let Pr=class extends Error{};Pr=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},Pr.prototype=Object.create(Error.prototype),Pr.prototype.constructor=Pr,Pr.prototype.name="TransformError";class Hr{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Un}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Pr(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=wt.empty){let r=Er(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new wt(gt.from(n),0,0))}delete(e,t){return this.replace(e,t,wt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return jr(this,e,t,n),this}replaceRangeWith(e,t,n){return Br(this,e,t,n),this}deleteRange(e,t){return Ir(this,e,t),this}lift(e,t){return sr(this,e,t),this}join(e,t=1){return Dr(this,e,t),this}wrap(e,t){return dr(this,e,t),this}setBlockType(e,t=e,n,r=null){return hr(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return pr(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Rr(e,t,n)),this}addNodeMark(e,t){return this.step(new Xn(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Dt)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new Gn(e,t)),this}split(e,t=1,n){return gr(this,e,t,n),this}addMark(e,t,n){return tr(this,e,t,n),this}removeMark(e,t,n){return nr(this,e,t,n),this}clearIncompatible(e,t,n){return rr(this,e,t,n),this}}const zr=Object.create(null);class $r{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Ur(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=wt.empty){let n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:u}=o[s],c=e.mapping.slice(i);e.replaceRange(c.map(a.pos),c.map(u.pos),s?wt.empty:t),0==s&&Qr(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n),u=a.map(o.pos),c=a.map(s.pos);i?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),Qr(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Vr(e):Zr(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let r=t<0?Zr(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):Zr(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Xr(e.node(0))}static atStart(e){return Zr(e,e,0,0,1)||new Xr(e)}static atEnd(e){return Zr(e,e,e.content.size,e.childCount,-1)||new Xr(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=zr[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in zr)throw new RangeError("Duplicate use of selection JSON ID "+e);return zr[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Vr.between(this.$anchor,this.$head).getBookmark()}}$r.prototype.visible=!0;class Ur{constructor(e,t){this.$from=e,this.$to=t}}let qr=!1;function Yr(e){qr||e.parent.inlineContent||(qr=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Vr extends $r{constructor(e,t=e){Yr(e),Yr(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return $r.near(n);let r=e.resolve(t.map(this.anchor));return new Vr(r.parent.inlineContent?r:n,n)}replace(e,t=wt.empty){if(super.replace(e,t),t==wt.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Vr&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Wr(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Vr(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=$r.findFrom(t,n,!0)||$r.findFrom(t,-n,!0);if(!e)return $r.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=($r.findFrom(e,-n,!0)||$r.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new Vr(e,t)}}$r.jsonID("text",Vr);class Wr{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Wr(e.map(this.anchor),e.map(this.head))}resolve(e){return Vr.between(e.resolve(this.anchor),e.resolve(this.head))}}class Jr extends $r{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?$r.near(i):new Jr(i)}content(){return new wt(gt.from(this.node),0,0)}eq(e){return e instanceof Jr&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Kr(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Jr(e.resolve(t.anchor))}static create(e,t){return new Jr(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Jr.prototype.visible=!1,$r.jsonID("node",Jr);class Kr{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Wr(n,n):new Kr(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Jr.isSelectable(n)?new Jr(t):$r.near(t)}}class Xr extends $r{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=wt.empty){if(t==wt.empty){e.delete(0,e.doc.content.size);let t=$r.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Xr(e)}map(e){return new Xr(e)}eq(e){return e instanceof Xr}getBookmark(){return Gr}}$r.jsonID("all",Xr);const Gr={map(){return this},resolve(e){return new Xr(e)}};function Zr(e,t,n,r,i,o=!1){if(t.inlineContent)return Vr.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let r=t.child(s);if(r.isAtom){if(!o&&Jr.isSelectable(r))return Jr.create(e,n-(i<0?r.nodeSize:0))}else{let t=Zr(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function Qr(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Zn||i instanceof Qn))return;let o,s=e.mapping.maps[r];s.forEach((e,t,n,r)=>{null==o&&(o=r)}),e.setSelection($r.near(e.doc.resolve(o),n))}function ei(e,t){return t&&e?e.bind(t):e}class ti{constructor(e,t,n){this.name=e,this.init=ei(t.init,n),this.apply=ei(t.apply,n)}}new ti("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new ti("selection",{init(e,t){return e.selection||$r.atStart(t.doc)},apply(e){return e.selection}}),new ti("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new ti("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}});function ni(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=ni(i,t,{})),n[r]=i}return n}class ri{constructor(e){this.spec=e,this.props={},e.props&&ni(e.props,this,this.props),this.key=e.key?e.key.key:oi("plugin")}getState(e){return e[this.key]}}const ii=Object.create(null);function oi(e){return e in ii?e+"$"+ ++ii[e]:(ii[e]=0,e+"$")}class si{constructor(e="key"){this.key=oi(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ai=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t};const ui=function(e,t,n,r){return n&&(li(e,t,n,r,-1)||li(e,t,n,r,1))},ci=/^(img|br|input|textarea|hr)$/i;function li(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:di(e))){let n=e.parentNode;if(!n||1!=n.nodeType||fi(e)||ci.test(e.nodeName)||"false"==e.contentEditable)return!1;t=ai(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(i<0?-1:0)],"false"==e.contentEditable)return!1;t=i<0?di(e):0}}}function di(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function hi(e,t,n){for(let r=0==t,i=t==di(e);r||i;){if(e==n)return!0;let t=ai(e);if(e=e.parentNode,!e)return!1;r=r&&0==t,i=i&&t==di(e)}}function fi(e){let t;for(let n=e;n;n=n.parentNode)if(t=n.pmViewDesc)break;return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const pi=function(e){return e.focusNode&&ui(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function mi(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const gi="undefined"!=typeof navigator?navigator:null,vi="undefined"!=typeof document?document:null,yi=gi&&gi.userAgent||"",bi=/Edge\/(\d+)/.exec(yi),Di=/MSIE \d/.exec(yi),_i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi),wi=!!(Di||_i||bi),Ei=Di?document.documentMode:_i?+_i[1]:bi?+bi[1]:0,Ci=!wi&&/gecko\/(\d+)/i.test(yi);Ci&&(/Firefox\/(\d+)/.exec(yi)||[0,0])[1];const xi=!wi&&/Chrome\/(\d+)/.exec(yi),Ai=!!xi,ki=xi?+xi[1]:0,Si=!wi&&!!gi&&/Apple Computer/.test(gi.vendor),Fi=Si&&(/Mobile\/\w+/.test(yi)||!!gi&&gi.maxTouchPoints>2),Oi=Fi||!!gi&&/Mac/.test(gi.platform),Mi=/Android \d/.test(yi),Ti=!!vi&&"webkitFontSmoothing"in vi.documentElement.style,ji=Ti?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;const Ni=function(e){e&&(this.nodeName=e)};Ni.prototype=Object.create(null);new Ni;function Bi(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,u,c=r.resolve(s);if(pi(n)){a=c;while(i&&!i.node)i=i.parent;let e=i.node;if(i&&e.isAtom&&Jr.isSelectable(e)&&i.parent&&(!e.isInline||!hi(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;u=new Jr(s==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=r.resolve(t)}if(!u){let n="pointer"==t||e.state.selection.head<c.pos&&!o?1:-1;u=Vi(e,a,c,n)}return u}function Ii(e){return e.editable?e.hasFocus():Wi(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Li(e,t=!1){let n=e.state.selection;if(qi(e,n),Ii(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Ai){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&ui(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Ui(e);else{let r,i,{anchor:o,head:s}=n;!Ri||n instanceof Vr||(n.$from.parent.inlineContent||(r=Pi(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Pi(e,n.to))),e.docView.setSelection(o,s,e.root,t),Ri&&(r&&zi(r),i&&zi(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$i(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Ri=Si||Ai&&ki<63;function Pi(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Si&&i&&"false"==i.contentEditable)return Hi(i);if((!i||"false"==i.contentEditable)&&(!o||"false"==o.contentEditable)){if(i)return Hi(i);if(o)return Hi(o)}}function Hi(e){return e.contentEditable="true",Si&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function zi(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function $i(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{Ii(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ui(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,ai(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&wi&&Ei<=11&&(r.disabled=!0,r.disabled=!1)}function qi(e,t){if(t instanceof Jr){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Yi(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Yi(e)}function Yi(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Vi(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||Vr.between(t,n,r)}function Wi(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Ji(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&$r.findFrom(o,t)}function Ki(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Xi(e,t,n){let r=e.state.selection;if(!(r instanceof Vr)){if(r instanceof Jr&&r.node.isInline)return Ki(e,new Vr(t>0?r.$to:r.$from));{let n=Ji(e.state,t);return!!n&&Ki(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Ji(e.state,t);return!!(n&&n instanceof Jr)&&Ki(e,n)}if(!(Oi&&n.indexOf("m")>-1)){let n,i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let s=t<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(Jr.isSelectable(o)?Ki(e,new Jr(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):!!Ti&&Ki(e,new Vr(e.state.doc.resolve(t<0?s:s+o.nodeSize))))}}function Gi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Zi(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Qi(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(Ci&&1==n.nodeType&&r<Gi(n)&&Zi(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(Zi(e))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(to(n))break;{let t=n.previousSibling;while(t&&Zi(t))i=n.parentNode,o=ai(t),t=t.previousSibling;if(t)n=t,r=Gi(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?no(e,n,r):i&&no(e,i,o)}function eo(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=Gi(n);for(;;)if(r<s){if(1!=n.nodeType)break;let e=n.childNodes[r];if(!Zi(e))break;i=n,o=++r}else{if(to(n))break;{let t=n.nextSibling;while(t&&Zi(t))i=t.parentNode,o=ai(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=Gi(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}i&&no(e,i,o)}function to(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function no(e,t,n){let r=e.domSelection();if(pi(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Li(e)},50)}function ro(e,t,n){let r=e.state.selection;if(r instanceof Vr&&!r.empty||n.indexOf("s")>-1)return!1;if(Oi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Ji(e.state,t);if(n&&n instanceof Jr)return Ki(e,n)}if(!i.parent.inlineContent){let n=t<0?i:o,s=r instanceof Xr?$r.near(n,t):$r.findFrom(n,t);return!!s&&Ki(e,s)}return!1}function io(e,t){if(!(e.state.selection instanceof Vr))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=e.state.tr;return t<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),e.dispatch(r),!0}return!1}function oo(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function so(e){if(!Si||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;oo(e,n,"true"),setTimeout(()=>oo(e,n,"false"),20)}return!1}function ao(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function uo(e,t){let n=t.keyCode,r=ao(t);return 8==n||Oi&&72==n&&"c"==r?io(e,-1)||Qi(e):46==n||Oi&&68==n&&"c"==r?io(e,1)||eo(e):13==n||27==n||(37==n||Oi&&66==n&&"c"==r?Xi(e,-1,r)||Qi(e):39==n||Oi&&70==n&&"c"==r?Xi(e,1,r)||eo(e):38==n||Oi&&80==n&&"c"==r?ro(e,-1,r)||Qi(e):40==n||Oi&&78==n&&"c"==r?so(e)||ro(e,1,r)||eo(e):r==(Oi?"m":"c")&&(66==n||73==n||89==n||90==n))}function co(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;while(i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount){i--,o--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||Fn.fromSchema(e.state.schema),a=_o(),u=a.createElement("div");u.appendChild(s.serializeFragment(r,{document:a}));let c,l=u.firstChild,d=0;while(l&&1==l.nodeType&&(c=bo[l.nodeName.toLowerCase()])){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);while(u.firstChild)t.appendChild(u.firstChild);u.appendChild(t),d++}l=u.firstChild}l&&1==l.nodeType&&l.setAttribute("data-pm-slice",`${i} ${o}${d?" -"+d:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:u,text:h}}function lo(e,t,n,r,i){let o,s,a=i.parent.type.spec.code;if(!n&&!t)return null;let u=t&&(r||a||!n);if(u){if(e.someProp("transformPastedText",n=>{t=n(t,a||r,e)}),a)return t?new wt(gt.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):wt.empty;let n=e.someProp("clipboardTextParser",n=>n(t,i,r,e));if(n)s=n;else{let n=i.marks(),{schema:r}=e.state,s=Fn.fromSchema(r);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=o.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),o=wo(n),Ti&&Eo(o);let c=o&&o.querySelector("[data-pm-slice]"),l=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(l&&l[3])for(let d=+l[3];d>0;d--){let e=o.firstChild;while(e&&1!=e.nodeType)e=e.nextSibling;if(!e)break;o=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||fn.fromSchema(e.state.schema);s=t.parseSlice(o,{preserveWhitespace:!(!u&&!l),context:i,ruleFromNode(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||ho.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(l)s=Co(yo(s,+l[1],+l[2]),l[4]);else if(s=wt.maxOpen(fo(s.content,i),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=yo(s,e,t)}return e.someProp("transformPasted",t=>{s=t(s,e)}),s}const ho=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function fo(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n),o=i.contentMatchAt(t.index(n)),s=[];if(e.forEach(e=>{if(!s)return;let t,n=o.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&mo(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=go(s[s.length-1],r.length));let t=po(e,n);s.push(t),o=o.matchType(t.type),r=n}}),s)return gt.from(s)}return e}function po(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,gt.from(e));return e}function mo(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=mo(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));let s=r.contentMatchAt(r.childCount);if(s.matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(gt.from(po(n,e,i+1))))}}function go(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,go(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(gt.empty,!0);return e.copy(n.append(r))}function vo(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return i<r-1&&(a=vo(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(gt.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function yo(e,t,n){return t<e.openStart&&(e=new wt(vo(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new wt(vo(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const bo={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Do=null;function _o(){return Do||(Do=document.implementation.createHTMLDocument("title"))}function wo(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=_o().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);if((n=i&&bo[i[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=e,n)for(let o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}function Eo(e){let t=e.querySelectorAll(Ai?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Co(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(a){return e}let{content:i,openStart:o,openEnd:s}=e;for(let u=n.length-2;u>=0;u-=2){let e=r.nodes[n[u]];if(!e||e.hasRequiredAttrs())break;i=gt.from(e.create(n[u+1],i)),o++,s++}return new wt(i,o,s)}const xo={},Ao={};function ko(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function So(e){return{left:e.clientX,top:e.clientY}}function Fo(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Oo(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,t=>s>o.depth?t(e,n,o.nodeAfter,o.before(s),i,!0):t(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Mo(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function To(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Jr.isSelectable(r))&&(Mo(e,new Jr(n),"pointer"),!0)}function jo(e,t){if(-1==t)return!1;let n,r,i=e.state.selection;i instanceof Jr&&(n=i.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let e=s>o.depth?o.nodeAfter:o.node(s);if(Jr.isSelectable(e)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=r&&(Mo(e,Jr.create(e.state.doc,r),"pointer"),!0)}function No(e,t,n,r,i){return Oo(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(i?jo(e,n):To(e,n))}function Bo(e,t,n,r){return Oo(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function Io(e,t,n,r){return Oo(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||Lo(e,n,r)}function Lo(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Mo(e,Vr.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let t=o>i.depth?i.nodeAfter:i.node(o),n=i.before(o);if(t.inlineContent)Mo(e,Vr.create(r,n+1,n+1+t.content.size),"pointer");else{if(!Jr.isSelectable(t))continue;Mo(e,Jr.create(r,n),"pointer")}return!0}}function Ro(e){return Vo(e)}Ao.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!zo(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Mi||!Ai||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Fi||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||uo(e,n)?n.preventDefault():ko(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,mi(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},Ao.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Ao.keypress=(e,t)=>{let n=t;if(zo(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Oi&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Vr)||!r.$from.sameParent(r.$to)){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const Po=Oi?"metaKey":"ctrlKey";xo.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Ro(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&Fo(n,e.input.lastClick)&&!n[Po]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(So(n));s&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Ho(e,s,n,!!r)):("doubleClick"==o?Bo:Io)(e,s.pos,s.inside,n)?n.preventDefault():ko(e,"pointer"))};class Ho{constructor(e,t,n,r){let i,o;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Po],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,o=n.depth?n.before():0}const s=r?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||u instanceof Jr&&u.from<=o&&u.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Ci||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ko(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Li(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(So(e))),this.updateAllowDefault(e),this.allowDefault||!t?ko(this.view,"pointer"):No(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Si&&this.mightDrag&&!this.mightDrag.node.isAtom||Ai&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Mo(this.view,$r.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):ko(this.view,"pointer")}move(e){this.updateAllowDefault(e),ko(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function zo(e,t){return!!e.composing||!!(Si&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}xo.touchstart=e=>{e.input.lastTouch=Date.now(),Ro(e),ko(e,"pointer")},xo.touchmove=e=>{e.input.lastTouch=Date.now(),ko(e,"pointer")},xo.contextmenu=e=>Ro(e);const $o=Mi?5e3:-1;function Uo(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Vo(e),t))}function qo(e){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Yo());while(e.input.compositionNodes.length>0)e.input.compositionNodes.pop().markParentsDirty()}function Yo(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Vo(e,t=!1){if(!(Mi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),qo(e),t||e.docView&&e.docView.dirty){let t=Bi(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}function Wo(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}Ao.compositionstart=Ao.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),Vo(e,!0),e.markCursor=null;else if(Vo(e),Ci&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}Uo(e,$o)},Ao.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,Uo(e,20))};const Jo=wi&&Ei<15||Fi&&ji<604;function Ko(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function Xo(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Go(e,r.value,null,t):Go(e,r.textContent,r.innerHTML,t)},50)}function Go(e,t,n,r){let i=lo(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,r,i||wt.empty)))return!0;if(!i)return!1;let o=Ko(i),s=o?e.state.tr.replaceSelectionWith(o,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}xo.copy=Ao.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=Jo?null:n.clipboardData,s=r.content(),{dom:a,text:u}=co(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",u)):Wo(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Ao.paste=(e,t)=>{let n=t;if(e.composing&&!Mi)return;let r=Jo?null:n.clipboardData;r&&Go(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():Xo(e,n)};class Zo{constructor(e,t){this.slice=e,this.move=t}}const Qo=Oi?"altKey":"ctrlKey";xo.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(So(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof Jr?i.to-1:i.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(Jr.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(Jr.create(e.state.doc,t.posBefore)))}let s=e.state.selection.content(),{dom:a,text:u}=co(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Jo?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Jo||n.dataTransfer.setData("text/plain",u),e.dragging=new Zo(s,!n[Qo])},xo.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},Ao.dragover=Ao.dragenter=(e,t)=>t.preventDefault(),Ao.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(So(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",t=>{s=t(s,e)}):s=lo(e,n.dataTransfer.getData(Jo?"Text":"text/plain"),Jo?null:n.dataTransfer.getData("text/html"),!1,o);let a=!(!r||n[Qo]);if(e.someProp("handleDrop",t=>t(e,n,s||wt.empty,a)))return void n.preventDefault();if(!s)return;n.preventDefault();let u=s?wr(e.state.doc,o.pos,s):o.pos;null==u&&(u=o.pos);let c=e.state.tr;a&&c.deleteSelection();let l=c.mapping.map(u),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(d?c.replaceRangeWith(l,l,s.content.firstChild):c.replaceRange(l,l,s),c.doc.eq(h))return;let f=c.doc.resolve(l);if(d&&Jr.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Jr(f));else{let t=c.mapping.map(u);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,i)=>t=i),c.setSelection(Vi(e,f,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},xo.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Li(e)},20))},xo.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},xo.beforeinput=(e,t)=>{let n=t;if(Ai&&Mi&&"deleteContentBackward"==n.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,mi(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let os in Ao)xo[os]=Ao[os];function es(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class ts{constructor(e,t){this.toDOM=e,this.spec=t||as,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new is(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof ts&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&es(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ns{constructor(e,t){this.attrs=e,this.spec=t||as}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new is(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ns&&es(this.attrs,e.attrs)&&es(this.spec,e.spec)}static is(e){return e.type instanceof ns}destroy(){}}class rs{constructor(e,t){this.attrs=e,this.spec=t||as}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new is(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof rs&&es(this.attrs,e.attrs)&&es(this.spec,e.spec)}destroy(){}}class is{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new is(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new is(e,e,new ts(t,n))}static inline(e,t,n,r){return new is(e,t,new ns(n,r))}static node(e,t,n,r){return new is(e,t,new rs(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ns}}const ss=[],as={};class us{constructor(e,t){this.local=e.length?e:ss,this.children=t.length?t:ss}static create(e,t){return t.length?gs(t,e,0,as):cs}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let s=this.local[o];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let s=this.children[o]+1;this.children[o+2].findInner(e-s,t-s,n,r+s,i)}}map(e,t,n){return this==cs||0==e.maps.length?this:this.mapInner(e,t,0,0,n||as)}mapInner(e,t,n,r,i){let o;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?ds(this.children,o||[],e,t,n,r,i):o?new us(o.sort(vs),ss):cs}add(e,t){return t.length?this==cs?us.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach((e,o)=>{let s,a=o+n;if(s=ps(t,e,a)){r||(r=this.children.slice());while(i<r.length&&r[i]<o)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,s,a+1):r.splice(i,0,o,o+e.nodeSize,gs(s,e,a+1,as)),i+=3}});let o=hs(i?ms(t):t,-n);for(let s=0;s<o.length;s++)o[s].type.valid(e,o[s])||o.splice(s--,1);return new us(o.length?this.local.concat(o).sort(vs):this.local,r||this.children)}remove(e){return 0==e.length||this==cs?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+t,s=n[i+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[i+2].removeInner(r,o+1);a!=cs?n[i+2]=a:(n.splice(i,3),i-=3)}if(r.length)for(let i,o=0;o<e.length;o++)if(i=e[o])for(let e=0;e<r.length;e++)r[e].eq(i,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new us(r,n):cs}forChild(e,t){if(this==cs)return this;if(t.isLeaf)return us.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let i=e+1,o=i+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<o&&e.to>i&&e.type instanceof ns){let t=Math.max(i,e.from)-i,n=Math.min(o,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new us(r.sort(vs),ss);return n?new ls([e,n]):e}return n||cs}eq(e){if(this==e)return!0;if(!(e instanceof us)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return ys(this.localsInner(e))}localsInner(e){if(this==cs)return ss;if(e.inlineContent||!this.local.some(ns.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof ns||t.push(this.local[n]);return t}}us.empty=new us([],[]),us.removeOverlap=ys;const cs=us.empty;class ls{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,as));return ls.from(n)}forChild(e,t){if(t.isLeaf)return us.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=cs&&(i instanceof ls?n=n.concat(i.members):n.push(i))}return ls.from(n)}eq(e){if(!(e instanceof ls)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?ys(n?t:t.sort(vs)):ss}static from(e){switch(e.length){case 0:return cs;case 1:return e[0];default:return new ls(e.every(e=>e instanceof us)?e:e.reduce((e,t)=>e.concat(t instanceof us?t:t.members),[]))}}}function ds(e,t,n,r,i,o,s){let a=e.slice();for(let c=0,l=o;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,o)=>{let s=o-r-(n-t);for(let u=0;u<a.length;u+=3){let o=a[u+1];if(o<0||t>o+l-e)continue;let c=a[u]+l-e;n>=c?a[u+1]=t<=c?-2:-1:r>=i&&s&&(a[u]+=s,a[u+1]+=s)}e+=s}),l=n.maps[c].map(l,-1)}let u=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){u=!0,a[c+1]=-1;continue}let t=n.map(e[c]+o),l=t-i;if(l<0||l>=r.content.size){u=!0;continue}let d=n.map(e[c+1]+o,-1),h=d-i,{index:f,offset:p}=r.content.findIndex(l),m=r.maybeChild(f);if(m&&p==l&&p+m.nodeSize==h){let r=a[c+2].mapInner(n,m,t+1,e[c]+o+1,s);r!=cs?(a[c]=l,a[c+1]=h,a[c+2]=r):(a[c+1]=-2,u=!0)}else u=!0}if(u){let u=fs(a,e,t,n,i,o,s),c=gs(u,r,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];while(t<a.length&&a[t]<n)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new us(t.sort(vs),a)}function hs(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new is(i.from+t,i.to+t,i.type))}return n}function fs(e,t,n,r,i,o,s){function a(e,t){for(let o=0;o<e.local.length;o++){let a=e.local[o].map(r,i,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let u=0;u<e.length;u+=3)-1==e[u+1]&&a(e[u+2],t[u]+o+1);return n}function ps(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o,s=0;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function ms(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function gs(e,t,n,r){let i=[],o=!1;t.forEach((t,s)=>{let a=ps(e,t,s+n);if(a){o=!0;let e=gs(a,t,n+s+1,r);e!=cs&&i.push(s,s+t.nodeSize,e)}});let s=hs(o?ms(e):e,-n).sort(vs);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new us(s,i):cs}function vs(e,t){return e.from-t.from||e.to-t.to}function ys(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),bs(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),bs(t,i+1,o.copy(r.to,o.to)))}}return t}function bs(e,t,n){while(t<e.length&&vs(n,e[t])>0)t++;e.splice(t,0,n)}new WeakMap;for(var Ds={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_s={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ws="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Es=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),Cs="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xs=Es||ws&&+ws[1]<57,As=0;As<10;As++)Ds[48+As]=Ds[96+As]=String(As);for(As=1;As<=24;As++)Ds[As+111]="F"+As;for(As=65;As<=90;As++)Ds[As]=String.fromCharCode(As+32),_s[As]=String.fromCharCode(As);for(var ks in Ds)_s.hasOwnProperty(ks)||(_s[ks]=Ds[ks]);function Ss(e){var t=xs&&(e.ctrlKey||e.altKey||e.metaKey)||Cs&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key,n=!t&&e.key||(e.shiftKey?_s:Ds)[e.keyCode]||e.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}const Fs="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Os(e){let t,n,r,i,o=e.split(/-(?!$)/),s=o[o.length-1];"Space"==s&&(s=" ");for(let a=0;a<o.length-1;a++){let e=o[a];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Fs?i=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function Ms(e){let t=Object.create(null);for(let n in e)t[Os(n)]=e[n];return t}function Ts(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function js(e){return new ri({props:{handleKeyDown:Ns(e)}})}function Ns(e){let t=Ms(e);return function(e,n){let r,i=Ss(n),o=1==i.length&&" "!=i,s=t[Ts(i,n,!o)];if(s&&s(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=Ds[n.keyCode])&&r!=i){let i=t[Ts(r,n,!0)];if(i&&i(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){let r=t[Ts(i,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}const Bs=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Is(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Ls=(e,t,n)=>{let r=Is(e,n);if(!r)return!1;let i=Hs(r);if(!i){let n=r.blockRange(),i=n&&or(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&ia(e,i,t))return!0;if(0==r.parent.content.size&&(Rs(o,"end")||Jr.isSelectable(o))){let n=Er(e.doc,r.before(),r.after(),wt.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Rs(o,"end")?$r.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):Jr.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0)};function Rs(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const Ps=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=Hs(r)}let s=o&&o.nodeBefore;return!(!s||!Jr.isSelectable(s))&&(t&&t(e.tr.setSelection(Jr.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Hs(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function zs(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const $s=(e,t,n)=>{let r=zs(e,n);if(!r)return!1;let i=qs(r);if(!i)return!1;let o=i.nodeAfter;if(ia(e,i,t))return!0;if(0==r.parent.content.size&&(Rs(o,"start")||Jr.isSelectable(o))){let n=Er(e.doc,r.before(),r.after(),wt.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Rs(o,"start")?$r.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):Jr.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)},Us=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=qs(r)}let s=o&&o.nodeAfter;return!(!s||!Jr.isSelectable(s))&&(t&&t(e.tr.setSelection(Jr.create(e.doc,o.pos)).scrollIntoView()),!0)};function qs(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Ys=(e,t)=>{let n,r=e.selection,i=r instanceof Jr;if(i){if(r.node.isTextblock||!vr(e.doc,r.from))return!1;n=r.from}else if(n=br(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);i&&r.setSelection(Jr.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0},Vs=(e,t)=>{let n,r=e.selection;if(r instanceof Jr){if(r.node.isTextblock||!vr(e.doc,r.to))return!1;n=r.to}else if(n=br(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},Ws=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&or(i);return null!=o&&(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},Js=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function Ks(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Xs=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=Ks(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,s.createAndFill());i.setSelection($r.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},Gs=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Xr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Ks(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=e.tr.insert(n,o.createAndFill());s.setSelection(Vr.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},Zs=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(mr(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&or(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Qs(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Jr&&t.selection.node.isBlock)return!(!r.parentOffset||!mr(t.doc,r.pos))&&(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof Vr||t.selection instanceof Xr)&&s.deleteSelection();let a=0==r.depth?null:Ks(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=e&&e(i.parent,o),c=u?[u]:o&&a?[{type:a}]:void 0,l=mr(s.doc,s.mapping.map(r.pos),1,c);if(c||l||!mr(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)||(a&&(c=[{type:a}]),l=!0),l&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){let e=s.mapping.map(r.before()),t=s.doc.resolve(e);a&&r.node(-1).canReplaceWith(t.index(),t.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}n(s.scrollIntoView())}return!0}}const ea=Qs(),ta=(e,t)=>{let n,{$from:r,to:i}=e.selection,o=r.sharedDepth(i);return 0!=o&&(n=r.before(o),t&&t(e.tr.setSelection(Jr.create(e.doc,n))),!0)},na=(e,t)=>(t&&t(e.tr.setSelection(new Xr(e.doc))),!0);function ra(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(o,o+1)||!i.isTextblock&&!vr(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}function ia(e,t,n){let r,i,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return!1;if(ra(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){let i=t.pos+s.nodeSize,a=gt.empty;for(let e=r.length-1;e>=0;e--)a=gt.from(r[e].create(null,a));a=gt.from(o.copy(a));let u=e.tr.step(new Qn(t.pos-1,i,t.pos,i,new wt(a,1,0),r.length,!0)),c=i+2*r.length;vr(u.doc,c)&&u.join(c),n(u.scrollIntoView())}return!0}let u=$r.findFrom(t,1),c=u&&u.$from.blockRange(u.$to),l=c&&or(c);if(null!=l&&l>=t.depth)return n&&n(e.tr.lift(c,l).scrollIntoView()),!0;if(a&&Rs(s,"start",!0)&&Rs(o,"end")){let r=o,i=[];for(;;){if(i.push(r),r.isTextblock)break;r=r.lastChild}let a=s,u=1;for(;!a.isTextblock;a=a.firstChild)u++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=gt.empty;for(let e=i.length-1;e>=0;e--)r=gt.from(i[e].copy(r));let o=e.tr.step(new Qn(t.pos-i.length,t.pos+s.nodeSize,t.pos+u,t.pos+s.nodeSize-u,new wt(r,i.length,0),0,!0));n(o.scrollIntoView())}return!0}}return!1}function oa(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;while(i.node(o).isInline){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(Vr.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const sa=oa(-1),aa=oa(1);function ua(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&ar(s,e,t);return!!a&&(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0)}}function ca(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[o];n.doc.nodesBetween(r,s,(r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)i=!0;else{let t=n.doc.resolve(o),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}})}if(!i)return!1;if(r){let i=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:o},$to:{pos:s}}=n.selection.ranges[r];i.setBlockType(o,s,e,t)}r(i.scrollIntoView())}return!0}}function la(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let da=la(Bs,Ls,Ps),ha=la(Bs,$s,Us);const fa={Enter:la(Js,Gs,Zs,ea),"Mod-Enter":Xs,Backspace:da,"Mod-Backspace":da,"Shift-Backspace":da,Delete:ha,"Mod-Delete":ha,"Mod-a":na},pa={"Ctrl-h":fa["Backspace"],"Alt-Backspace":fa["Mod-Backspace"],"Ctrl-d":fa["Delete"],"Ctrl-Alt-Backspace":fa["Mod-Delete"],"Alt-Delete":fa["Mod-Delete"],"Alt-d":fa["Mod-Delete"],"Ctrl-a":sa,"Ctrl-e":aa};for(let os in fa)pa[os]=fa[os];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function ma(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;let e=n.doc.resolve(s.start-2);u=new Pt(e,e,s.depth),s.endIndex<s.parent.childCount&&(s=new Pt(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=ar(u,e,t,s);return!!c&&(r&&r(ga(n.tr,s,c,a,e).scrollIntoView()),!0)}}function ga(e,t,n,r,i){let o=gt.empty;for(let l=n.length-1;l>=0;l--)o=gt.from(n[l].type.create(n[l].attrs,o));e.step(new Qn(t.start-(r?2:0),t.end,t.start,t.end,new wt(o,0,0),n.length,!0));let s=0;for(let l=0;l<n.length;l++)n[l].type==i&&(s=l+1);let a=n.length-s,u=t.start+n.length-(r?2:0),c=t.parent;for(let l=t.startIndex,d=t.endIndex,h=!0;l<d;l++,h=!1)!h&&mr(e.doc,u,a)&&(e.split(u,a),u+=2*a),u+=c.child(l).nodeSize;return e}function va(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,t=>t.childCount>0&&t.firstChild.type==e);return!!o&&(!n||(r.node(o.depth-1).type==e?ya(t,n,e,o):ba(t,n,o)))}}function ya(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Qn(o-1,s,o,s,new wt(gt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Pt(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=or(r);if(null==a)return!1;i.lift(r,a);let u=i.mapping.map(o,-1)-1;return vr(i.doc,u)&&i.join(u),t(i.scrollIntoView()),!0}function ba(e,t,n){let r=e.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,u=n.endIndex==i.childCount,c=o.node(-1),l=o.index(-1);if(!c.canReplace(l+(a?0:1),l+1,s.content.append(u?gt.empty:gt.from(i))))return!1;let d=o.pos,h=d+s.nodeSize;return r.step(new Qn(d-(a?1:0),h+(u?1:0),d+1,h-1,new wt((a?gt.empty:gt.from(i.copy(gt.empty))).append(u?gt.empty:gt.from(i.copy(gt.empty))),a?0:1,u?0:1),a?0:1)),t(r.scrollIntoView()),!0}function Da(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,t=>t.childCount>0&&t.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(0==s)return!1;let a=o.parent,u=a.child(s-1);if(u.type!=e)return!1;if(n){let r=u.lastChild&&u.lastChild.type==a.type,i=gt.from(r?e.create():null),s=new wt(gt.from(e.create(null,gt.from(a.type.create(null,i)))),r?3:1,0),c=o.start,l=o.end;n(t.tr.step(new Qn(c-(r?3:1),l,c,l,s,1,!0)).scrollIntoView())}return!0}}function _a(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class wa{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([e,t])=>{const n=(...e)=>{const n=t(...e)(o);return i.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(i),n};return[e,n]}))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s=[],a=!!e,u=e||i.tr,c=()=>(a||!t||u.getMeta("preventDispatch")||this.hasCustomState||o.dispatch(u),s.every(e=>!0===e)),l={...Object.fromEntries(Object.entries(n).map(([e,n])=>{const r=(...e)=>{const r=this.buildProps(u,t),i=n(...e)(r);return s.push(i),l};return[e,r]})),run:c};return l}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r),s=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...o,dispatch:void 0})]));return{...s,chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r;i.storedMarks&&e.setStoredMarks(i.storedMarks);const s={tr:e,editor:r,view:o,state:_a({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(s)]))}};return s}}function Ea(e,t,n){if(void 0===e.config[t]&&e.parent)return Ea(e.parent,t,n);if("function"===typeof e.config[t]){const r=e.config[t].bind({...n,parent:e.parent?Ea(e.parent,t,n):null});return r}return e.config[t]}function Ca(e){const t=e.filter(e=>"extension"===e.type),n=e.filter(e=>"node"===e.type),r=e.filter(e=>"mark"===e.type);return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function xa(e){const t=[],{nodeExtensions:n,markExtensions:r}=Ca(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ea(e,"addGlobalAttributes",n);if(!r)return;const i=r();i.forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...o,...r}})})})})}),i.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ea(e,"addAttributes",n);if(!r)return;const i=r();Object.entries(i).forEach(([n,r])=>{const i={...o,...r};(null===r||void 0===r?void 0:r.isRequired)&&void 0===(null===r||void 0===r?void 0:r.default)&&delete i.default,t.push({type:e.name,name:n,attribute:i})})}),t}function Aa(e,t){if("string"===typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function ka(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{const r=n[e];n[e]=r?"class"===e?[n[e],t].join(" "):"style"===e?[n[e],t].join("; "):t:t}),n},{})}function Sa(e,t){return t.filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>ka(e,t),{})}function Fa(e){return"function"===typeof e}function Oa(e,t,...n){return Fa(e)?t?e.bind(t)(...n):e(...n):e}function Ma(e={}){return 0===Object.keys(e).length&&e.constructor===Object}function Ta(e){return"string"!==typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}function ja(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const i=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):Ta(n.getAttribute(t.name));return null===r||void 0===r?e:{...e,[t.name]:r}},{});return{...r,...i}}}}function Na(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!Ma(t))&&(null!==t&&void 0!==t)))}function Ba(e){var t;const n=xa(e),{nodeExtensions:r,markExtensions:i}=Ca(e),o=null===(t=r.find(e=>Ea(e,"topNode")))||void 0===t?void 0:t.name,s=Object.fromEntries(r.map(t=>{const r=n.filter(e=>e.type===t.name),i={name:t.name,options:t.options,storage:t.storage},o=e.reduce((e,n)=>{const r=Ea(n,"extendNodeSchema",i);return{...e,...r?r(t):{}}},{}),s=Na({...o,content:Oa(Ea(t,"content",i)),marks:Oa(Ea(t,"marks",i)),group:Oa(Ea(t,"group",i)),inline:Oa(Ea(t,"inline",i)),atom:Oa(Ea(t,"atom",i)),selectable:Oa(Ea(t,"selectable",i)),draggable:Oa(Ea(t,"draggable",i)),code:Oa(Ea(t,"code",i)),defining:Oa(Ea(t,"defining",i)),isolating:Oa(Ea(t,"isolating",i)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null===e||void 0===e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),a=Oa(Ea(t,"parseHTML",i));a&&(s.parseDOM=a.map(e=>ja(e,r)));const u=Ea(t,"renderHTML",i);u&&(s.toDOM=e=>u({node:e,HTMLAttributes:Sa(e,r)}));const c=Ea(t,"renderText",i);return c&&(s.toText=c),[t.name,s]})),a=Object.fromEntries(i.map(t=>{const r=n.filter(e=>e.type===t.name),i={name:t.name,options:t.options,storage:t.storage},o=e.reduce((e,n)=>{const r=Ea(n,"extendMarkSchema",i);return{...e,...r?r(t):{}}},{}),s=Na({...o,inclusive:Oa(Ea(t,"inclusive",i)),excludes:Oa(Ea(t,"excludes",i)),group:Oa(Ea(t,"group",i)),spanning:Oa(Ea(t,"spanning",i)),code:Oa(Ea(t,"code",i)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null===e||void 0===e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),a=Oa(Ea(t,"parseHTML",i));a&&(s.parseDOM=a.map(e=>ja(e,r)));const u=Ea(t,"renderHTML",i);return u&&(s.toDOM=e=>u({mark:e,HTMLAttributes:Sa(e,r)})),[t.name,s]}));return new dn({topNode:o,nodes:s,marks:a})}function Ia(e,t){return t.nodes[e]||t.marks[e]||null}function La(e,t){return Array.isArray(t)?t.some(t=>{const n="string"===typeof t?t:t.name;return n===e.name}):t}const Ra=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,i,o)=>{var s,a;const u=(null===(a=(s=e.type.spec).toText)||void 0===a?void 0:a.call(s,{node:e,pos:t,parent:i,index:o}))||e.textContent||"%leaf%";n+=u.slice(0,Math.max(0,r-t))}),n};function Pa(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class Ha{constructor(e){this.find=e.find,this.handler=e.handler}}const za=(e,t)=>{if(Pa(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function $a(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:u}=n;if(u.composing)return!1;const c=u.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let l=!1;const d=Ra(c)+o;return s.forEach(e=>{if(l)return;const t=za(d,e.find);if(!t)return;const s=u.state.tr,c=_a({state:u.state,transaction:s}),h={from:r-(t[0].length-o.length),to:i},{commands:f,chain:p,can:m}=new wa({editor:n,state:c}),g=e.handler({state:c,range:h,match:t,commands:f,chain:p,can:m});null!==g&&s.steps.length&&(s.setMeta(a,{transform:s,from:r,to:i,text:o}),u.dispatch(s),l=!0)}),l}function Ua(e){const{editor:t,rules:n}=e,r=new ri({state:{init(){return null},apply(e,t){const n=e.getMeta(r);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput(e,i,o,s){return $a({editor:t,from:i,to:o,text:s,rules:n,plugin:r})},handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:i}=e.state.selection;i&&$a({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,i){if("Enter"!==i.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&$a({editor:t,from:o.pos,to:o.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}function qa(e){return"number"===typeof e}class Ya{constructor(e){this.find=e.find,this.handler=e.handler}}const Va=(e,t)=>{if(Pa(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(t=>{const n=[];return n.push(t.text),n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]};function Wa(e){const{editor:t,state:n,from:r,to:i,rule:o}=e,{commands:s,chain:a,can:u}=new wa({editor:t,state:n}),c=[];n.doc.nodesBetween(r,i,(e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const l=Math.max(r,t),d=Math.min(i,t+e.content.size),h=e.textBetween(l-t,d-t,void 0,"￼"),f=Va(h,o.find);f.forEach(e=>{if(void 0===e.index)return;const t=l+e.index+1,r=t+e[0].length,i={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},d=o.handler({state:n,range:i,match:e,commands:s,chain:a,can:u});c.push(d)})});const l=c.every(e=>null!==e);return l}function Ja(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1;const s=n.map(e=>new ri({view(e){const t=t=>{var n;r=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:e=>(o=r===e.dom.parentElement,!1),paste:(e,t)=>{var n;const r=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return i=!!(null===r||void 0===r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(n,r,s)=>{const a=n[0],u="paste"===a.getMeta("uiEvent")&&!i,c="drop"===a.getMeta("uiEvent")&&!o;if(!u&&!c)return;const l=r.doc.content.findDiffStart(s.doc.content),d=r.doc.content.findDiffEnd(s.doc.content);if(!qa(l)||!d||l===d.b)return;const h=s.tr,f=_a({state:s,transaction:h}),p=Wa({editor:t,state:f,from:Math.max(l-1,0),to:d.b-1,rule:e});return p&&h.steps.length?h:void 0}}));return s}function Ka(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return[...new Set(t)]}class Xa{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Xa.resolve(e),this.schema=Ba(this.extensions),this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ia(e.name,this.schema)};if("mark"===e.type){const r=null===(t=Oa(Ea(e,"keepOnSplit",n)))||void 0===t||t;r&&this.splittableMarks.push(e.name)}const r=Ea(e,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const i=Ea(e,"onCreate",n);i&&this.editor.on("create",i);const o=Ea(e,"onUpdate",n);o&&this.editor.on("update",o);const s=Ea(e,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=Ea(e,"onTransaction",n);a&&this.editor.on("transaction",a);const u=Ea(e,"onFocus",n);u&&this.editor.on("focus",u);const c=Ea(e,"onBlur",n);c&&this.editor.on("blur",c);const l=Ea(e,"onDestroy",n);l&&this.editor.on("destroy",l)})}static resolve(e){const t=Xa.sort(Xa.flatten(e)),n=Ka(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},n=Ea(e,"addExtensions",t);return n?[e,...this.flatten(n())]:e}).flat(10)}static sort(e){const t=100;return e.sort((e,n)=>{const r=Ea(e,"priority")||t,i=Ea(n,"priority")||t;return r>i?-1:r<i?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Ia(t.name,this.schema)},r=Ea(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,t=Xa.sort([...this.extensions].reverse()),n=[],r=[],i=t.map(t=>{const i={name:t.name,options:t.options,storage:t.storage,editor:e,type:Ia(t.name,this.schema)},o=[],s=Ea(t,"addKeyboardShortcuts",i);let a={};if("mark"===t.type&&t.config.exitable&&(a.ArrowRight=()=>Jc.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map(([t,n])=>[t,()=>n({editor:e})]));a={...a,...t}}const u=js(a);o.push(u);const c=Ea(t,"addInputRules",i);La(t,e.options.enableInputRules)&&c&&n.push(...c());const l=Ea(t,"addPasteRules",i);La(t,e.options.enablePasteRules)&&l&&r.push(...l());const d=Ea(t,"addProseMirrorPlugins",i);if(d){const e=d();o.push(...e)}return o}).flat();return[Ua({editor:e,rules:n}),...Ja({editor:e,rules:r}),...i]}get attributes(){return xa(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Ca(this.extensions);return Object.fromEntries(t.filter(e=>!!Ea(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:Aa(t.name,this.schema)},i=Ea(t,"addNodeView",r);if(!i)return[];const o=(r,o,s,a)=>{const u=Sa(r,n);return i()({editor:e,node:r,getPos:s,decorations:a,HTMLAttributes:u,extension:t})};return[t.name,o]}))}}function Ga(e){return Object.prototype.toString.call(e).slice(8,-1)}function Za(e){return"Object"===Ga(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function Qa(e,t){const n={...e};return Za(e)&&Za(t)&&Object.keys(t).forEach(r=>{Za(t[r])?r in e?n[r]=Qa(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class eu{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oa(Ea(this,"addOptions",{name:this.name}))),this.storage=Oa(Ea(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new eu(e)}configure(e={}){const t=this.extend();return t.options=Qa(this.options,e),t.storage=Oa(Ea(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new eu(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oa(Ea(t,"addOptions",{name:t.name})),t.storage=Oa(Ea(t,"addStorage",{name:t.name,options:t.options})),t}}function tu(e,t,n){const{from:r,to:i}=t,{blockSeparator:o="\n\n",textSerializers:s={}}=n||{};let a="",u=!0;return e.nodesBetween(r,i,(e,n,c,l)=>{var d;const h=null===s||void 0===s?void 0:s[e.type.name];h?(e.isBlock&&!u&&(a+=o,u=!0),c&&(a+=h({node:e,pos:n,parent:c,index:l,range:t}))):e.isText?(a+=null===(d=null===e||void 0===e?void 0:e.text)||void 0===d?void 0:d.slice(Math.max(r,n)-n,i-n),u=!1):e.isBlock&&!u&&(a+=o,u=!0)}),a}function nu(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}eu.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new ri({key:new si("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(e=>e.$from.pos)),a=Math.max(...o.map(e=>e.$to.pos)),u=nu(n),c={from:s,to:a};return tu(r,c,{textSerializers:u})}}})]}});const ru=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())}),!0),iu=(e=!1)=>({commands:t})=>t.setContent("",e),ou=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return!n||(i.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:i}=t,o=r.resolve(i.map(n)),s=r.resolve(i.map(n+e.nodeSize)),a=o.blockRange(s);if(!a)return;const u=or(a);if(e.type.isTextblock){const{defaultType:e}=o.parent.contentMatchAt(o.index());t.setNodeMarkup(a.start,e)}(u||0===u)&&t.lift(a,u)})}),!0)},su=e=>t=>e(t),au=()=>({state:e,dispatch:t})=>Gs(e,t),uu=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1){const n=i.node(o);if(n.type===r.type){if(t){const t=i.before(o),n=i.after(o);e.delete(t,n).scrollIntoView()}return!0}}return!1},cu=e=>({tr:t,state:n,dispatch:r})=>{const i=Aa(e,n.schema),o=t.selection.$anchor;for(let e=o.depth;e>0;e-=1){const n=o.node(e);if(n.type===i){if(r){const n=o.before(e),r=o.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},lu=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},du=()=>({state:e,dispatch:t})=>Bs(e,t),hu=()=>({commands:e})=>e.keyboardShortcut("Enter"),fu=()=>({state:e,dispatch:t})=>Xs(e,t);function pu(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:Pa(t[r])?t[r].test(e[r]):t[r]===e[r])}function mu(e,t,n={}){return e.find(e=>e.type===t&&pu(e.attrs,n))}function gu(e,t,n={}){return!!mu(e,t,n)}function vu(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&0!==r.offset&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=mu([...r.node.marks],t,n);if(!i)return;let o=r.index,s=e.start()+r.offset,a=o+1,u=s+r.node.nodeSize;mu([...r.node.marks],t,n);while(o>0&&i.isInSet(e.parent.child(o-1).marks))o-=1,s-=e.parent.child(o).nodeSize;while(a<e.parent.childCount&&gu([...e.parent.child(a).marks],t,n))u+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:u}}function yu(e,t){if("string"===typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const bu=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=yu(e,r.schema),{doc:s,selection:a}=n,{$from:u,from:c,to:l}=a;if(i){const e=vu(u,o,t);if(e&&e.from<=c&&e.to>=l){const t=Vr.create(s,e.from,e.to);n.setSelection(t)}}return!0},Du=e=>t=>{const n="function"===typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function _u(e){return e instanceof Vr}function wu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Eu(e,t=null){if(!t)return null;const n=$r.atStart(e),r=$r.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const i=n.from,o=r.to;return"all"===t?Vr.create(e,wu(0,i,o),wu(e.content.size,i,o)):Vr.create(e,wu(t,i,o),wu(t,i,o))}function Cu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const xu=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{Cu()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null===t||void 0===t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===e||!1===e)return!0;if(o&&null===e&&!_u(n.state.selection))return s(),!0;const a=Eu(i.doc,e)||n.state.selection,u=n.state.selection.eq(a);return o&&(u||i.setSelection(a),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},Au=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),ku=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);function Su(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}function Fu(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"===typeof e&&null!==e)try{return Array.isArray(e)?gt.fromArray(e.map(e=>t.nodeFromJSON(e))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Fu("",t,n)}if("string"===typeof e){const r=fn.fromSchema(t);return n.slice?r.parseSlice(Su(e),n.parseOptions).content:r.parse(Su(e),n.parseOptions)}return Fu("",t,n)}function Ou(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof Zn||i instanceof Qn))return;const o=e.mapping.maps[r];let s=0;o.forEach((e,t,n,r)=>{0===s&&(s=r)}),e.setSelection($r.near(e.doc.resolve(s),n))}const Mu=e=>e.toString().startsWith("<"),Tu=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const i=Fu(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===i.toString())return!0;let{from:s,to:a}="number"===typeof e?{from:e,to:e}:e,u=!0,c=!0;const l=Mu(i)?i:[i];if(l.forEach(e=>{e.check(),u=!!u&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock}),s===a&&c){const{parent:e}=r.doc.resolve(s),t=e.isTextblock&&!e.type.spec.code&&!e.childCount;t&&(s-=1,a+=1)}u?r.insertText(t,s,a):r.replaceWith(s,a,i),n.updateSelection&&Ou(r,r.steps.length-1,-1)}return!0},ju=()=>({state:e,dispatch:t})=>Ys(e,t),Nu=()=>({state:e,dispatch:t})=>Vs(e,t),Bu=()=>({state:e,dispatch:t})=>Ls(e,t),Iu=()=>({state:e,dispatch:t})=>$s(e,t);function Lu(){return"undefined"!==typeof navigator&&/Mac/.test(navigator.platform)}function Ru(e){const t=e.split(/-(?!$)/);let n,r,i,o,s=t[t.length-1];"Space"===s&&(s=" ");for(let a=0;a<t.length-1;a+=1){const e=t[a];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))i=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Cu()||Lu()?o=!0:r=!0}}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),o&&(s="Meta-"+s),i&&(s="Shift-"+s),s}const Pu=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=Ru(e).split(/-(?!$)/),s=o.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,a))});return null===u||void 0===u||u.steps.forEach(e=>{const t=e.map(r.mapping);t&&i&&r.maybeStep(t)}),!0};function Hu(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?Aa(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize);a.push({node:e,from:n,to:o})});const u=i-r,c=a.filter(e=>!s||s.name===e.node.type.name).filter(e=>pu(e.node.attrs,n,{strict:!1}));if(o)return!!c.length;const l=c.reduce((e,t)=>e+t.to-t.from,0);return l>=u}const zu=(e,t={})=>({state:n,dispatch:r})=>{const i=Aa(e,n.schema),o=Hu(n,i,t);return!!o&&Ws(n,r)},$u=()=>({state:e,dispatch:t})=>Zs(e,t),Uu=e=>({state:t,dispatch:n})=>{const r=Aa(e,t.schema);return va(r)(t,n)},qu=()=>({state:e,dispatch:t})=>Js(e,t);function Yu(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Vu(e,t){const n="string"===typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}const Wu=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=Yu("string"===typeof e?e:e.name,r.schema);return!!a&&("node"===a&&(o=Aa(e,r.schema)),"mark"===a&&(s=yu(e,r.schema)),i&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,Vu(e.attrs,t)),s&&e.marks.length&&e.marks.forEach(i=>{s===i.type&&n.addMark(r,r+e.nodeSize,s.create(Vu(i.attrs,t)))})})}),!0)},Ju=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Ku=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),Xu=()=>({state:e,dispatch:t})=>Ps(e,t),Gu=()=>({state:e,dispatch:t})=>Us(e,t),Zu=()=>({state:e,dispatch:t})=>ta(e,t),Qu=()=>({state:e,dispatch:t})=>aa(e,t),ec=()=>({state:e,dispatch:t})=>sa(e,t);function tc(e,t,n={}){return Fu(e,t,{slice:!1,parseOptions:n})}const nc=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=tc(e,i.schema,n);return o&&r.replaceWith(0,s.content.size,a).setMeta("preventUpdate",!t),!0};function rc(e,t){const n=new Hr(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function ic(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function oc(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&r.push({node:e,pos:t})}),r}function sc(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function ac(e){return t=>sc(t.$from,e)}function uc(e,t){const n=Fn.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument(),i=r.createElement("div");return i.appendChild(n),i.innerHTML}function cc(e){const t=Xa.resolve(e);return Ba(t)}function lc(e,t){const n=cc(t),r=zt.fromJSON(n,e);return uc(r.content,n)}function dc(e,t){const n=yu(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,e=>{s.push(...e.marks)});const a=s.find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}function hc(e,t){const n=Aa(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,e=>{o.push(e)});const s=o.reverse().find(e=>e.type.name===n.name);return s?{...s.attrs}:{}}function fc(e,t){const n=Yu("string"===typeof t?t:t.name,e.schema);return"node"===n?hc(e,t):"mark"===n?dc(e,t):{}}function pc(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}function mc(e){const t=pc(e);return 1===t.length?t:t.filter((e,n)=>{const r=t.filter((e,t)=>t!==n);return!r.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}function gc(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,i)=>{const o=[];if(e.ranges.length)e.forEach((e,t)=>{o.push({from:e,to:t})});else{const{from:e,to:t}=n[i];if(void 0===e||void 0===t)return;o.push({from:e,to:t})}o.forEach(({from:e,to:n})=>{const o=t.slice(i).map(e,-1),s=t.slice(i).map(n),a=t.invert().map(o,-1),u=t.invert().map(s);r.push({oldRange:{from:a,to:u},newRange:{from:o,to:s}})})}),mc(r)}function vc(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const i=n.resolve(e-1),o=vu(i,t.type);o&&r.push({mark:t,...o})}):n.nodesBetween(e,t,(e,t)=>{r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function yc(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?yu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!o||o.name===e.type.name).find(e=>pu(e.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:t,$to:n})=>{const r=t.pos,i=n.pos;e.doc.nodesBetween(r,i,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),o=Math.min(i,t+e.nodeSize),u=o-n;s+=u,a.push(...e.marks.map(e=>({mark:e,from:n,to:o})))})}),0===s)return!1;const u=a.filter(e=>!o||o.name===e.mark.type.name).filter(e=>pu(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=a.filter(e=>!o||e.mark.type!==o&&e.mark.type.excludes(o)).reduce((e,t)=>e+t.to-t.from,0),l=u>0?u+c:u;return l>=s}function bc(e,t){const{nodeExtensions:n}=Ca(t),r=n.find(t=>t.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Oa(Ea(r,"group",i));return"string"===typeof o&&o.split(" ").includes("list")}function Dc(e,t,n){var r;const{selection:i}=t;let o=null;if(_u(i)&&(o=i.$cursor),o){const t=null!==(r=e.storedMarks)&&void 0!==r?r:o.marks();return!!n.isInSet(t)||!t.some(e=>e.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:t,$to:r})=>{let i=0===t.depth&&(e.doc.inlineContent&&e.doc.type.allowsMarkType(n));return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(i)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));i=t&&o}return!i}),i})}const _c=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,u=yu(e,r.schema);if(i)if(s){const e=dc(r,u);n.addStoredMark(u.create({...e,...t}))}else a.forEach(e=>{const i=e.$from.pos,o=e.$to.pos;r.doc.nodesBetween(i,o,(e,r)=>{const s=Math.max(r,i),a=Math.min(r+e.nodeSize,o),c=e.marks.find(e=>e.type===u);c?e.marks.forEach(e=>{u===e.type&&n.addMark(s,a,u.create({...e.attrs,...t}))}):n.addMark(s,a,u.create(t))})});return Dc(r,n,u)},wc=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Ec=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Aa(e,n.schema);return o.isTextblock?i().command(({commands:e})=>{const r=ca(o,t)(n);return!!r||e.clearNodes()}).command(({state:e})=>ca(o,t)(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Cc=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=wu(e,0,n.content.size),i=Jr.create(n,r);t.setSelection(i)}return!0},xc=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:i}="number"===typeof e?{from:e,to:e}:e,o=Vr.atStart(n).from,s=Vr.atEnd(n).to,a=wu(r,o,s),u=wu(i,o,s),c=Vr.create(n,a,u);t.setSelection(c)}return!0},Ac=e=>({state:t,dispatch:n})=>{const r=Aa(e,t.schema);return Da(r)(t,n)};function kc(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function Sc(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null===t||void 0===t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}const Fc=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:a,$to:u}=o,c=i.extensionManager.attributes,l=kc(c,a.node().type.name,a.node().attrs);if(o instanceof Jr&&o.node.isBlock)return!(!a.parentOffset||!mr(s,a.pos))&&(r&&(e&&Sc(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const r=u.parentOffset===u.parent.content.size;o instanceof Vr&&t.deleteSelection();const s=0===a.depth?void 0:ic(a.node(-1).contentMatchAt(a.indexAfter(-1)));let c=r&&s?[{type:s,attrs:l}]:void 0,d=mr(t.doc,t.mapping.map(a.pos),1,c);if(c||d||!mr(t.doc,t.mapping.map(a.pos),1,s?[{type:s}]:void 0)||(d=!0,c=s?[{type:s,attrs:l}]:void 0),d&&(t.split(t.mapping.map(a.pos),1,c),s&&!r&&!a.parentOffset&&a.parent.type!==s)){const e=t.mapping.map(a.before()),n=t.doc.resolve(e);a.node(-1).canReplaceWith(n.index(),n.index()+1,s)&&t.setNodeMarkup(t.mapping.map(a.before()),s)}e&&Sc(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},Oc=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var o;const s=Aa(e,n.schema),{$from:a,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(u))return!1;const l=a.node(-1);if(l.type!==s)return!1;const d=i.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let e=gt.empty;const n=a.index(-1)?1:a.index(-2)?2:3;for(let t=a.depth-n;t>=a.depth-3;t-=1)e=gt.from(a.node(t).copy(e));const r=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,i=kc(d,a.node().type.name,a.node().attrs),u=(null===(o=s.contentMatch.defaultType)||void 0===o?void 0:o.createAndFill(i))||void 0;e=e.append(gt.from(s.createAndFill(null,u)||void 0));const c=a.before(a.depth-(n-1));t.replace(c,a.after(-r),new wt(e,4-n,0));let l=-1;t.doc.nodesBetween(c,t.doc.content.size,(e,t)=>{if(l>-1)return!1;e.isTextblock&&0===e.content.size&&(l=t+1)}),l>-1&&t.setSelection(Vr.near(t.doc.resolve(l))),t.scrollIntoView()}return!0}const h=u.pos===a.end()?l.contentMatchAt(0).defaultType:null,f=kc(d,l.type.name,l.attrs),p=kc(d,a.node().type.name,a.node().attrs);t.delete(a.pos,u.pos);const m=h?[{type:s,attrs:f},{type:h,attrs:p}]:[{type:s,attrs:f}];return!!mr(t.doc,a.pos,2)&&(r&&t.split(a.pos,2,m).scrollIntoView(),!0)},Mc=(e,t)=>{const n=ac(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r),o=n.node.type===(null===i||void 0===i?void 0:i.type)&&vr(e.doc,n.pos);return!o||(e.join(n.pos),!0)},Tc=(e,t)=>{const n=ac(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const i=e.doc.nodeAt(r),o=n.node.type===(null===i||void 0===i?void 0:i.type)&&vr(e.doc,r);return!o||(e.join(r),!0)},jc=(e,t)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:a,can:u})=>{const{extensions:c}=n.extensionManager,l=Aa(e,i.schema),d=Aa(t,i.schema),{selection:h}=i,{$from:f,$to:p}=h,m=f.blockRange(p);if(!m)return!1;const g=ac(e=>bc(e.type.name,c))(h);if(m.depth>=1&&g&&m.depth-g.depth<=1){if(g.node.type===l)return a.liftListItem(d);if(bc(g.node.type.name,c)&&l.validContent(g.node.content)&&o)return s().command(()=>(r.setNodeMarkup(g.pos,l),!0)).command(()=>Mc(r,l)).command(()=>Tc(r,l)).run()}return s().command(()=>{const e=u().wrapInList(l);return!!e||a.clearNodes()}).wrapInList(l).command(()=>Mc(r,l)).command(()=>Tc(r,l)).run()},Nc=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=yu(e,r.schema),a=yc(r,s,t);return a?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},Bc=(e,t,n={})=>({state:r,commands:i})=>{const o=Aa(e,r.schema),s=Aa(t,r.schema),a=Hu(r,o,n);return a?i.setNode(s):i.setNode(o,n)},Ic=(e,t={})=>({state:n,commands:r})=>{const i=Aa(e,n.schema),o=Hu(n,i,t);return o?r.lift(i):r.wrapIn(i,t)},Lc=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const t=e.tr,n=o.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(o.text){const n=t.doc.resolve(o.from).marks();t.replaceWith(o.from,o.to,e.schema.text(o.text,n))}else t.delete(o.from,o.to)}return!0}}return!1},Rc=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},Pc=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,u=yu(e,r.schema),{$from:c,empty:l,ranges:d}=a;if(!i)return!0;if(l&&s){let{from:e,to:t}=a;const r=null===(o=c.marks().find(e=>e.type===u))||void 0===o?void 0:o.attrs,i=vu(c,u,r);i&&(e=i.from,t=i.to),n.removeMark(e,t,u)}else d.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,u)});return n.removeStoredMark(u),!0},Hc=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=Yu("string"===typeof e?e:e.name,r.schema);return!!a&&("node"===a&&(o=Aa(e,r.schema)),"mark"===a&&(s=yu(e,r.schema)),i&&n.selection.ranges.forEach(e=>{const i=e.$from.pos,a=e.$to.pos;r.doc.nodesBetween(i,a,(e,r)=>{o&&o===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),s&&e.marks.length&&e.marks.forEach(o=>{if(s===o.type){const u=Math.max(r,i),c=Math.min(r+e.nodeSize,a);n.addMark(u,c,s.create({...o.attrs,...t}))}})})}),!0)},zc=(e,t={})=>({state:n,dispatch:r})=>{const i=Aa(e,n.schema);return ua(i,t)(n,r)},$c=(e,t={})=>({state:n,dispatch:r})=>{const i=Aa(e,n.schema);return ma(i,t)(n,r)};var Uc=Object.freeze({__proto__:null,blur:ru,clearContent:iu,clearNodes:ou,command:su,createParagraphNear:au,deleteCurrentNode:uu,deleteNode:cu,deleteRange:lu,deleteSelection:du,enter:hu,exitCode:fu,extendMarkRange:bu,first:Du,focus:xu,forEach:Au,insertContent:ku,insertContentAt:Tu,joinUp:ju,joinDown:Nu,joinBackward:Bu,joinForward:Iu,keyboardShortcut:Pu,lift:zu,liftEmptyBlock:$u,liftListItem:Uu,newlineInCode:qu,resetAttributes:Wu,scrollIntoView:Ju,selectAll:Ku,selectNodeBackward:Xu,selectNodeForward:Gu,selectParentNode:Zu,selectTextblockEnd:Qu,selectTextblockStart:ec,setContent:nc,setMark:_c,setMeta:wc,setNode:Ec,setNodeSelection:Cc,setTextSelection:xc,sinkListItem:Ac,splitBlock:Fc,splitListItem:Oc,toggleList:jc,toggleMark:Nc,toggleNode:Bc,toggleWrap:Ic,undoInputRule:Lc,unsetAllMarks:Rc,unsetMark:Pc,updateAttributes:Hc,wrapIn:zc,wrapInList:$c});eu.create({name:"commands",addCommands(){return{...Uc}}}),eu.create({name:"editable",addProseMirrorPlugins(){return[new ri({key:new si("editable"),props:{editable:()=>this.editor.options.editable}})]}}),eu.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new ri({key:new si("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),eu.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:i,$anchor:o}=n,{pos:s,parent:a}=o,u=$r.atStart(r).from===s;return!(!(i&&u&&a.type.isTextblock)||a.textContent.length)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n=()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),r={Enter:n,"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Cu()||Lu()?o:i},addProseMirrorPlugins(){return[new ri({key:new si("clearDocument"),appendTransaction:(e,t,n)=>{const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc);if(!r)return;const{empty:i,from:o,to:s}=t.selection,a=$r.atStart(t.doc).from,u=$r.atEnd(t.doc).to,c=o===a&&s===u,l=0===n.doc.textBetween(0,n.doc.content.size," "," ").length;if(i||!c||!l)return;const d=n.tr,h=_a({state:n,transaction:d}),{commands:f}=new wa({editor:this.editor,state:h});return f.clearNodes(),d.steps.length?d:void 0}})]}}),eu.create({name:"tabindex",addProseMirrorPlugins(){return[new ri({key:new si("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});function qc(e){return new Ha({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Oa(e.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];let u=n.to;if(s){const r=a.search(/\S/),c=n.from+a.indexOf(s),l=c+s.length,d=vc(n.from,n.to,t.doc).filter(t=>{const n=t.mark.type.excluded;return n.find(n=>n===e.type&&n!==t.mark.type)}).filter(e=>e.to>c);if(d.length)return null;l<n.to&&o.delete(l,n.to),c>n.from&&o.delete(n.from+r,c),u=n.from+r+s.length,o.addMark(n.from+r,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function Yc(e){return new Ha({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Oa(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let a=n.to;if(r[1]){const t=r[0].lastIndexOf(r[1]);let n=s+t;n>a?n=a:a=n+r[1].length;const u=r[0][r[0].length-1];o.insertText(u,s+r[0].length-1),o.replaceWith(n,a,e.type.create(i))}else r[0]&&o.replaceWith(s,a,e.type.create(i))}})}function Vc(e){return new Ha({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=Oa(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function Wc(e){return new Ha({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Oa(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),s=o.doc.resolve(n.from),a=s.blockRange(),u=a&&ar(a,e.type,i);if(!u)return null;o.wrap(a,u);const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&vr(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&o.join(n.from-1)}})}class Jc{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oa(Ea(this,"addOptions",{name:this.name}))),this.storage=Oa(Ea(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jc(e)}configure(e={}){const t=this.extend();return t.options=Qa(this.options,e),t.storage=Oa(Ea(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Jc(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oa(Ea(t,"addOptions",{name:t.name})),t.storage=Oa(Ea(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from,i=r.pos===r.end();if(i){const i=r.marks(),o=!!i.find(e=>(null===e||void 0===e?void 0:e.type.name)===t.name);if(!o)return!1;const s=i.find(e=>(null===e||void 0===e?void 0:e.type.name)===t.name);return s&&n.removeStoredMark(s),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}class Kc{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oa(Ea(this,"addOptions",{name:this.name}))),this.storage=Oa(Ea(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kc(e)}configure(e={}){const t=this.extend();return t.options=Qa(this.options,e),t.storage=Oa(Ea(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Kc(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oa(Ea(t,"addOptions",{name:t.name})),t.storage=Oa(Ea(t,"addStorage",{name:t.name,options:t.options})),t}}function Xc(e){return new Ya({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Oa(e.getAttributes,void 0,r);if(!1===i||null===i)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];let u=n.to;if(s){const r=a.search(/\S/),c=n.from+a.indexOf(s),l=c+s.length,d=vc(n.from,n.to,t.doc).filter(t=>{const n=t.mark.type.excluded;return n.find(n=>n===e.type&&n!==t.mark.type)}).filter(e=>e.to>c);if(d.length)return null;l<n.to&&o.delete(l,n.to),c>n.from&&o.delete(n.from+r,c),u=n.from+r+s.length,o.addMark(n.from+r,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function Gc(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}n("868d");var Zc={emojiNode:"emojiNode",bubbleToolbar:"bubbleToolbar",bubbleLink:"bubbleLink",bubbleMenu:"bubbleMenu",blurManager:"blurManager",shortcut:"shortcut",size:"size",clearStyle:"clearStyle",indent:"indent",increaseIndent:"increaseIndent",decreaseIndent:"decreaseIndent",document:"doc",paragraph:"paragraph",orderedList:"orderedList",placeholder:"placeholder",text:"text",link:"link",history:"history",bold:"bold",italic:"italic",strike:"strike",underline:"underline",bulletList:"bulletList",listItem:"listItem",mention:"mention",colorAndHighlight:"colorAndHighlight",highlight:"highlight",textStyle:"textStyle",quote:"blockquote",heading:"heading",keymap:"keymap"},Qc={min:0,max:400,more:40,less:-40},el=[0,40,80,120,160,200,240,280,320,360,400],tl=function(e,t,n){return e<t?t:e>n?n:e};function nl(e){return e.type.name===Zc.orderedList}function rl(e){return e.type.name===Zc.listItem}function il(e,t,n){var r=0,i=Qc.min,o=Qc.max;if(n)return r;if(rl(e)){var s=0===e.attrs.indent?26:0;r=tl((e.attrs.indent||0)+t+s,i,o)}else r=tl((e.attrs.indent||0)+t,i,o);return r}function ol(e){var t=el.find((function(t){return t===e-26||t===e}));return t}function sl(e,t,n,r){if(!e.doc)return e;var o=e.doc.nodeAt(t);if(!o)return e;var s=il(o,n,r);if(s===o.attrs.indent)return e;var a=Object(i["a"])(Object(i["a"])({},o.attrs),{},{indent:s});return e.setNodeMarkup(t,o.type,a,o.marks)}var al=function(e,t,n){var r=e,i=r.doc,o=r.selection;if(!i||!o)return e;if(!(o instanceof Vr||o instanceof Xr))return e;var s=o.from,a=o.to;return i.nodesBetween(s,a,(function(r,i){var o=r.type;return!nl(r)&&("paragraph"!==o.name&&"heading"!==o.name&&"listItem"!==o.name||(e=sl(e,i,t,n),!1))})),e},ul=eu.create({name:Zc.indent,addOptions:function(){return{types:["heading","paragraph","listItem"],defaultIndentLevel:0}},addGlobalAttributes:function(){var e=this;return[{types:this.options.types,attributes:{indent:{default:this.options.defaultIndentLevel,renderHTML:function(e){var t=ol(parseInt(e.indent));return{style:"margin-left: ".concat(t,"px")}},parseHTML:function(t){return parseInt(t.style.marginLeft)||e.options.defaultIndentLevel}}}}]},addCommands:function(){return{indent:function(){return function(e){var t=e.tr,n=e.state,r=e.dispatch,i=e.editor,o=n.selection;return t=t.setSelection(o),t=al(t,Qc.more),t.docChanged?(r&&r(t),!0):(i.chain().focus().run(),!1)}},outdent:function(){return function(e){var t=e.tr,n=e.state,r=e.dispatch,i=e.editor,o=n.selection;return t=t.setSelection(o),t=al(t,Qc.less),t.docChanged?(r&&r(t),!0):(i.chain().focus().run(),!1)}},unsetIndent:function(){return function(e){var t=e.tr,n=e.state,r=e.dispatch,i=e.editor,o=n.selection;return t=t.setSelection(o),t=al(t,Qc.more,!0),t.docChanged?(r&&r(t),!0):(i.chain().focus().run(),!1)}}}}});n("841b");function cl(e){return new ri({key:new si("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),o=t.some(e=>e.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=rc(n.doc,[...t]),{mapping:u}=a,c=gc(a);return c.forEach(({oldRange:t,newRange:i})=>{vc(t.from,t.to,n.doc).filter(t=>t.mark.type===e.type).forEach(t=>{const i=u.map(t.from),o=u.map(t.to),a=vc(i,o,r.doc).filter(t=>t.mark.type===e.type);if(!a.length)return;const c=a[0],l=n.doc.textBetween(t.from,t.to,void 0," "),d=r.doc.textBetween(c.from,c.to,void 0," "),h=Ne(l),f=Ne(d);h&&!f&&s.removeMark(c.from,c.to,e.type)});const o=oc(r.doc,i,e=>e.isTextblock);let a,c;if(o.length>1?(a=o[0],c=r.doc.textBetween(a.pos,a.pos+a.node.nodeSize,void 0," ")):o.length&&r.doc.textBetween(i.from,i.to," "," ").endsWith(" ")&&(a=o[0],c=r.doc.textBetween(a.pos,i.to,void 0," ")),a&&c){const t=c.split(" ").filter(e=>""!==e);if(t.length<=0)return!1;const n=t[t.length-1],r=a.pos+c.lastIndexOf(n);if(!n)return!1;je(n).filter(e=>e.isLink).filter(t=>!e.validate||e.validate(t.value)).map(e=>({...e,from:r+e.start+1,to:r+e.end+1})).forEach(t=>{s.addMark(t.from,t.to,e.type.create({href:t.href}))})}}),s.steps.length?s:void 0}})}function ll(e){return new ri({key:new si("handleClickLink"),props:{handleClick:(t,n,r)=>{var i;const o=fc(t.state,e.type.name),s=null===(i=r.target)||void 0===i?void 0:i.closest("a");return!(!s||!o.href)&&(window.open(o.href,o.target),!0)}}})}function dl(e){return new ri({key:new si("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(e=>{a+=e.textContent});const u=je(a).find(e=>e.isLink&&e.value===a);return!(!a||!u)&&(e.editor.commands.setMark(e.type,{href:u.href}),!0)}}})}const hl=Jc.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(Oe)},onDestroy(){Fe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Xc({find:e=>je(e).filter(e=>!this.options.validate||this.options.validate(e.value)).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(cl({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(ll({type:this.type})),this.options.linkOnPaste&&e.push(dl({editor:this.editor,type:this.type})),e}});function fl(e){return new ri({key:new si("linkClickHandler"),props:{handleClick:function(t,n,r){var i,o=fc(t.state,e.type.name),s=null===(i=r.target)||void 0===i?void 0:i.closest("a");return!(!s||!o.href)&&(e.editor.commands.showBubbleLink(),!0)}}})}var pl=hl.extend({name:Zc.link,renderHTML:function(e){var t=e.HTMLAttributes;return["a",ka(this.options.HTMLAttributes,Object(i["a"])(Object(i["a"])({},t),{},{title:t.href})),0]},addCommands:function(){var e=this;return{setLink:function(t){return function(n){var r=n.chain,i=n.tr,o=n.editor,s=o.isActive(e.name)?r().extendMarkRange(e.name):r(),a=i.selection,u=a.to,c=a.empty;return c?s.insertContentAt(u,t.href,{updateSelection:!1}).setTextSelection({from:u,to:u+t.href.length}).setMark(e.name,t).setMeta("preventAutolink",!0).setTextSelection(i.selection.to).unsetMark(e.name).run():s.setMark(e.name,t).setMeta("preventAutolink",!0).setTextSelection(i.selection.to).unsetMark(e.name).run()}}}},addProseMirrorPlugins:function(){return[fl({editor:this.editor,type:this.type})]}}),ml=(n("8d0d"),n("c78b"),n("f8a5"),{s:"12px",m:"14px",l:"18px"}),gl=eu.create({name:"size",addOptions:function(){return{types:["textStyle"]}},addGlobalAttributes:function(){return[{types:this.options.types,attributes:{size:{default:null,parseHTML:function(e){var t;return null===(t=e.style.fontSize)||void 0===t?void 0:t.replace(/['"]+/g,"")},renderHTML:function(e){return Object.keys(ml).includes(e.size)&&"m"!==e.size?{style:"font-size: ".concat(ml[e.size])}:{}}}}}]},addCommands:function(){return{setSize:function(e){return function(t){var n=t.chain;return n().setMark("textStyle",{size:e}).run()}},unsetSize:function(){return function(e){var t=e.chain;return t().setMark("textStyle",{size:null}).removeEmptyTextStyle().run()}}}}});function vl(e){return{type:Zc.emojiNode,attrs:{emoji:e}}}n("b394");var yl=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,bl=yl();n("6559");function Dl(e,t,n){var i=document.createElement(e);return Object.entries(t).forEach((function(e){var t=Object(r["a"])(e,2),n=t[0],o=t[1];return i.setAttribute(n,o)})),"string"===typeof n&&i.appendChild(document.createTextNode(n)),i}function _l(e,t){return Fn.fromSchema(t).serializeNode(e).outerHTML}var wl=Math.ceil,El=Math.max;function Cl(e,t,n,r){var i=-1,o=El(wl((t-e)/(n||1)),0),s=Array(o);while(o--)s[r?o:++i]=e,e+=n;return s}var xl=Cl,Al=n("1d50"),kl=n("188b"),Sl=n("1366"),Fl=n("8035");function Ol(e,t,n){if(!Object(Fl["a"])(n))return!1;var r=typeof t;return!!("number"==r?Object(kl["a"])(n)&&Object(Sl["a"])(t,n.length):"string"==r&&t in n)&&Object(Al["a"])(n[t],e)}var Ml=Ol,Tl=n("495b"),jl=1/0,Nl=17976931348623157e292;function Bl(e){if(!e)return 0===e?e:0;if(e=Object(Tl["a"])(e),e===jl||e===-jl){var t=e<0?-1:1;return t*Nl}return e===e?e:0}var Il=Bl;function Ll(e){return function(t,n,r){return r&&"number"!=typeof r&&Ml(t,n,r)&&(n=r=void 0),t=Il(t),void 0===n?(n=t,t=0):n=Il(n),r=void 0===r?t<n?1:-1:Il(r),xl(t,n,r,e)}}var Rl=Ll;Rl();n("58d3");function Pl(e){var t=e.find,n=e.type,r=e.getAttributes;return new Ya({find:t,handler:function(e){var t=e.state,i=e.range,o=e.match,s=t.tr,a=o[0];if(a){var u=r(a);s.replaceWith(i.from,i.to,n.createChecked(u))}}})}n("e8b2"),n("cfce"),n("2d6d");function Hl(e,t){var n=zl(t.schema);return tu(t.state.doc,e,{textSerializers:n})}function zl(e){return Object.fromEntries(Object.entries(e.nodes).filter((function(e){var t=Object(r["a"])(e,2),n=t[1];return n.spec.toText})).map((function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return[n,i.spec.toText]})))}n("d6de");function $l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ul(e,t){if(null==e)return{};var n,r,i=$l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ql=n("72dfb"),Yl=n("85bf"),Vl=n("2f54");function Wl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jl(e){var t=Wl(e).Element;return e instanceof t||e instanceof Element}function Kl(e){var t=Wl(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Xl(e){if("undefined"===typeof ShadowRoot)return!1;var t=Wl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Gl=Math.max,Zl=Math.min,Ql=Math.round;function ed(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function td(){return!/^((?!chrome|android).)*safari/i.test(ed())}function nd(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Kl(e)&&(i=e.offsetWidth>0&&Ql(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Ql(r.height)/e.offsetHeight||1);var s=Jl(e)?Wl(e):window,a=s.visualViewport,u=!td()&&n,c=(r.left+(u&&a?a.offsetLeft:0))/i,l=(r.top+(u&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:l,right:c+d,bottom:l+h,left:c,x:c,y:l}}function rd(e){var t=Wl(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function id(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function od(e){return e!==Wl(e)&&Kl(e)?id(e):rd(e)}function sd(e){return e?(e.nodeName||"").toLowerCase():null}function ad(e){return((Jl(e)?e.ownerDocument:e.document)||window.document).documentElement}function ud(e){return nd(ad(e)).left+rd(e).scrollLeft}function cd(e){return Wl(e).getComputedStyle(e)}function ld(e){var t=cd(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function dd(e){var t=e.getBoundingClientRect(),n=Ql(t.width)/e.offsetWidth||1,r=Ql(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function hd(e,t,n){void 0===n&&(n=!1);var r=Kl(t),i=Kl(t)&&dd(t),o=ad(t),s=nd(e,i,n),a={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==sd(t)||ld(o))&&(a=od(t)),Kl(t)?(u=nd(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=ud(o))),{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function fd(e){var t=nd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function pd(e){return"html"===sd(e)?e:e.assignedSlot||e.parentNode||(Xl(e)?e.host:null)||ad(e)}function md(e){return["html","body","#document"].indexOf(sd(e))>=0?e.ownerDocument.body:Kl(e)&&ld(e)?e:md(pd(e))}function gd(e,t){var n;void 0===t&&(t=[]);var r=md(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Wl(r),s=i?[o].concat(o.visualViewport||[],ld(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(gd(pd(s)))}function vd(e){return["table","td","th"].indexOf(sd(e))>=0}function yd(e){return Kl(e)&&"fixed"!==cd(e).position?e.offsetParent:null}function bd(e){var t=/firefox/i.test(ed()),n=/Trident/i.test(ed());if(n&&Kl(e)){var r=cd(e);if("fixed"===r.position)return null}var i=pd(e);Xl(i)&&(i=i.host);while(Kl(i)&&["html","body"].indexOf(sd(i))<0){var o=cd(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function Dd(e){var t=Wl(e),n=yd(e);while(n&&vd(n)&&"static"===cd(n).position)n=yd(n);return n&&("html"===sd(n)||"body"===sd(n)&&"static"===cd(n).position)?t:n||bd(e)||t}var _d="top",wd="bottom",Ed="right",Cd="left",xd="auto",Ad=[_d,wd,Ed,Cd],kd="start",Sd="end",Fd="clippingParents",Od="viewport",Md="popper",Td="reference",jd=Ad.reduce((function(e,t){return e.concat([t+"-"+kd,t+"-"+Sd])}),[]),Nd=[].concat(Ad,[xd]).reduce((function(e,t){return e.concat([t,t+"-"+kd,t+"-"+Sd])}),[]),Bd="beforeRead",Id="read",Ld="afterRead",Rd="beforeMain",Pd="main",Hd="afterMain",zd="beforeWrite",$d="write",Ud="afterWrite",qd=[Bd,Id,Ld,Rd,Pd,Hd,zd,$d,Ud];function Yd(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Vd(e){var t=Yd(e);return qd.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function Wd(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function Jd(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var Kd={placement:"bottom",modifiers:[],strategy:"absolute"};function Xd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Gd(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Kd:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kd,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Jl(e)?gd(e):e.contextElement?gd(e.contextElement):[],popper:gd(t)};var a=Vd(Jd([].concat(r,i.options.modifiers)));return i.orderedModifiers=a.filter((function(e){return e.enabled})),c(),u.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(Xd(t,n)){i.rects={reference:hd(t,Dd(n),"fixed"===i.options.strategy),popper:fd(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,l=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:l,name:d,instance:u})||i)}else i.reset=!1,r=-1}}},update:Wd((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){l(),a=!0}};if(!Xd(e,t))return u;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:u,options:r}),c=function(){};s.push(a||c)}}))}function l(){s.forEach((function(e){return e()})),s=[]}return u.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Zd={passive:!0};function Qd(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,u=Wl(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Zd)})),a&&u.addEventListener("resize",n.update,Zd),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Zd)})),a&&u.removeEventListener("resize",n.update,Zd)}}var eh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qd,data:{}};function th(e){return e.split("-")[0]}function nh(e){return e.split("-")[1]}function rh(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ih(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?th(i):null,s=i?nh(i):null,a=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case _d:t={x:a,y:n.y-r.height};break;case wd:t={x:a,y:n.y+n.height};break;case Ed:t={x:n.x+n.width,y:u};break;case Cd:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?rh(o):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case kd:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Sd:t[c]=t[c]+(n[l]/2-r[l]/2);break;default:}}return t}function oh(e){var t=e.state,n=e.name;t.modifiersData[n]=ih({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var sh={name:"popperOffsets",enabled:!0,phase:"read",fn:oh,data:{}},ah={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uh(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Ql(t*i)/i||0,y:Ql(n*i)/i||0}}function ch(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof l?l({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=Cd,D=_d,_=window;if(c){var w=Dd(n),E="clientHeight",C="clientWidth";if(w===Wl(n)&&(w=ad(n),"static"!==cd(w).position&&"absolute"===a&&(E="scrollHeight",C="scrollWidth")),w=w,i===_d||(i===Cd||i===Ed)&&o===Sd){D=wd;var x=d&&w===_&&_.visualViewport?_.visualViewport.height:w[E];m-=x-r.height,m*=u?1:-1}if(i===Cd||(i===_d||i===wd)&&o===Sd){b=Ed;var A=d&&w===_&&_.visualViewport?_.visualViewport.width:w[C];f-=A-r.width,f*=u?1:-1}}var k,S=Object.assign({position:a},c&&ah),F=!0===l?uh({x:f,y:m}):{x:f,y:m};return f=F.x,m=F.y,u?Object.assign({},S,(k={},k[D]=y?"0":"",k[b]=v?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},S,(t={},t[D]=y?m+"px":"",t[b]=v?f+"px":"",t.transform="",t))}function lh(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,u=void 0===a||a,c={placement:th(t.placement),variation:nh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ch(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ch(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var dh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lh,data:{}};function hh(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Kl(i)&&sd(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function fh(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),s=o.reduce((function(e,t){return e[t]="",e}),{});Kl(r)&&sd(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var ph={name:"applyStyles",enabled:!0,phase:"write",fn:hh,effect:fh,requires:["computeStyles"]};function mh(e,t,n){var r=th(e),i=[Cd,_d].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Cd,Ed].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function gh(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=Nd.reduce((function(e,n){return e[n]=mh(n,t.rects,o),e}),{}),a=s[t.placement],u=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}var vh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gh},yh={left:"right",right:"left",bottom:"top",top:"bottom"};function bh(e){return e.replace(/left|right|bottom|top/g,(function(e){return yh[e]}))}var Dh={start:"end",end:"start"};function _h(e){return e.replace(/start|end/g,(function(e){return Dh[e]}))}function wh(e,t){var n=Wl(e),r=ad(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;var c=td();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a+ud(e),y:u}}function Eh(e){var t,n=ad(e),r=rd(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Gl(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Gl(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ud(e),u=-r.scrollTop;return"rtl"===cd(i||n).direction&&(a+=Gl(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:u}}function Ch(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Xl(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xh(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ah(e,t){var n=nd(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function kh(e,t,n){return t===Od?xh(wh(e,n)):Jl(t)?Ah(t,n):xh(Eh(ad(e)))}function Sh(e){var t=gd(pd(e)),n=["absolute","fixed"].indexOf(cd(e).position)>=0,r=n&&Kl(e)?Dd(e):e;return Jl(r)?t.filter((function(e){return Jl(e)&&Ch(e,r)&&"body"!==sd(e)})):[]}function Fh(e,t,n,r){var i="clippingParents"===t?Sh(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=kh(e,n,r);return t.top=Gl(i.top,t.top),t.right=Zl(i.right,t.right),t.bottom=Zl(i.bottom,t.bottom),t.left=Gl(i.left,t.left),t}),kh(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Oh(){return{top:0,right:0,bottom:0,left:0}}function Mh(e){return Object.assign({},Oh(),e)}function Th(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function jh(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,u=void 0===a?Fd:a,c=n.rootBoundary,l=void 0===c?Od:c,d=n.elementContext,h=void 0===d?Md:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=Mh("number"!==typeof g?g:Th(g,Ad)),y=h===Md?Td:Md,b=e.rects.popper,D=e.elements[p?y:h],_=Fh(Jl(D)?D:D.contextElement||ad(e.elements.popper),u,l,s),w=nd(e.elements.reference),E=ih({reference:w,element:b,strategy:"absolute",placement:i}),C=xh(Object.assign({},b,E)),x=h===Md?C:w,A={top:_.top-x.top+v.top,bottom:x.bottom-_.bottom+v.bottom,left:_.left-x.left+v.left,right:x.right-_.right+v.right},k=e.modifiersData.offset;if(h===Md&&k){var S=k[i];Object.keys(A).forEach((function(e){var t=[Ed,wd].indexOf(e)>=0?1:-1,n=[_d,wd].indexOf(e)>=0?"y":"x";A[e]+=S[n]*t}))}return A}function Nh(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?Nd:u,l=nh(r),d=l?a?jd:jd.filter((function(e){return nh(e)===l})):Ad,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=jh(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[th(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}function Bh(e){if(th(e)===xd)return[];var t=bh(e);return[_h(e),t,_h(t)]}function Ih(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=th(g),y=v===g,b=u||(y||!p?[bh(g)]:Bh(g)),D=[g].concat(b).reduce((function(e,n){return e.concat(th(n)===xd?Nh(t,{placement:n,boundary:l,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),_=t.rects.reference,w=t.rects.popper,E=new Map,C=!0,x=D[0],A=0;A<D.length;A++){var k=D[A],S=th(k),F=nh(k)===kd,O=[_d,wd].indexOf(S)>=0,M=O?"width":"height",T=jh(t,{placement:k,boundary:l,rootBoundary:d,altBoundary:h,padding:c}),j=O?F?Ed:Cd:F?wd:_d;_[M]>w[M]&&(j=bh(j));var N=bh(j),B=[];if(o&&B.push(T[S]<=0),a&&B.push(T[j]<=0,T[N]<=0),B.every((function(e){return e}))){x=k,C=!1;break}E.set(k,B)}if(C)for(var I=p?3:1,L=function(e){var t=D.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},R=I;R>0;R--){var P=L(R);if("break"===P)break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}}var Lh={name:"flip",enabled:!0,phase:"main",fn:Ih,requiresIfExists:["offset"],data:{_skip:!1}};function Rh(e){return"x"===e?"y":"x"}function Ph(e,t,n){return Gl(e,Zl(t,n))}function Hh(e,t,n){var r=Ph(e,t,n);return r>n?n:r}function zh(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=jh(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:l}),v=th(t.placement),y=nh(t.placement),b=!y,D=rh(v),_=Rh(D),w=t.modifiersData.popperOffsets,E=t.rects.reference,C=t.rects.popper,x="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof x?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(w){if(o){var F,O="y"===D?_d:Cd,M="y"===D?wd:Ed,T="y"===D?"height":"width",j=w[D],N=j+g[O],B=j-g[M],I=f?-C[T]/2:0,L=y===kd?E[T]:C[T],R=y===kd?-C[T]:-E[T],P=t.elements.arrow,H=f&&P?fd(P):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Oh(),$=z[O],U=z[M],q=Ph(0,E[T],H[T]),Y=b?E[T]/2-I-q-$-A.mainAxis:L-q-$-A.mainAxis,V=b?-E[T]/2+I+q+U+A.mainAxis:R+q+U+A.mainAxis,W=t.elements.arrow&&Dd(t.elements.arrow),J=W?"y"===D?W.clientTop||0:W.clientLeft||0:0,K=null!=(F=null==k?void 0:k[D])?F:0,X=j+Y-K-J,G=j+V-K,Z=Ph(f?Zl(N,X):N,j,f?Gl(B,G):B);w[D]=Z,S[D]=Z-j}if(a){var Q,ee="x"===D?_d:Cd,te="x"===D?wd:Ed,ne=w[_],re="y"===_?"height":"width",ie=ne+g[ee],oe=ne-g[te],se=-1!==[_d,Cd].indexOf(v),ae=null!=(Q=null==k?void 0:k[_])?Q:0,ue=se?ie:ne-E[re]-C[re]-ae+A.altAxis,ce=se?ne+E[re]+C[re]-ae-A.altAxis:oe,le=f&&se?Hh(ue,ne,ce):Ph(f?ue:ie,ne,f?ce:oe);w[_]=le,S[_]=le-ne}t.modifiersData[r]=S}}var $h={name:"preventOverflow",enabled:!0,phase:"main",fn:zh,requiresIfExists:["offset"]},Uh=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Mh("number"!==typeof e?e:Th(e,Ad))};function qh(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=th(n.placement),u=rh(a),c=[Cd,Ed].indexOf(a)>=0,l=c?"height":"width";if(o&&s){var d=Uh(i.padding,n),h=fd(o),f="y"===u?_d:Cd,p="y"===u?wd:Ed,m=n.rects.reference[l]+n.rects.reference[u]-s[u]-n.rects.popper[l],g=s[u]-n.rects.reference[u],v=Dd(o),y=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,b=m/2-g/2,D=d[f],_=y-h[l]-d[p],w=y/2-h[l]/2+b,E=Ph(D,w,_),C=u;n.modifiersData[r]=(t={},t[C]=E,t.centerOffset=E-w,t)}}function Yh(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&Ch(t.elements.popper,i)&&(t.elements.arrow=i)}var Vh={name:"arrow",enabled:!0,phase:"main",fn:qh,effect:Yh,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wh(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Jh(e){return[_d,Ed,wd,Cd].some((function(t){return e[t]>=0}))}function Kh(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=jh(t,{elementContext:"reference"}),a=jh(t,{altBoundary:!0}),u=Wh(s,r),c=Wh(a,i,o),l=Jh(u),d=Jh(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}var Xh={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kh},Gh=[eh,sh,dh,ph,vh,Lh,$h,Vh,Xh],Zh=Gd({defaultModifiers:Gh}),Qh=n("9869"),ef=function(){function e(t,n){Object(ql["a"])(this,e),Object(Vl["a"])(this,"ref",null);var r=Qh["a"].extend(t);this.ref=new r(n).$mount()}return Object(Yl["a"])(e,[{key:"element",get:function(){return this.ref.$el}},{key:"updateProps",value:function(e){var t=this;if(this.ref.$props){var n=Qh["a"].config.silent;Qh["a"].config.silent=!0,Object.entries(e).forEach((function(e){var n=Object(r["a"])(e,2),i=n[0],o=n[1];t.ref.$props[i]=o})),Qh["a"].config.silent=n}}},{key:"destroy",value:function(){this.ref.$destroy()}}]),e}(),tf=["getContainer","getBoundariesDom"],nf=["clientRect"],rf=["clientRect"],of=function(){function e(t){var n=t.getContainer,r=t.getBoundariesDom,i=Ul(t,tf);Object(ql["a"])(this,e),Object(Vl["a"])(this,"_component",null),Object(Vl["a"])(this,"_virtualElement",null),Object(Vl["a"])(this,"_popperInstance",null),Object(Vl["a"])(this,"_options",null),Object(Vl["a"])(this,"_getContainer",null),Object(Vl["a"])(this,"_getBoundariesDom",null),this._options=i,this._getContainer=n,this._getBoundariesDom=r}return Object(Yl["a"])(e,[{key:"componentRef",get:function(){return this._component&&this._component.ref}},{key:"_container",get:function(){return"function"===typeof this._getContainer?this._getContainer():document.body}},{key:"_boundariesDom",get:function(){return"function"===typeof this._getBoundariesDom?this._getBoundariesDom():null}},{key:"create",value:function(e,t){var n=t.clientRect,r=Ul(t,nf);this._component=new ef(e,{propsData:Object(i["a"])(Object(i["a"])({},r),{},{visible:!1})}),this._container.appendChild(this._component.element),this._updateVirtualElement(n),this._popperInstance=Zh(this._virtualElement,this._component.element,Object(i["a"])({placement:"top-start"},this._options))}},{key:"_updateVirtualElement",value:function(e){if(this._virtualElement||(this._virtualElement={}),this._virtualElement.getBoundingClientRect=e,this._boundariesDom){var t=this._boundariesDom;this._virtualElement.getBoundingClientRect=function(){var n=e(),r=t.getBoundingClientRect(),i=r.top;return n.top<i&&(n.top=i),n}}}},{key:"show",value:function(e){var t=e.clientRect,n=Ul(e,rf);this._popperInstance&&(this._updateVirtualElement(t),this._popperInstance.update()),this._component&&this._component.updateProps(Object(i["a"])(Object(i["a"])({},n),{},{visible:!0}))}},{key:"hide",value:function(){this._component&&this._component.updateProps({visible:!1})}},{key:"destroy",value:function(){this._popperInstance&&(this._popperInstance.destroy(),this._popperInstance=null),this._component&&(this._container.removeChild(this._component.element),this._component.destroy(),this._component=null)}}]),e}(),sf=(n("33ef"),"\ufeff");function af(e){var t=e.node,n=e.editor,r=e.getPos,i=t.attrs.emoji,o=Dl("span",{contentEditable:!0,"data-emoji":i,class:"emojiNode"}),s=Dl("span",{contentEditable:!1},i),a=Dl("span",{contentEditable:!0},sf);o.appendChild(s),o.appendChild(a);var u={get before(){return r()},get after(){return this.before+t.nodeSize}};return{dom:o,ignoreMutation:function(e){if("selection"===e.type&&e.target===a&&n.chain().focus().setTextSelection(u.after).run(),n.isEditable&&"characterData"===e.type&&e.target.parentNode===a){a.innerText=sf;var t=e.target.nodeValue.slice(sf.length);n.chain().focus().insertContentAt(u.after,t).setTextSelection(u.after+t.length).run()}return!0},stopEvent:function(e){var r=e.target===a,i=n.state.selection,o=i.empty?{from:u.before,to:u.after}:{from:i.$from.pos,to:i.$to.pos};if("copy"===e.type&&(e.preventDefault(),!r)){var s=null,c=Hl(o,n);if(i.empty)s=_l(t,n.schema);else{var l=i.content().content;s=uc(l,n.schema)}e.clipboardData.setData("text/html",s),e.clipboardData.setData("text/plain",c)}if("paste"===e.type&&(e.preventDefault(),n.isEditable)){var d=e.clipboardData.getData("text/html"),h=e.clipboardData.getData("text/plain");r?n.chain().focus().insertContentAt(u.after,h||d).setMeta("uiEvent","paste").run():n.chain().focus().insertContentAt(o,h||d).setMeta("uiEvent","paste").run()}return!0}}}function uf(e){var t;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=e,a=Gc(n),u=new RegExp(`\\s${a}$`),c=o?"^":"",l=r?new RegExp(`${c}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${c}(?:^)?${a}[^\\s${a}]*`,"gm"),d=(null===(t=s.nodeBefore)||void 0===t?void 0:t.isText)&&s.nodeBefore.text;if(!d)return null;const h=s.pos-d.length,f=Array.from(d.matchAll(l)).pop();if(!f||void 0===f.input||void 0===f.index)return null;const p=f.input.slice(Math.max(0,f.index-1),f.index),m=new RegExp(`^[${null===i||void 0===i?void 0:i.join("")}\0]?$`).test(p);if(null!==i&&!m)return null;const g=h+f.index;let v=g+f[0].length;return r&&u.test(d.slice(v-1,v+1))&&(f[0]+=" ",v+=1),g<s.pos&&v>=s.pos?{range:{from:g,to:v},query:f[0].slice(n.length),text:f[0]}:null}const cf=new si("suggestion");function lf({pluginKey:e=cf,editor:t,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:a="suggestion",command:u=(()=>null),items:c=(()=>[]),render:l=(()=>({})),allow:d=(()=>!0)}){let h;const f=null===l||void 0===l?void 0:l(),p=new ri({key:e,view(){return{update:async(e,n)=>{var r,i,o,s,a,l,d;const p=null===(r=this.key)||void 0===r?void 0:r.getState(n),m=null===(i=this.key)||void 0===i?void 0:i.getState(e.state),g=p.active&&m.active&&p.range.from!==m.range.from,v=!p.active&&m.active,y=p.active&&!m.active,b=!v&&!y&&p.query!==m.query,D=v||g,_=b&&!g,w=y||g;if(!D&&!_&&!w)return;const E=w&&!D?p:m,C=e.dom.querySelector(`[data-decoration-id="${E.decorationId}"]`);h={editor:t,range:E.range,query:E.query,text:E.text,items:[],command:e=>{u({editor:t,range:E.range,props:e})},decorationNode:C,clientRect:C?()=>{var n;const{decorationId:r}=null===(n=this.key)||void 0===n?void 0:n.getState(t.state),i=e.dom.querySelector(`[data-decoration-id="${r}"]`);return(null===i||void 0===i?void 0:i.getBoundingClientRect())||null}:null},D&&(null===(o=null===f||void 0===f?void 0:f.onBeforeStart)||void 0===o||o.call(f,h)),_&&(null===(s=null===f||void 0===f?void 0:f.onBeforeUpdate)||void 0===s||s.call(f,h)),(_||D)&&(h.items=await c({editor:t,query:E.query})),w&&(null===(a=null===f||void 0===f?void 0:f.onExit)||void 0===a||a.call(f,h)),_&&(null===(l=null===f||void 0===f?void 0:f.onUpdate)||void 0===l||l.call(f,h)),D&&(null===(d=null===f||void 0===f?void 0:f.onStart)||void 0===d||d.call(f,h))},destroy:()=>{var e;h&&(null===(e=null===f||void 0===f?void 0:f.onExit)||void 0===e||e.call(f,h))}}},state:{init(){const e={active:!1,range:{from:0,to:0},query:null,text:null,composing:!1};return e},apply(e,s,a,u){const{isEditable:c}=t,{composing:l}=t.view,{selection:h}=e,{empty:f,from:p}=h,m={...s};if(m.composing=l,c&&(f||t.view.composing)){!(p<s.range.from||p>s.range.to)||l||s.composing||(m.active=!1);const e=uf({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:h.$from}),a="id_"+Math.floor(4294967295*Math.random());e&&d({editor:t,state:u,range:e.range})?(m.active=!0,m.decorationId=s.decorationId?s.decorationId:a,m.range=e.range,m.query=e.query,m.text=e.text):m.active=!1}else m.active=!1;return m.active||(m.decorationId=null,m.range={from:0,to:0},m.query=null,m.text=null),m}},props:{handleKeyDown(e,t){var n;const{active:r,range:i}=p.getState(e.state);return r&&(null===(n=null===f||void 0===f?void 0:f.onKeyDown)||void 0===n?void 0:n.call(f,{view:e,event:t,range:i}))||!1},decorations(e){const{active:t,range:n,decorationId:r}=p.getState(e);return t?us.create(e.doc,[is.inline(n.from,n.to,{nodeName:s,class:a,"data-decoration-id":r})]):null}}});return p}var df=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"im-suggestion-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"im-suggestion-emoji-popper"},[n("zm-scrollbar",{ref:"scrollbar",attrs:{"wrap-class":"im-suggestion-emoji-scroll"}},[n("div",{staticClass:"im-suggestion-emoji-items"},e._l(e.items,(function(t,r){return n("button",{key:r,ref:"item",refInFor:!0,class:["im-suggestion-emoji-item",{"is-selected":r===e.selectedIndex}],on:{click:function(t){return e.selectItem(r)}}},[n("span",{staticClass:"im-suggestion-emoji"},[e._v(e._s(t.emoji))]),n("span",{staticClass:"im-suggestion-emoji-name",domProps:{innerHTML:e._s(e.nameWithHighlight(t.fullName))}})])})),0)])],1)])},hf=[],ff=(n("88a1"),n("d4b5"),n("7bf8"),n("0d9f"),{name:"emoji-suggestion-list",props:{visible:{type:Boolean,default:!1},query:{type:String,default:""},items:{type:Array,required:!0},command:{type:Function,required:!0}},data:function(){return{selectedIndex:0}},watch:{items:function(){this.selectedIndex=0}},methods:{onKeyDown:function(e){var t=e.event;return t.stopPropagation(),"ArrowUp"===t.key?(this.upHandler(),!0):"ArrowDown"===t.key?(this.downHandler(),!0):"Enter"===t.key&&(this.enterHandler(),!0)},upHandler:function(){this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length,this.scrollToItem(this.selectedIndex)},downHandler:function(){this.selectedIndex=(this.selectedIndex+1)%this.items.length,this.scrollToItem(this.selectedIndex)},enterHandler:function(){this.selectItem(this.selectedIndex)},selectItem:function(e){var t=this.items[e];t&&this.command(t)},scrollToItem:function(e){this.$refs.scrollbar&&this.$refs.scrollbar.scrollIntoView(this.$refs.item[e])},nameWithHighlight:function(e){return this.query?e.replace(new RegExp(this.query,"g"),'<span class="im-highlight">'.concat(this.query,"</span>")):e}}}),pf=ff,mf=(n("232b"),n("2be6")),gf=Object(mf["a"])(pf,df,hf,!1,null,"7d90114e",null),vf=gf.exports,yf=new si(Zc.emojiNode);function bf(e,t,n){var r=e.editor,i=e.name,o=e.options;return lf({editor:r,char:":",pluginKey:yf,command:function(e){var t=e.editor,n=e.range,r=e.props;t.chain().focus().insertContentAt(n,[vl(r.emoji)]).run()},allow:function(e){var t=e.state,n=e.range,r=t.doc.resolve(n.from),o=t.schema.nodes[i];return!!r.parent.type.contentMatch.matchType(o)},items:function(e){var t=e.query;return t.length<=1?[]:o.getEmojis().filter((function(e){var n=e.fullName;return n.toLowerCase().includes(t.toLowerCase())}))},render:function(){var e=new of({getContainer:n});return{onStart:function(t){e.create(vf,t);var n=t.editor.commands.registerPreventBlurElement;"function"===typeof n&&n(e.componentRef.$el)},onUpdate:function(n){n.items.length?(e.show(n),t(!0)):(e.hide(),t(!1))},onKeyDown:function(n){return"Escape"===n.event.key?(e.hide(n),t(!1),!0):e.componentRef&&e.componentRef.onKeyDown(n)},onExit:function(){t(!1),e.destroy()}}}})}var Df=Kc.create({name:Zc.emojiNode,group:"inline",inline:!0,selectable:!1,draggable:!1,atom:!0,marks:Zc.strike,addOptions:function(){return{getEmojis:function(){return[]},getSuggestionContainer:null}},addStorage:function(){return{isSuggestionActive:!1}},addAttributes:function(){return{emoji:{default:null,parseHTML:function(e){return e.getAttribute("data-emoji")},renderHTML:function(e){return{"data-emoji":e.emoji}}}}},addInputRules:function(){var e=this,t=null;return[Yc({find:function(n){if(t=e.options.getEmojis().find((function(e){var t=e.fullName;return n.includes(t)})),t){var r=t.fullName;return{index:n.indexOf(r),text:r}}return null},type:this.type,getAttributes:function(){return{emoji:t.emoji}}})]},addPasteRules:function(){return[Pl({find:bl,type:this.type,getAttributes:function(e){return{emoji:e}}})]},parseHTML:function(){return[{tag:"span[data-emoji]"}]},renderHTML:function(e){var t=e.HTMLAttributes,n=e.node;return["span",ka(t,{contentEditable:!1,class:"emojiNode"}),n.attrs.emoji]},renderText:function(e){var t=e.node;return t.attrs.emoji},addNodeView:function(){return af},addProseMirrorPlugins:function(){var e=this,t=function(t){e.storage.isSuggestionActive=t};return[bf(this,t,this.options.getSuggestionContainer)]}});n("d48b"),n("65dd");const _f=/^\s*>\s$/,wf=Kc.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Wc({find:_f,type:this.type})]}}),Ef=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Cf=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,xf=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Af=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,kf=Jc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[qc({find:Ef,type:this.type}),qc({find:xf,type:this.type})]},addPasteRules(){return[Xc({find:Cf,type:this.type}),Xc({find:Af,type:this.type})]}}),Sf=/^\s*([-+*])\s$/,Ff=Kc.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return this.options.itemTypeName+"+"},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Wc({find:Sf,type:this.type})]}}),Of=Jc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>{const t=e.hasAttribute("style");return!!t&&{}}}]},renderHTML({HTMLAttributes:e}){return["span",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=dc(e,this.type),r=Object.entries(n).some(([,e])=>!!e);return!!r||t.unsetMark(this.name)}}}}),Mf=eu.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return null===(t=e.style.color)||void 0===t?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:"color: "+e.color}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Tf=Kc.create({name:"doc",topNode:!0,content:"block+"}),jf=Kc.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:"h"+e,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){const n=this.options.levels.includes(e.attrs.level),r=n?e.attrs.level:this.options.levels[0];return["h"+r,ka(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,["Mod-Alt-"+t]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>Vc({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),Nf=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,Bf=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,If=Jc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:"background-color: "+e.color}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[qc({find:Nf,type:this.type})]},addPasteRules(){return[Xc({find:Bf,type:this.type})]}});var Lf=200,Rf=function(){};Rf.prototype.append=function(e){return e.length?(e=Rf.from(e),!this.length&&e||e.length<Lf&&this.leafAppend(e)||this.length<Lf&&e.leafPrepend(this)||this.appendInner(e)):this},Rf.prototype.prepend=function(e){return e.length?Rf.from(e).append(this):this},Rf.prototype.appendInner=function(e){return new Hf(this,e)},Rf.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Rf.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Rf.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Rf.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Rf.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Rf.from=function(e){return e instanceof Rf?e:e&&e.length?new Pf(e):Rf.empty};var Pf=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Lf)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Lf)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Rf);Rf.empty=new Pf([]);var Hf=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Rf),zf=Rf,$f=zf;const Uf=500;class qf{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){let e=this.items.get(i-1);if(e.selection){--i;break}}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,s,a=e.tr,u=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new Vf(e.map));let t,i=e.step.map(n.slice(r));i&&a.maybeStep(i).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],u.push(new Vf(t,void 0,void 0,u.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,s=new qf(this.items.slice(0,i).append(c.reverse().concat(u)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:a,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,u=e.steps[c].invert(e.docs[c]),l=new Vf(e.mapping.maps[c],u,t);(n=a&&a.merge(l))&&(l=n,c?i.pop():s=s.slice(0,s.length-1)),i.push(l),t&&(o++,t=void 0),r||(a=l)}let u=o-n.depth;return u>Jf&&(s=Yf(s,u),o-=u),new qf(s.append(i),o)}remapping(e,t){let n=new Un;return this.items.forEach((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)},e,t),n}addMaps(e){return 0==this.eventCount?this:new qf(this.items.append(e.map(e=>new Vf(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},r);let a=t;this.items.forEach(t=>{let r=i.getMirror(--a);if(null==r)return;o=Math.min(o,r);let u=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(a+1,r));c&&s++,n.push(new Vf(u,o,c))}else n.push(new Vf(u))},r);let u=[];for(let d=t;d<o;d++)u.push(new Vf(i.maps[d]));let c=this.items.slice(0,r).append(u).append(n),l=new qf(c,s);return l.emptyItemCount()>Uf&&(l=l.compress(this.items.length-n.length)),l}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((o,s)=>{if(s>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=o.selection&&o.selection.map(t.slice(n));a&&i++;let u,c=new Vf(s.invert(),e,a),l=r.length-1;(u=r.length&&r[l].merge(c))?r[l]=u:r.push(c)}}else o.map&&n--},this.items.length,0),new qf($f.from(r.reverse()),i)}}function Yf(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}qf.empty=new qf($f.empty,0);class Vf{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Vf(t.getMap().invert(),t,this.selection)}}}class Wf{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const Jf=20;function Kf(e,t,n,r){let i,o=n.getMeta(rp);if(o)return o.historyState;n.getMeta(ip)&&(e=new Wf(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(rp))return s.getMeta(rp).redo?new Wf(e.done.addTransform(n,void 0,r,np(t)),e.undone,Gf(n.mapping.maps[n.steps.length-1]),e.prevTime):new Wf(e.done,e.undone.addTransform(n,void 0,r,np(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Wf(e.done.rebased(n,i),e.undone.rebased(n,i),Zf(e.prevRanges,n.mapping),e.prevTime):new Wf(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Zf(e.prevRanges,n.mapping),e.prevTime);{let i=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Xf(n,e.prevRanges)),o=s?Zf(e.prevRanges,n.mapping):Gf(n.mapping.maps[n.steps.length-1]);return new Wf(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,np(t)),qf.empty,o,n.time)}}function Xf(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)}),n}function Gf(e){let t=[];return e.forEach((e,n,r,i)=>t.push(r,i)),t}function Zf(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function Qf(e,t,n,r){let i=np(t),o=rp.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),u=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),c=new Wf(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(a).setMeta(rp,{redo:r,historyState:c}).scrollIntoView())}let ep=!1,tp=null;function np(e){let t=e.plugins;if(tp!=t){ep=!1,tp=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){ep=!0;break}}return ep}const rp=new si("history"),ip=new si("closeHistory");function op(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new ri({key:rp,state:{init(){return new Wf(qf.empty,qf.empty,null,0)},apply(t,n,r){return Kf(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?sp:"historyRedo"==n?ap:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const sp=(e,t)=>{let n=rp.getState(e);return!(!n||0==n.done.eventCount)&&(t&&Qf(n,e,t,!1),!0)},ap=(e,t)=>{let n=rp.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&Qf(n,e,t,!0),!0)};const up=eu.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>sp(e,t),redo:()=>({state:e,dispatch:t})=>ap(e,t)}},addProseMirrorPlugins(){return[op(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),cp=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,lp=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,dp=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,hp=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,fp=Jc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[qc({find:cp,type:this.type}),qc({find:dp,type:this.type})]},addPasteRules(){return[Xc({find:lp,type:this.type}),Xc({find:hp,type:this.type})]}}),pp=Kc.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",ka(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),mp=/^(\d+)\.\s$/,gp=Kc.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return this.options.itemTypeName+"+"},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",ka(this.options.HTMLAttributes,n),0]:["ol",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Wc({find:mp,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),vp=Kc.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),yp=eu.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ri({props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=e.type.createAndFill(),s=(null===o||void 0===o?void 0:o.sameMarkup(e))&&null===o.content.findDiffStart(e.content);return e.descendants((e,t)=>{const n=r>=t&&r<=t+e.nodeSize,o=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&o){const r=[this.options.emptyNodeClass];s&&r.push(this.options.emptyEditorClass);const o=is.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"===typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});i.push(o)}return this.options.includeChildren}),us.create(e,i)}}})]}}),bp=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Dp=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,_p=Jc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}]},renderHTML({HTMLAttributes:e}){return["s",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[qc({find:bp,type:this.type})]},addPasteRules(){return[Xc({find:Dp,type:this.type})]}}),wp=Kc.create({name:"text",group:"inline"}),Ep=Jc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}]},renderHTML({HTMLAttributes:e}){return["u",ka(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});var Cp=n("fbea"),xp=n.n(Cp),Ap=[up,Tf,vp,wp,Ff,wf,pp,gp,kf,fp,Ep,_p,yp,If.extend({priority:102}).configure({multicolor:!0}),Of.extend({priority:101}),Mf,jf],kp=[1,2,3];eu.create({name:"officialExtensionKit",addExtensions:function(){return[up.extend({name:Zc.history}),Tf.extend({name:Zc.document}),vp.extend({name:Zc.paragraph}),wp.extend({name:Zc.text}),Ff.extend({name:Zc.bulletList}),wf.extend({name:Zc.quote}).configure({HTMLAttributes:{class:xp.a.editorBlockQuote}}),pp.extend({name:Zc.listItem,content:"".concat(Zc.paragraph),renderHTML:function(e){var t=e.HTMLAttributes;return["li",t,["div",0]]}}),gp.extend({name:Zc.orderedList}),kf.extend({name:Zc.bold}),fp.extend({name:Zc.italic}),Ep.extend({name:Zc.underline}),_p.extend({name:Zc.strike}),jf.extend({name:Zc.heading}).configure({levels:kp}),yp.extend({name:Zc.placeholder,addCommands:function(){var e=this;return{setPlaceholder:function(t){return function(){e.options.placeholder=t}}}}}).configure((this.options||{}).placeholder),If.extend({name:Zc.highlight,priority:102}).configure({multicolor:!0}),Mf,Of.extend({name:Zc.textStyle,priority:101})]}}),n("28eb"),n("b55a"),n("e94e"),n("b506"),n("0d5c");function Sp(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Fp=Sp;function Op(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}var Mp=Op,Tp=n("4846"),jp=n("1b5d"),Np=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bp=/^\w*$/;function Ip(e,t){if(Object(Tp["a"])(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(jp["a"])(e))||(Bp.test(e)||!Np.test(e)||null!=t&&e in Object(t))}var Lp=Ip,Rp=n("0988"),Pp="Expected a function";function Hp(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Pp);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Hp.Cache||Rp["a"]),n}Hp.Cache=Rp["a"];var zp=Hp,$p=500;function Up(e){var t=zp(e,(function(e){return n.size===$p&&n.clear(),e})),n=t.cache;return t}var qp=Up,Yp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vp=/\\(\\)?/g,Wp=qp((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Yp,(function(e,n,r,i){t.push(r?i.replace(Vp,"$1"):n||e)})),t})),Jp=Wp,Kp=n("180b"),Xp=1/0,Gp=Kp["a"]?Kp["a"].prototype:void 0,Zp=Gp?Gp.toString:void 0;function Qp(e){if("string"==typeof e)return e;if(Object(Tp["a"])(e))return Mp(e,Qp)+"";if(Object(jp["a"])(e))return Zp?Zp.call(e):"";var t=e+"";return"0"==t&&1/e==-Xp?"-0":t}var em=Qp;function tm(e){return null==e?"":em(e)}var nm=tm;function rm(e,t){return Object(Tp["a"])(e)?e:Lp(e,t)?[e]:Jp(nm(e))}var im=rm,om=1/0;function sm(e){if("string"==typeof e||Object(jp["a"])(e))return e;var t=e+"";return"0"==t&&1/e==-om?"-0":t}var am=sm;function um(e,t){t=im(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[am(t[n++])];return n&&n==r?e:void 0}var cm=um,lm=n("0c70"),dm="__lodash_hash_undefined__";function hm(e){return this.__data__.set(e,dm),this}var fm=hm;function pm(e){return this.__data__.has(e)}var mm=pm;function gm(e){var t=-1,n=null==e?0:e.length;this.__data__=new Rp["a"];while(++t<n)this.add(e[t])}gm.prototype.add=gm.prototype.push=fm,gm.prototype.has=mm;var vm=gm;function ym(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var bm=ym;function Dm(e,t){return e.has(t)}var _m=Dm,wm=1,Em=2;function Cm(e,t,n,r,i,o){var s=n&wm,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var d=-1,h=!0,f=n&Em?new vm:void 0;o.set(e,t),o.set(t,e);while(++d<a){var p=e[d],m=t[d];if(r)var g=s?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!bm(t,(function(e,t){if(!_m(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o["delete"](e),o["delete"](t),h}var xm=Cm,Am=n("998e");function km(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Sm=km;function Fm(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Om=Fm,Mm=1,Tm=2,jm="[object Boolean]",Nm="[object Date]",Bm="[object Error]",Im="[object Map]",Lm="[object Number]",Rm="[object RegExp]",Pm="[object Set]",Hm="[object String]",zm="[object Symbol]",$m="[object ArrayBuffer]",Um="[object DataView]",qm=Kp["a"]?Kp["a"].prototype:void 0,Ym=qm?qm.valueOf:void 0;function Vm(e,t,n,r,i,o,s){switch(n){case Um:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $m:return!(e.byteLength!=t.byteLength||!o(new Am["a"](e),new Am["a"](t)));case jm:case Nm:case Lm:return Object(Al["a"])(+e,+t);case Bm:return e.name==t.name&&e.message==t.message;case Rm:case Hm:return e==t+"";case Im:var a=Sm;case Pm:var u=r&Mm;if(a||(a=Om),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=Tm,s.set(e,t);var l=xm(a(e),a(t),r,i,o,s);return s["delete"](e),l;case zm:if(Ym)return Ym.call(e)==Ym.call(t)}return!1}var Wm=Vm,Jm=n("05a0"),Km=1,Xm=Object.prototype,Gm=Xm.hasOwnProperty;function Zm(e,t,n,r,i,o){var s=n&Km,a=Object(Jm["a"])(e),u=a.length,c=Object(Jm["a"])(t),l=c.length;if(u!=l&&!s)return!1;var d=u;while(d--){var h=a[d];if(!(s?h in t:Gm.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<u){h=a[d];var v=e[h],y=t[h];if(r)var b=s?r(y,v,h,t,e,o):r(v,y,h,e,t,o);if(!(void 0===b?v===y||i(v,y,n,r,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var D=e.constructor,_=t.constructor;D==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof D&&D instanceof D&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}var Qm=Zm,eg=n("11ac"),tg=n("4cf0"),ng=n("1ee4"),rg=1,ig="[object Arguments]",og="[object Array]",sg="[object Object]",ag=Object.prototype,ug=ag.hasOwnProperty;function cg(e,t,n,r,i,o){var s=Object(Tp["a"])(e),a=Object(Tp["a"])(t),u=s?og:Object(eg["a"])(e),c=a?og:Object(eg["a"])(t);u=u==ig?sg:u,c=c==ig?sg:c;var l=u==sg,d=c==sg,h=u==c;if(h&&Object(tg["a"])(e)){if(!Object(tg["a"])(t))return!1;s=!0,l=!1}if(h&&!l)return o||(o=new lm["a"]),s||Object(ng["a"])(e)?xm(e,t,n,r,i,o):Wm(e,t,u,n,r,i,o);if(!(n&rg)){var f=l&&ug.call(e,"__wrapped__"),p=d&&ug.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new lm["a"]),i(m,g,n,r,o)}}return!!h&&(o||(o=new lm["a"]),Qm(e,t,n,r,i,o))}var lg=cg,dg=n("81fc");function hg(e,t,n,r,i){return e===t||(null==e||null==t||!Object(dg["a"])(e)&&!Object(dg["a"])(t)?e!==e&&t!==t:lg(e,t,n,r,hg,i))}var fg=hg,pg=1,mg=2;function gg(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;e=Object(e);while(i--){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}while(++i<o){a=n[i];var u=a[0],c=e[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var d=new lm["a"];if(r)var h=r(c,l,u,e,t,d);if(!(void 0===h?fg(l,c,pg|mg,r,d):h))return!1}}return!0}var vg=gg;function yg(e){return e===e&&!Object(Fl["a"])(e)}var bg=yg,Dg=n("1685");function _g(e){var t=Object(Dg["a"])(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,bg(i)]}return t}var wg=_g;function Eg(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var Cg=Eg;function xg(e){var t=wg(e);return 1==t.length&&t[0][2]?Cg(t[0][0],t[0][1]):function(n){return n===e||vg(n,e,t)}}var Ag=xg;function kg(e,t,n){var r=null==e?void 0:cm(e,t);return void 0===r?n:r}var Sg=kg;function Fg(e,t){return null!=e&&t in Object(e)}var Og=Fg,Mg=n("3d8a"),Tg=n("153e");function jg(e,t,n){t=im(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var s=am(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&Object(Tg["a"])(i)&&Object(Sl["a"])(s,i)&&(Object(Tp["a"])(e)||Object(Mg["a"])(e)))}var Ng=jg;function Bg(e,t){return null!=e&&Ng(e,t,Og)}var Ig=Bg,Lg=1,Rg=2;function Pg(e,t){return Lp(e)&&bg(t)?Cg(am(e),t):function(n){var r=Sg(n,e);return void 0===r&&r===t?Ig(n,e):fg(t,r,Lg|Rg)}}var Hg=Pg;function zg(e){return e}var $g=zg;function Ug(e){return function(t){return null==t?void 0:t[e]}}var qg=Ug;function Yg(e){return function(t){return cm(t,e)}}var Vg=Yg;function Wg(e){return Lp(e)?qg(am(e)):Vg(e)}var Jg=Wg;function Kg(e){return"function"==typeof e?e:null==e?$g:"object"==typeof e?Object(Tp["a"])(e)?Hg(e[0],e[1]):Ag(e):Jg(e)}var Xg=Kg;function Gg(e){return function(t,n,r){var i=-1,o=Object(t),s=r(t),a=s.length;while(a--){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}var Zg=Gg,Qg=Zg(),ev=Qg;function tv(e,t){return e&&ev(e,t,Dg["a"])}var nv=tv;function rv(e,t){return function(n,r){if(null==n)return n;if(!Object(kl["a"])(n))return e(n,r);var i=n.length,o=t?i:-1,s=Object(n);while(t?o--:++o<i)if(!1===r(s[o],o,s))break;return n}}var iv=rv,ov=iv(nv),sv=ov;function av(e,t){var n=-1,r=Object(kl["a"])(e)?Array(e.length):[];return sv(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}var uv=av;function cv(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}var lv=cv,dv=n("7250");function hv(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=Object(jp["a"])(e),s=void 0!==t,a=null===t,u=t===t,c=Object(jp["a"])(t);if(!a&&!c&&!o&&e>t||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}var fv=hv;function pv(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;while(++r<s){var u=fv(i[r],o[r]);if(u){if(r>=a)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}var mv=pv;function gv(e,t,n){t=t.length?Mp(t,(function(e){return Object(Tp["a"])(e)?function(t){return cm(t,1===e.length?e[0]:e)}:e})):[$g];var r=-1;t=Mp(t,Object(dv["a"])(Xg));var i=uv(e,(function(e,n,i){var o=Mp(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return lv(i,(function(e,t){return mv(e,t,n)}))}var vv=gv;function yv(e,t,n,r){return null==e?[]:(Object(Tp["a"])(t)||(t=null==t?[]:[t]),n=r?void 0:n,Object(Tp["a"])(n)||(n=null==n?[]:[n]),vv(e,t,n))}var bv=yv;function Dv(e){return e&&e.length?e[0]:void 0}var _v=Dv;function wv(e){var t=-1,n=null==e?0:e.length,r=0,i=[];while(++t<n){var o=e[t];o&&(i[r++]=o)}return i}var Ev=wv,Cv=n("805c"),xv=Kp["a"]?Kp["a"].isConcatSpreadable:void 0;function Av(e){return Object(Tp["a"])(e)||Object(Mg["a"])(e)||!!(xv&&e&&e[xv])}var kv=Av;function Sv(e,t,n,r,i){var o=-1,s=e.length;n||(n=kv),i||(i=[]);while(++o<s){var a=e[o];t>0&&n(a)?t>1?Sv(a,t-1,n,r,i):Object(Cv["a"])(i,a):r||(i[i.length]=a)}return i}var Fv=Sv;function Ov(e){var t=null==e?0:e.length;return t?Fv(e,1):[]}var Mv=Ov;function Tv(e,t){var n=-1,r=e.length,i=0,o=[];while(++n<r){var s=e[n],a=t?t(s):s;if(!n||!Object(Al["a"])(a,u)){var u=a;o[i++]=0===s?0:s}}return o}var jv=Tv;function Nv(e){return e&&e.length?jv(e):[]}var Bv=Nv;function Iv(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}var Lv=Iv;function Rv(e){var t=Il(e),n=t%1;return t===t?n?t-n:t:0}var Pv=Rv,Hv=Math.ceil,zv=Math.max;function $v(e,t,n){t=(n?Ml(e,t,n):void 0===t)?1:zv(Pv(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];var i=0,o=0,s=Array(Hv(r/t));while(i<r)s[o++]=Lv(e,i,i+=t);return s}var Uv=$v,qv={bold:1,italic:2,boldAndItalic:3,strikethrough:4,bulletedList:8,numberedList:16,underline:32,fontSize:64,fontColor:128,backgroundColor:256,indent:512,paragraph:1024,quote:2048,insertLink:4096},Yv=new RegExp("(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?","ig"),Vv=0;function Wv(e){return Object(dt["a"])(e.matchAll(Yv)).map((function(e){var t=e[0],n=e.index;return{type:Vv,startpos:n,endpos:n+t.length-1,href:t}}))}var Jv=[qv.bulletedList,qv.numberedList,qv.indent,qv.paragraph];function Kv(e){switch(e){case qv.backgroundColor:return Zc.highlight;case qv.fontColor:case qv.fontSize:return Zc.textStyle;case qv.bold:return Zc.bold;case qv.bulletedList:return Zc.bulletList;case qv.indent:return Zc.paragraph;case qv.insertLink:return Zc.link;case qv.italic:return Zc.italic;case qv.numberedList:return Zc.orderedList;case qv.paragraph:return Zc.heading;case qv.quote:return Zc.quote;case qv.strikethrough:return Zc.strike;case qv.underline:return Zc.underline;default:return Zc.paragraph}}function Xv(e){var t=e.filter((function(e){var t=e.type;return t===qv.paragraph})),n=e.filter((function(e){var t=e.type;return t===qv.quote}));return t.length||n.length?e.reduce((function(e,r){return r.type===qv.bold&&t.some((function(e){return e.start===r.start&&e.end>=r.end}))||r.type===qv.fontSize&&t.some((function(e){return e.start===r.start&&e.end===r.end}))||r.type===qv.italic&&n.some((function(e){return e.start===r.start&&e.end===r.end}))?e:[].concat(Object(dt["a"])(e),[r])}),[]):e}function Gv(e){var t=e.styleItems,n=void 0===t?[]:t,r=e.text,o=void 0===r?"":r;if(!o.trim())return dy();var s=Xv(n.map((function(e){return Object(i["a"])(Object(i["a"])({},Qv({startpos:Number(e.startpos),endpos:Number(e.endpos)},o)),{},{type:e.type,href:null===e||void 0===e?void 0:e.href,reserve:e.reserve1})}))),a=s.filter((function(e){var t=e.type;return Jv.includes(t)})),u=ny(s.filter((function(e){return e.type===qv.quote}))),c=ty(o,a,u),l=[].concat(Object(dt["a"])(c),Object(dt["a"])(u)).sort((function(e,t){return e.start-t.start})),d=ey(s,o),h=l.map((function(e){var t,n=sy(e,d,o),r=[Zc.bulletList,Zc.orderedList,Zc.quote].includes(e.type)?[{type:Zc.paragraph,content:n}]:n;return null!==(t=e.content)&&void 0!==t&&t.length&&(r=[Object(i["a"])(Object(i["a"])({},e.content[0]),{},{content:r})]),Object(i["a"])(Object(i["a"])({},e),{},{content:r})}));return hy(dy(oy(h)))}function Zv(e){var t=e.fontStyte||[],n=e.content||"";return Gv({styleItems:[].concat(Object(dt["a"])(t),Object(dt["a"])(Wv(n))),text:n})}function Qv(e,t){var n=e.startpos,r=e.endpos;return"\n"===t[r]?{start:n,end:r}:{start:n,end:r+1}}function ey(e,t){var n=Object(dt["a"])(t.trim().matchAll(/\n/g)).map((function(e){var t=e.index;return t})),i=Bv(bv(Mv([].concat(Object(dt["a"])(n),Object(dt["a"])(e.map((function(e){var t=e.start,n=e.end;return[t,n]}))))))),o=Uv(i.reduce((function(e,t,n){return 0===n||n===i.length-1?[].concat(Object(dt["a"])(e),[t]):[].concat(Object(dt["a"])(e),[t,t])}),[]),2);return o.filter((function(e){var n=Object(r["a"])(e,2),i=n[0],o=n[1];return"\n"!==t.slice(i,o)})).map((function(n){var i=Object(r["a"])(n,2),o=i[0],s=i[1];return{start:"\n"===t[o]?o+1:o,end:"\n"===t[s-1]?s-1:s,marks:Ev(Mv(e.filter((function(e){return e.start<=o&&s<=e.end})).map((function(e){var t=e.type,n=e.href,r=e.reserve;switch(t){case qv.bold:case qv.italic:case qv.strikethrough:case qv.underline:return{type:Kv(t)};case qv.boldAndItalic:return[{type:Zc.bold},{type:Zc.italic}];case Vv:return{type:Zc.link,attrs:{href:n}};case qv.insertLink:return{type:Zc.link,attrs:{href:r}};case qv.backgroundColor:return{type:Kv(t),attrs:{color:"#".concat(r)}};case qv.fontColor:return{type:Kv(t),attrs:{color:"#".concat(r)}};case qv.fontSize:return{type:Kv(t),attrs:{size:r}};default:return null}}))))}})).filter((function(e){var t=e.marks;return!!t.length}))}function ty(e,t,n){var r=e.trim().split("\n").reduce((function(e,t){var n=Fp(e),r=n?n.end+1:0,i=r+t.length;return[].concat(Object(dt["a"])(e),[{start:r,end:i}])}),[]);return Ev(r.map((function(e){var r=t.filter((function(t){var n=t.start,r=t.end;return n<=e.start&&e.end<=r})),o=n.some((function(t){return t.start<=e.start&&t.end>=e.end}));return o?null:r.length?Object(i["a"])(Object(i["a"])({},ry(r)),e):Object(i["a"])(Object(i["a"])({},e),{},{type:Zc.paragraph})})))}function ny(e){return e.map((function(e){return{start:e.start,end:e.end,type:Zc.quote}}))}function ry(e){if(!e.length)return null;var t=e.find((function(e){return e.type===qv.paragraph})),n=e.find((function(e){return e.type===qv.indent})),r=e.find((function(e){return[qv.bulletedList,qv.numberedList].includes(e.type)}));if(r){var o=Object(i["a"])(Object(i["a"])({},r),{},{type:Kv(r.type)});return t&&(o.content=[Object(i["a"])(Object(i["a"])({},t),{},{type:Kv(t.type),attrs:iy(t)})]),n&&(o.attrs=iy(n)),o}return t&&n?Object(i["a"])(Object(i["a"])({},t),{},{type:Kv(t.type),attrs:Object(i["a"])(Object(i["a"])({},iy(t)),iy(n))}):Object(i["a"])(Object(i["a"])({},e[0]),{},{type:Kv(e[0].type),attrs:iy(e[0])})}function iy(e){if(e){var t=e.type,n=e.reserve;switch(t){case qv.indent:return{indent:n};case qv.paragraph:return{level:Number((null===n||void 0===n?void 0:n.replace("h",""))||1)};default:return}}}function oy(e){if(!e.length)return[];for(var t=[],n=null,r=[],o=0;o<e.length;o++){var s=e[o];[Zc.bulletList,Zc.orderedList].includes(s.type)?(t.push(Object(i["a"])(Object(i["a"])({},s),{},{type:Zc.listItem})),n=s.type):t.length?(r.push({type:n,content:t}),r.push(s),t=[],n=null):r.push(s)}return t.length&&r.push({type:n,content:t}),r}function sy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.filter((function(t){var n=t.start,r=t.end;return e.start<=n&&r<=e.end})),o=(null===r||void 0===r?void 0:r.filter((function(t){var n=t.start,r=t.end;return e.start<=n&&r<=e.end})))||[],s=ay(o,n),a=uy(i,n),u=[].concat(Object(dt["a"])(a),Object(dt["a"])(s)).sort((function(e,t){return e.start-t.start})),c=cy(u,e.start,e.end,n);return Mv(c.map((function(e){return e.text?cy(ly(e),0,e.text.length,e.text,e.marks):e})))}function ay(e,t){if(!e.length)return[]}function uy(e,t){return e.map((function(e){var n=e.start,r=e.end,i=e.marks;return{start:n,end:r,type:Zc.text,text:t.slice(n,r),marks:i}}))}function cy(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!e.length)return[{type:Zc.text,text:r.slice(t,n),marks:i}];var o=e.reduce((function(e,t){var n=Fp(e);return n&&n.end!==t.start?[].concat(Object(dt["a"])(e),[{type:Zc.text,text:r.slice(n.end,t.start),marks:i},t]):[].concat(Object(dt["a"])(e),[t])}),[]),s=_v(o);s.start>t&&o.unshift({type:Zc.text,text:r.slice(t,s.start),marks:i});var a=Fp(o);return a.end<n&&o.push({type:Zc.text,text:r.slice(a.end,n),marks:i}),o}function ly(e){var t=e.text,n=e.marks,r=Object(dt["a"])(t.matchAll(bl));return r.map((function(e){var t=e[0],r=e.index;return Object(i["a"])({start:r,end:r+t.length,type:Zc.emojiNode,attrs:{emoji:t}},n?{marks:n}:{})}))}function dy(e){return{type:Zc.document,content:e}}function hy(e){var t=e.type,n=e.text,r=e.marks,o=e.attrs,s=e.content;return Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({type:t},t===Zc.text?{text:n||" "}:{}),r&&r.length?{marks:r}:{}),o?{attrs:o}:{}),s&&s.length?{content:s.map((function(e){return hy(e)}))}:{})}function fy(e){return!e.replace(bl,"").replace("\n","")}var py=[].concat(Object(dt["a"])(Ap),[Df,pl,gl,ul]);function my(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:py,n=fy(e.content||""),r=lc(Zv(e),t);return n?'<div class="emoji-only">'.concat(r,"</div>"):r}var gy=n("b0f5");function vy(e,t){return!!t.find((function(t){var n=t.id;return e.id===n}))}function yy(e,t){switch(t){case ct["g"].host:return by(e);case ct["g"].moderator:return by(e);default:return e}}function by(e){var t={rel:"noopener noreferrer"};return Object(gy["a"])()?t.attributes=function(e){return{_clientid:ct["f"],_dataurl:e}}:t.target="_blank",tt(e,t)}var Dy=function(e,t,n){return e?by(my(t)):yy(my(t),n)},_y=0;function wy(){return _y++}t["a"]={computed:Object(i["a"])({},Object(at["e"])(["channelType"])),methods:{handleMessage:function(e){var t=this.handleMessages(e);return t},handleMessages:function(e){var t=this,n=[];return e.forEach((function(e){!e.comments&&(e.comments=[]),!e.xmpp&&(e.messageType=ct["e"].text),!e.matched&&(e.matched=!1),!e.showMessage&&(e.showMessage=!1),e.matchIndex=wy(),e.id=e.id.replace(/[\\{\\}]/g,""),e.replyId&&(e.replyId=e.replyId.replace(/[\\{\\}]/g,"")),e.messageType===ct["e"].info?e.message=e:e=t.normalizeMessage(e);var r=e.comments;r&&r.length>0&&(e.comments=t.handleMessage(r)),vy(e,n)||n.push(e)})),n},normalizeMessage:function(e){if(e.deleted||e.notRecord){e.hasParsed=!0;var t=e.content||"";e.deleted?t="<p>".concat(this.$t("xmpp_deleted_message"),"</p>"):e.notRecord&&(t="<p>".concat(this.$t("xmpp_not_record_message"),"</p>")),e.htmlContent=t}else if(e.xmpp){if(!e.hasParsed){var n=ut["a"].xml2Json(e.xmppData||""),o=ut["a"]._generateBasicInfo(n,ut["a"].json2Elem(n));o?e=Object(i["a"])(Object(i["a"])(Object(i["a"])({},o),e),{},{messageType:o.messageType}):e.isNotSupport=!0,e.hasParsed=!0}var s=e.messageType,a=lt[e.id];if(!a)if(s===ct["e"].text){var u=Dy(!0,e,null);a=u||e.message||e.content,lt[e.id]=a}else s===ct["e"].image||s===ct["e"].screenshot||s===ct["e"].giphy?e.selfCreated?a='<img src="'.concat(e.message,'">'):e.ready?(e.loading=!1,a='<img src="'.concat(e.message,'">')):(e.loading=!1,a='<img style="width: 100px; height: 100px" src="'.concat(e.message,'">')):e.isNotSupport&&(a="<p>".concat(this.$t("xmpp_unsupported_message"),"</p>"));e.htmlContent=a}else{e.hasParsed=!0;var c=lt[e.id];c||(c=e.content,lt[e.id]=c),e.htmlContent=c}if(e.senderName){var l=e.senderName||"",d=e.nickname||"",h=e.senderName?e.senderName.split(" "):[],f=Object(r["a"])(h,2),p=f[0],m=f[1];e.avatarName=l||d,e.displayName=l||d,e.avatarShortName="".concat(p?p[0]:"").concat(m?m[0]:""),e.senderAvatar=e.avatar||""}return e}}}},"2ea2":function(e,t,n){n("c998")},"2ee7":function(e,t,n){"use strict";n("cc2b")},36580:function(e,t,n){},"3d5d":function(e,t,n){var r=n("31c3");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"3dfd":function(e){e.exports=JSON.parse('{"en":{"unicode":{},"alpha_range":"a-z","suffix":["s"],"stopwords":["a","able","about","above","according","accordingly","across","actually","after","afterwards","again","against","ain\'t","all","allow","allows","almost","alone","along","already","also","although","always","am","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","aren\'t","around","as","aside","ask","asking","associated","at","available","away","awfully","be","became","because","become","becomes","becoming","been","before","beforehand","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","c\'mon","c\'s","came","can","can\'t","cannot","cant","cause","causes","certain","certainly","changes","clearly","co","com","come","comes","concerning","consequently","consider","considering","contain","containing","contains","corresponding","could","couldn\'t","course","currently","definitely","described","despite","did","didn\'t","different","do","does","doesn\'t","doing","don\'t","done","down","downwards","during","each","edu","eg","eight","either","else","elsewhere","enough","entirely","especially","et","etc","even","ever","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","far","few","fifth","first","five","followed","following","follows","for","former","formerly","forth","four","from","further","furthermore","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","had","hadn\'t","happens","hardly","has","hasn\'t","have","haven\'t","having","he","he\'s","hello","help","hence","her","here","here\'s","hereafter","hereby","herein","hereupon","hers","herself","hi","him","himself","his","hither","hopefully","how","howbeit","however","i\'d","i\'ll","i\'m","i\'ve","ie","if","ignored","immediate","in","inasmuch","inc","indeed","indicate","indicated","indicates","inner","insofar","instead","into","inward","is","isn\'t","it","it\'d","it\'ll","it\'s","its","itself","just","keep","keeps","kept","know","known","knows","last","lately","later","latter","latterly","least","less","lest","let","let\'s","like","liked","likely","little","look","looking","looks","ltd","mainly","many","may","maybe","me","mean","meanwhile","merely","might","more","moreover","most","mostly","much","must","my","myself","name","namely","nd","near","nearly","necessary","need","needs","neither","never","nevertheless","new","next","nine","no","nobody","non","none","noone","nor","normally","not","nothing","novel","now","nowhere","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","only","onto","or","other","others","otherwise","ought","our","ours","ourselves","out","outside","over","overall","own","particular","particularly","per","perhaps","placed","please","plus","possible","presumably","probably","provides","que","quite","qv","rather","rd","re","really","reasonably","regarding","regardless","regards","relatively","respectively","right","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","she","should","shouldn\'t","since","six","so","some","somebody","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","t\'s","take","taken","tell","tends","th","than","thank","thanks","thanx","that","that\'s","thats","the","their","theirs","them","themselves","then","thence","there","there\'s","thereafter","thereby","therefore","therein","theres","thereupon","these","they","they\'d","they\'ll","they\'re","they\'ve","think","third","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","to","together","too","took","toward","towards","tried","tries","truly","try","trying","twice","two","un","under","unfortunately","unless","unlikely","until","unto","up","upon","us","use","used","useful","uses","using","usually","value","various","very","via","viz","vs","want","wants","was","wasn\'t","way","we","we\'d","we\'ll","we\'re","we\'ve","welcome","well","went","were","weren\'t","what","what\'s","whatever","when","whence","whenever","where","where\'s","whereafter","whereas","whereby","wherein","whereupon","wherever","whether","which","while","whither","who","who\'s","whoever","whole","whom","whose","why","will","willing","wish","with","within","without","won\'t","wonder","would","wouldn\'t","yes","yet","you","you\'d","you\'ll","you\'re","you\'ve","your","yours","yourself","yourselves","zero"]},"fr":{"unicode":{"a":["à"],"o":["ô"],"e":["é","è","ê"],"i":["î"],"u":["û","ù"]},"alpha_range":"a-zàôéèêîûù","suffix":["s"],"stopwords":["alors","au","aucuns","aussi","autre","avant","avec","avoir","bon","car","ce","cela","ces","ceux","chaque","ci","comme","comment","dans","des","du","dedans","dehors","depuis","deux","devrait","doit","donc","dos","droite","début","elle","elles","en","encore","essai","est","et","eu","fait","faites","fois","font","force","haut","hors","ici","il","ils","je","juste","la","le","les","leur","là","ma","maintenant","mais","mes","mine","moins","mon","mot","même","ni","nommés","notre","nous","nouveaux","ou","où","par","parce","parole","pas","personnes","peut","peu","pièce","plupart","pour","pourquoi","quand","que","quel","quelle","quelles","quels","qui","sa","sans","ses","seulement","si","sien","son","sont","sous","soyez","sujet","sur","ta","tandis","tellement","tels","tes","ton","tous","tout","trop","très","tu","valeur","voie","voient","vont","votre","vous","vu","ça","étaient","état","étions","été","être"]}}')},"3dff":function(e,t,n){},"40fe":function(e,t,n){"use strict";var r=n("d328"),i=n("aaf2").exportTypedArrayStaticMethod,o=n("7d23");i("from",o,r)},4243:function(e,t,n){var r=n("f498"),i=n("72df"),o=n("70b7"),s=n("2a3e"),a=n("61ad").trim,u=n("fbf7"),c=r.parseInt,l=r.Symbol,d=l&&l.iterator,h=/^[+-]?0x/i,f=o(h.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||d&&!i((function(){c(Object(d))}));e.exports=p?function(e,t){var n=a(s(e));return c(n,t>>>0||(f(h,n)?16:10))}:c},"45ce":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c}));var r=20,i={text:"text",image:"image",giphy:"giphy",screenshot:"screenshot",info:"info",file:"file"},o={host:"host",moderator:"moderator",speaker:"speaker",sponsor:"sponsor",attendee:"attendee"},s={unsend:0,sending:1,sended:2,sendError:3,notDownload:4,downloading:5,downloaded:6,downloadError:7},a={cancel:"CancelHttpRequest"},u={noConnection:"no-connection",success:"success",invalidSuffix:"invalidSuffix"},c="_im_client_a_tag"},"46b8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("8d0d");var r=n("050d"),i=n.n(r),o=n("0cd0"),s=n.n(o);n("cdf0"),n("96f5"),n("cb41"),n("fb9f"),n("7a3c"),n("4c7c"),n("8328"),n("ed7e"),n("de07"),n("c4d4"),n("c18c"),n("67d9"),n("6156"),n("0a8a");function a(e,t){return Math.abs(i()(e).diff(t,"minute"))}i.a.extend(s.a)},"495b":function(e,t,n){"use strict";var r=/\s/;function i(e){var t=e.length;while(t--&&r.test(e.charAt(t)));return t}var o=i,s=/^\s+/;function a(e){return e?e.slice(0,o(e)+1).replace(s,""):e}var u=a,c=n("8035"),l=n("1b5d"),d=NaN,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt;function g(e){if("number"==typeof e)return e;if(Object(l["a"])(e))return d;if(Object(c["a"])(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(c["a"])(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=u(e);var n=f.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):h.test(e)?d:+e}t["a"]=g},"4a20":function(e,t,n){var r=n("31c3");r("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"4c7c":function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return n.default.locale(r,null,!0),r}))},"4f66":function(e,t,n){"use strict";var r=n("6c2f"),i=n("0ffc"),o=["b","big","i","small","tt,","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var,","a","bdo","br","img","map","object","q","span","sub","sup,","button","input","label","select","textarea"],s=["br","sup","sub","img"],a=["style","head","script","svg"],u={};o.forEach((function(e){u[e]="inline"})),a.forEach((function(e){u[e]="noContent"}));var c={};s.forEach((function(e){c[e]=!0})),e.exports=function(e,t,n){n=i(n);var o=[],s="",a=0;while(1){var l,d,h=e.indexOf("<",a),f=0;if(-1===h){s+=e.substr(a);break}var p=e.indexOf(">",h);if(-1===p)throw new Error("Invalid HTML markup.");s+=e.substr(a,h-a);var m="/"===e[h+1];if(m)l=e.substr(h+2,p-h-2),d="inline"!==u[l];else{l=e.substr(h+1,p-h-1);var g=l.match(/([a-z-])+/gi);if(l=g&&g[0]?g[0]:"unknown-tag",d="inline"!==u[l],"noContent"===u[l]){var v=l+">",y=e.indexOf(l+">",p);-1!==y&&(p=y+v.length)}}(d&&m||c[l])&&(s+=" ",f+=1),o.push({t:s.length,h:p+f,l:p-h+1,c:m,s:f,b:d}),a=p+1}var b=r(s,t,n),D=function(e,t){for(var n=[],r=0,i=0,s=0;s<o.length;s+=1){var a=o[s];if(t<=a.t)break;if(a.t<e)r+=a.l;else if(!a.c&&o[s+1]&&o[s+1].c&&t>=o[s+1].t&&!a.b)s+=1,i+=a.l,a=o[s];else{var u=e+r,c=a.h-(a.l+a.s)+1;c-u>0&&n.push({start:u,end:c}),r=a.h-e+1}r-=a.s,i+=a.l-a.s}return n.push({start:e+r,end:t+i}),n},_=0;return b.indices.forEach((function(t){for(var r=D(t.startIndex,t.endIndex),i=0;i<r.length;i+=1){var o=r[i];o.start+=_,o.end+=_;var s=e.substr(0,o.start),a=e.substr(o.start,o.end-o.start),u=e.substr(o.end),c=0===i?n.before:n.beforeSecond,l=0===i?n.after:n.afterSecond;e=s+c+a+l+u,_+=c.length+l.length}})),{html:e,text:b.text.trim()}}},"50f9":function(e,t,n){},5141:function(e,t,n){"use strict";var r=function(e,t,n){var r=[];e[n](),t[n]();while(e.length>0){for(var i=!0,o=0;o<e.length;o+=1)if(!t[o].stopword){i=!1;break}if(i)break;r.push(e.join("[ \\t]+")),e[n]()}return r};e.exports=function(e){var t=[],n=e.map((function(e){return e.token}));n.length>0&&t.push(n.join("[ \\t]+")),t=t.concat(r(n.slice(0),e.slice(0),"pop")),t=t.concat(r(n.slice(0),e.slice(0),"shift"));for(var i=0;i<n.length;i+=1)e[i].stopword||t.push(n[i]);return t=t.reverse().filter((function(e,t,n){return-1===n.indexOf(e,t+1)})).reverse(),t}},"54d7":function(e,t,n){"use strict";n("5fe7")},"56a2":function(e,t,n){var r=n("6b1d"),i=n("616a");r({target:"Number",stat:!0},{isInteger:i})},"58d3":function(e,t,n){"use strict";var r=n("b546"),i=n("95b2"),o=n("157c"),s=n("b495"),a=n("2a3e"),u=n("730c"),c=n("60de"),l=n("e3f6"),d=n("df8c");i("match",(function(e,t,n){return[function(t){var n=u(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](a(n))},function(e){var r=o(this),i=a(e),u=n(t,r,i);if(u.done)return u.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;var h,f=[],p=0;while(null!==(h=d(r,i))){var m=a(h[0]);f[p]=m,""===m&&(r.lastIndex=l(i,s(r.lastIndex),c)),p++}return 0===p?null:f}]}))},"596a":function(e,t,n){var r=n("31c3");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"5bd4":function(e,t,n){"use strict";(function(e,r,i){n.d(t,"a",(function(){return JD}));var o,s,a=n("32a0"),u=n("eded"),c=n("2a34"),l=n("72dfb"),d=n("85bf"),h=n("66b7"),f=n("e109"),p=n("2f54"),m=n("5d5a"),g=n("2085");n("ef1f"),n("0d9f"),n("e68e"),n("f8a5"),n("2aa5"),n("918c"),n("88a1"),n("d4b5"),n("7bf8"),n("32f5"),n("dee9"),n("2169"),n("b257"),n("11ed"),n("cfce"),n("f38f"),n("d48b"),n("65dd"),n("f7d3"),n("fa8c"),n("75a4"),n("5a6a"),n("dc28"),n("4258"),n("5d84"),n("ffd0"),n("1dc1"),n("523f"),n("829e"),n("194e"),n("69a7"),n("655c"),n("4a04"),n("f28a"),n("d0d3"),n("d9d9"),n("7de7"),n("53fc"),n("8b79"),n("e890"),n("56c2"),n("3c4c9"),n("9e77"),n("7846"),n("cecc"),n("d9ce"),n("f465"),n("81ee"),n("ab7f"),n("33ef"),n("ef14"),n("6708"),n("4a20"),n("c87f"),n("56a2"),n("e94e"),n("868d"),n("40fe"),n("5e10"),n("907d"),n("9bd2"),n("f3b8"),n("2c93"),n("d6de"),n("8d0f"),n("62c8"),n("d86f"),n("b55a"),n("28eb"),n("8423"),n("7b4b"),n("345a"),n("9396"),n("2d6d"),n("16d1"),n("2ea2"),n("841a"),n("d48b1"),n("58d3"),n("258d"),n("fe02"),n("adb7"),n("8db5"),n("f9bc"),n("b506"),n("d331b"),n("ba92"),n("3d5d"),n("8b83"),n("f271"),n("596a"),n("5ecb"),n("a35f"),n("8d0d"),n("c78b"),n("74b7"),n("05f5"),n("1706"),n("defa");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="object"==("undefined"===typeof e?"undefined":Object(g["a"])(e))&&e&&e.Object===Object&&e,b=y,D="object"==("undefined"===typeof self?"undefined":Object(g["a"])(self))&&self&&self.Object===Object&&self,_=b||D||Function("return this")(),w=_,E=w.Symbol,C=E,x=Object.prototype,A=x.hasOwnProperty,k=x.toString,S=C?C.toStringTag:void 0;function F(e){var t=A.call(e,S),n=e[S];try{e[S]=void 0;var r=!0}catch(o){}var i=k.call(e);return r&&(t?e[S]=n:delete e[S]),i}var O=Object.prototype,M=O.toString;function T(e){return M.call(e)}var j="[object Null]",N="[object Undefined]",B=C?C.toStringTag:void 0;function I(e){return null==e?void 0===e?N:j:B&&B in Object(e)?F(e):T(e)}var L=Array.isArray,R=L;function P(e){return null!=e&&"object"==Object(g["a"])(e)}var H="[object String]";function z(e){return"string"==typeof e||!R(e)&&P(e)&&I(e)==H}function $(e,t){return function(n){return e(t(n))}}var U=$(Object.getPrototypeOf,Object),q=U,Y="[object Object]",V=Function.prototype,W=Object.prototype,J=V.toString,K=W.hasOwnProperty,X=J.call(Object);function G(e){if(!P(e)||I(e)!=Y)return!1;var t=q(e);if(null===t)return!0;var n=K.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&J.call(n)==X}var Z=Object.prototype;function Q(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Z;return e===n}var ee=$(Object.keys,Object),te=ee,ne=Object.prototype,re=ne.hasOwnProperty;function ie(e){if(!Q(e))return te(e);var t=[];for(var n in Object(e))re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function oe(e){var t=Object(g["a"])(e);return null!=e&&("object"==t||"function"==t)}var se="[object AsyncFunction]",ae="[object Function]",ue="[object GeneratorFunction]",ce="[object Proxy]";function le(e){if(!oe(e))return!1;var t=I(e);return t==ae||t==ue||t==se||t==ce}var de=w["__core-js_shared__"],he=de,fe=function(){var e=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pe(e){return!!fe&&fe in e}var me=Function.prototype,ge=me.toString;function ve(e){if(null!=e){try{return ge.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var ye=/[\\^$.*+?()[\]{}|]/g,be=/^\[object .+?Constructor\]$/,De=Function.prototype,_e=Object.prototype,we=De.toString,Ee=_e.hasOwnProperty,Ce=RegExp("^"+we.call(Ee).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xe(e){if(!oe(e)||pe(e))return!1;var t=le(e)?Ce:be;return t.test(ve(e))}function Ae(e,t){return null==e?void 0:e[t]}function ke(e,t){var n=Ae(e,t);return xe(n)?n:void 0}var Se=ke(w,"DataView"),Fe=Se,Oe=ke(w,"Map"),Me=Oe,Te=ke(w,"Promise"),je=Te,Ne=ke(w,"Set"),Be=Ne,Ie=ke(w,"WeakMap"),Le=Ie,Re="[object Map]",Pe="[object Object]",He="[object Promise]",ze="[object Set]",$e="[object WeakMap]",Ue="[object DataView]",qe=ve(Fe),Ye=ve(Me),Ve=ve(je),We=ve(Be),Je=ve(Le),Ke=I;(Fe&&Ke(new Fe(new ArrayBuffer(1)))!=Ue||Me&&Ke(new Me)!=Re||je&&Ke(je.resolve())!=He||Be&&Ke(new Be)!=ze||Le&&Ke(new Le)!=$e)&&(Ke=function(e){var t=I(e),n=t==Pe?e.constructor:void 0,r=n?ve(n):"";if(r)switch(r){case qe:return Ue;case Ye:return Re;case Ve:return He;case We:return ze;case Je:return $e}return t});var Xe=Ke,Ge="[object Arguments]";function Ze(e){return P(e)&&I(e)==Ge}var Qe=Object.prototype,et=Qe.hasOwnProperty,tt=Qe.propertyIsEnumerable,nt=Ze(function(){return arguments}())?Ze:function(e){return P(e)&&et.call(e,"callee")&&!tt.call(e,"callee")},rt=nt,it=9007199254740991;function ot(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=it}function st(e){return null!=e&&ot(e.length)&&!le(e)}function at(){return!1}var ut="object"==("undefined"===typeof exports?"undefined":Object(g["a"])(exports))&&exports&&!exports.nodeType&&exports,ct=ut&&"object"==Object(g["a"])(r)&&r&&!r.nodeType&&r,lt=ct&&ct.exports===ut,dt=lt?w.Buffer:void 0,ht=dt?dt.isBuffer:void 0,ft=ht||at,pt=ft,mt="[object Arguments]",gt="[object Array]",vt="[object Boolean]",yt="[object Date]",bt="[object Error]",Dt="[object Function]",_t="[object Map]",wt="[object Number]",Et="[object Object]",Ct="[object RegExp]",xt="[object Set]",At="[object String]",kt="[object WeakMap]",St="[object ArrayBuffer]",Ft="[object DataView]",Ot="[object Float32Array]",Mt="[object Float64Array]",Tt="[object Int8Array]",jt="[object Int16Array]",Nt="[object Int32Array]",Bt="[object Uint8Array]",It="[object Uint8ClampedArray]",Lt="[object Uint16Array]",Rt="[object Uint32Array]",Pt={};function Ht(e){return P(e)&&ot(e.length)&&!!Pt[I(e)]}function zt(e){return function(t){return e(t)}}Pt[Ot]=Pt[Mt]=Pt[Tt]=Pt[jt]=Pt[Nt]=Pt[Bt]=Pt[It]=Pt[Lt]=Pt[Rt]=!0,Pt[mt]=Pt[gt]=Pt[St]=Pt[vt]=Pt[Ft]=Pt[yt]=Pt[bt]=Pt[Dt]=Pt[_t]=Pt[wt]=Pt[Et]=Pt[Ct]=Pt[xt]=Pt[At]=Pt[kt]=!1;var $t="object"==("undefined"===typeof exports?"undefined":Object(g["a"])(exports))&&exports&&!exports.nodeType&&exports,Ut=$t&&"object"==Object(g["a"])(r)&&r&&!r.nodeType&&r,qt=Ut&&Ut.exports===$t,Yt=qt&&b.process,Vt=function(){try{var e=Ut&&Ut.require&&Ut.require("util").types;return e||Yt&&Yt.binding&&Yt.binding("util")}catch(t){}}(),Wt=Vt,Jt=Wt&&Wt.isTypedArray,Kt=Jt?zt(Jt):Ht,Xt=Kt,Gt="[object Map]",Zt="[object Set]",Qt=Object.prototype,en=Qt.hasOwnProperty;function tn(e){if(null==e)return!0;if(st(e)&&(R(e)||"string"==typeof e||"function"==typeof e.splice||pt(e)||Xt(e)||rt(e)))return!e.length;var t=Xe(e);if(t==Gt||t==Zt)return!e.size;if(Q(e))return!ie(e).length;for(var n in e)if(en.call(e,n))return!1;return!0}var nn="[object Symbol]";function rn(e){return"symbol"==Object(g["a"])(e)||P(e)&&I(e)==nn}var on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/;function an(e,t){if(R(e))return!1;var n=Object(g["a"])(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!rn(e))||(sn.test(e)||!on.test(e)||null!=t&&e in Object(t))}var un=ke(Object,"create"),cn=un;function ln(){this.__data__=cn?cn(null):{},this.size=0}function dn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hn="__lodash_hash_undefined__",fn=Object.prototype,pn=fn.hasOwnProperty;function mn(e){var t=this.__data__;if(cn){var n=t[e];return n===hn?void 0:n}return pn.call(t,e)?t[e]:void 0}var gn=Object.prototype,vn=gn.hasOwnProperty;function yn(e){var t=this.__data__;return cn?void 0!==t[e]:vn.call(t,e)}var bn="__lodash_hash_undefined__";function Dn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=cn&&void 0===t?bn:t,this}function _n(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function wn(){this.__data__=[],this.size=0}function En(e,t){return e===t||e!==e&&t!==t}function Cn(e,t){var n=e.length;while(n--)if(En(e[n][0],t))return n;return-1}_n.prototype.clear=ln,_n.prototype["delete"]=dn,_n.prototype.get=mn,_n.prototype.has=yn,_n.prototype.set=Dn;var xn=Array.prototype,An=xn.splice;function kn(e){var t=this.__data__,n=Cn(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():An.call(t,n,1),--this.size,!0}function Sn(e){var t=this.__data__,n=Cn(t,e);return n<0?void 0:t[n][1]}function Fn(e){return Cn(this.__data__,e)>-1}function On(e,t){var n=this.__data__,r=Cn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Mn(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Tn(){this.size=0,this.__data__={hash:new _n,map:new(Me||Mn),string:new _n}}function jn(e){var t=Object(g["a"])(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Nn(e,t){var n=e.__data__;return jn(t)?n["string"==typeof t?"string":"hash"]:n.map}function Bn(e){var t=Nn(this,e)["delete"](e);return this.size-=t?1:0,t}function In(e){return Nn(this,e).get(e)}function Ln(e){return Nn(this,e).has(e)}function Rn(e,t){var n=Nn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Pn(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Mn.prototype.clear=wn,Mn.prototype["delete"]=kn,Mn.prototype.get=Sn,Mn.prototype.has=Fn,Mn.prototype.set=On,Pn.prototype.clear=Tn,Pn.prototype["delete"]=Bn,Pn.prototype.get=In,Pn.prototype.has=Ln,Pn.prototype.set=Rn;var Hn="Expected a function";function zn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Hn);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(zn.Cache||Pn),n}zn.Cache=Pn;var $n=500;function Un(e){var t=zn(e,(function(e){return n.size===$n&&n.clear(),e})),n=t.cache;return t}var qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yn=/\\(\\)?/g,Vn=Un((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(qn,(function(e,n,r,i){t.push(r?i.replace(Yn,"$1"):n||e)})),t})),Wn=Vn;function Jn(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}var Kn=1/0,Xn=C?C.prototype:void 0,Gn=Xn?Xn.toString:void 0;function Zn(e){if("string"==typeof e)return e;if(R(e))return Jn(e,Zn)+"";if(rn(e))return Gn?Gn.call(e):"";var t=e+"";return"0"==t&&1/e==-Kn?"-0":t}function Qn(e){return null==e?"":Zn(e)}function er(e,t){return R(e)?e:an(e,t)?[e]:Wn(Qn(e))}var tr,nr=1/0;function rr(e){if("string"==typeof e||rn(e))return e;var t=e+"";return"0"==t&&1/e==-nr?"-0":t}function ir(e,t){t=er(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[rr(t[n++])];return n&&n==r?e:void 0}function or(e,t,n){var r=null==e?void 0:ir(e,t);return void 0===r?n:r}(function(e){e[e["bold"]=1]="bold",e[e["italic"]=2]="italic",e[e["boldAndItalic"]=3]="boldAndItalic",e[e["strikethrough"]=4]="strikethrough",e[e["bulletedList"]=8]="bulletedList",e[e["numberedList"]=16]="numberedList",e[e["underline"]=32]="underline",e[e["fontSize"]=64]="fontSize",e[e["fontColor"]=128]="fontColor",e[e["backgroundColor"]=256]="backgroundColor",e[e["indent"]=512]="indent",e[e["paragraph"]=1024]="paragraph",e[e["quote"]=2048]="quote",e[e["insertLink"]=4096]="insertLink"})(tr||(tr={}));var sr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function ar(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function ur(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cr=dr,lr=null;try{lr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(KD){}function dr(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function hr(e){return!0===(e&&e["__isLong__"])}dr.prototype.__isLong__,Object.defineProperty(dr.prototype,"__isLong__",{value:!0}),dr.isLong=hr;var fr={},pr={};function mr(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=pr[e],r)?r:(n=vr(e,(0|e)<0?-1:0,!0),i&&(pr[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=fr[e],r)?r:(n=vr(e,e<0?-1:0,!1),i&&(fr[e]=n),n))}function gr(e,t){if(isNaN(e))return t?Sr:kr;if(t){if(e<0)return Sr;if(e>=Cr)return jr}else{if(e<=-xr)return Nr;if(e+1>=xr)return Tr}return e<0?gr(-e,t).neg():vr(e%Er|0,e/Er|0,t)}function vr(e,t,n){return new dr(e,t,n)}dr.fromInt=mr,dr.fromNumber=gr,dr.fromBits=vr;var yr=Math.pow;function br(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return kr;if("number"===typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return br(e.substring(1),t,n).neg();for(var i=gr(yr(n,8)),o=kr,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),n);if(a<8){var c=gr(yr(n,a));o=o.mul(c).add(gr(u))}else o=o.mul(i),o=o.add(gr(u))}return o.unsigned=t,o}function Dr(e,t){return"number"===typeof e?gr(e,t):"string"===typeof e?br(e,t):vr(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}dr.fromString=br,dr.fromValue=Dr;var _r=65536,wr=1<<24,Er=_r*_r,Cr=Er*Er,xr=Cr/2,Ar=mr(wr),kr=mr(0);dr.ZERO=kr;var Sr=mr(0,!0);dr.UZERO=Sr;var Fr=mr(1);dr.ONE=Fr;var Or=mr(1,!0);dr.UONE=Or;var Mr=mr(-1);dr.NEG_ONE=Mr;var Tr=vr(-1,2147483647,!1);dr.MAX_VALUE=Tr;var jr=vr(-1,-1,!0);dr.MAX_UNSIGNED_VALUE=jr;var Nr=vr(0,-2147483648,!1);dr.MIN_VALUE=Nr;var Br=dr.prototype;Br.toInt=function(){return this.unsigned?this.low>>>0:this.low},Br.toNumber=function(){return this.unsigned?(this.high>>>0)*Er+(this.low>>>0):this.high*Er+(this.low>>>0)},Br.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Nr)){var t=gr(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}var i=gr(yr(e,6),this.unsigned),o=this,s="";while(1){var a=o.div(i),u=o.sub(a.mul(i)).toInt()>>>0,c=u.toString(e);if(o=a,o.isZero())return c+s;while(c.length<6)c="0"+c;s=""+c+s}},Br.getHighBits=function(){return this.high},Br.getHighBitsUnsigned=function(){return this.high>>>0},Br.getLowBits=function(){return this.low},Br.getLowBitsUnsigned=function(){return this.low>>>0},Br.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Nr)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},Br.isZero=function(){return 0===this.high&&0===this.low},Br.eqz=Br.isZero,Br.isNegative=function(){return!this.unsigned&&this.high<0},Br.isPositive=function(){return this.unsigned||this.high>=0},Br.isOdd=function(){return 1===(1&this.low)},Br.isEven=function(){return 0===(1&this.low)},Br.equals=function(e){return hr(e)||(e=Dr(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},Br.eq=Br.equals,Br.notEquals=function(e){return!this.eq(e)},Br.neq=Br.notEquals,Br.ne=Br.notEquals,Br.lessThan=function(e){return this.comp(e)<0},Br.lt=Br.lessThan,Br.lessThanOrEqual=function(e){return this.comp(e)<=0},Br.lte=Br.lessThanOrEqual,Br.le=Br.lessThanOrEqual,Br.greaterThan=function(e){return this.comp(e)>0},Br.gt=Br.greaterThan,Br.greaterThanOrEqual=function(e){return this.comp(e)>=0},Br.gte=Br.greaterThanOrEqual,Br.ge=Br.greaterThanOrEqual,Br.compare=function(e){if(hr(e)||(e=Dr(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Br.comp=Br.compare,Br.negate=function(){return!this.unsigned&&this.eq(Nr)?Nr:this.not().add(Fr)},Br.neg=Br.negate,Br.add=function(e){hr(e)||(e=Dr(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,u=65535&e.low,c=0,l=0,d=0,h=0;return h+=i+u,d+=h>>>16,h&=65535,d+=r+a,l+=d>>>16,d&=65535,l+=n+s,c+=l>>>16,l&=65535,c+=t+o,c&=65535,vr(d<<16|h,c<<16|l,this.unsigned)},Br.subtract=function(e){return hr(e)||(e=Dr(e)),this.add(e.neg())},Br.sub=Br.subtract,Br.multiply=function(e){if(this.isZero())return kr;if(hr(e)||(e=Dr(e)),lr){var t=lr.mul(this.low,this.high,e.low,e.high);return vr(t,lr.get_high(),this.unsigned)}if(e.isZero())return kr;if(this.eq(Nr))return e.isOdd()?Nr:kr;if(e.eq(Nr))return this.isOdd()?Nr:kr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ar)&&e.lt(Ar))return gr(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,c=65535&e.low,l=0,d=0,h=0,f=0;return f+=o*c,h+=f>>>16,f&=65535,h+=i*c,d+=h>>>16,h&=65535,h+=o*u,d+=h>>>16,h&=65535,d+=r*c,l+=d>>>16,d&=65535,d+=i*u,l+=d>>>16,d&=65535,d+=o*a,l+=d>>>16,d&=65535,l+=n*c+r*u+i*a+o*s,l&=65535,vr(h<<16|f,l<<16|d,this.unsigned)},Br.mul=Br.multiply,Br.divide=function(e){if(hr(e)||(e=Dr(e)),e.isZero())throw Error("division by zero");if(lr){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;var t=(this.unsigned?lr.div_u:lr.div_s)(this.low,this.high,e.low,e.high);return vr(t,lr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Sr:kr;var n,r,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Sr;if(e.gt(this.shru(1)))return Or;i=Sr}else{if(this.eq(Nr)){if(e.eq(Fr)||e.eq(Mr))return Nr;if(e.eq(Nr))return Fr;var o=this.shr(1);return n=o.div(e).shl(1),n.eq(kr)?e.isNegative()?Fr:Mr:(r=this.sub(e.mul(n)),i=n.add(r.div(e)),i)}if(e.eq(Nr))return this.unsigned?Sr:kr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=kr}r=this;while(r.gte(e)){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var s=Math.ceil(Math.log(n)/Math.LN2),a=s<=48?1:yr(2,s-48),u=gr(n),c=u.mul(e);while(c.isNegative()||c.gt(r))n-=a,u=gr(n,this.unsigned),c=u.mul(e);u.isZero()&&(u=Fr),i=i.add(u),r=r.sub(c)}return i},Br.div=Br.divide,Br.modulo=function(e){if(hr(e)||(e=Dr(e)),lr){var t=(this.unsigned?lr.rem_u:lr.rem_s)(this.low,this.high,e.low,e.high);return vr(t,lr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},Br.mod=Br.modulo,Br.rem=Br.modulo,Br.not=function(){return vr(~this.low,~this.high,this.unsigned)},Br.and=function(e){return hr(e)||(e=Dr(e)),vr(this.low&e.low,this.high&e.high,this.unsigned)},Br.or=function(e){return hr(e)||(e=Dr(e)),vr(this.low|e.low,this.high|e.high,this.unsigned)},Br.xor=function(e){return hr(e)||(e=Dr(e)),vr(this.low^e.low,this.high^e.high,this.unsigned)},Br.shiftLeft=function(e){return hr(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?vr(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):vr(0,this.low<<e-32,this.unsigned)},Br.shl=Br.shiftLeft,Br.shiftRight=function(e){return hr(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?vr(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):vr(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Br.shr=Br.shiftRight,Br.shiftRightUnsigned=function(e){if(hr(e)&&(e=e.toInt()),e&=63,0===e)return this;var t=this.high;if(e<32){var n=this.low;return vr(n>>>e|t<<32-e,t>>>e,this.unsigned)}return vr(32===e?t:t>>>e-32,0,this.unsigned)},Br.shru=Br.shiftRightUnsigned,Br.shr_u=Br.shiftRightUnsigned,Br.toSigned=function(){return this.unsigned?vr(this.low,this.high,!1):this},Br.toUnsigned=function(){return this.unsigned?this:vr(this.low,this.high,!0)},Br.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Br.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Br.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},dr.fromBytes=function(e,t,n){return n?dr.fromBytesLE(e,t):dr.fromBytesBE(e,t)},dr.fromBytesLE=function(e,t){return new dr(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},dr.fromBytesBE=function(e,t){return new dr(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Ir={},Lr={},Rr=Pr;function Pr(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;while(i<arguments.length)n[r++]=arguments[i++];return new Promise((function(i,s){n[r]=function(e){if(o)if(o=!1,e)s(e);else{var t=new Array(arguments.length-1),n=0;while(n<t.length)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(a){o&&(o=!1,s(a))}}))}var Hr={};(function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;var n=0;while(--t%4>1&&"="===e.charAt(t))++n;return Math.ceil(3*e.length)/4-n};for(var n=new Array(64),r=new Array(123),i=0;i<64;)r[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,r){var i,o=null,s=[],a=0,u=0;while(t<r){var c=e[t++];switch(u){case 0:s[a++]=n[c>>2],i=(3&c)<<4,u=1;break;case 1:s[a++]=n[i|c>>4],i=(15&c)<<2,u=2;break;case 2:s[a++]=n[i|c>>6],s[a++]=n[63&c],u=0;break}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=n[i],s[a++]=61,1===u&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var o="invalid encoding";t.decode=function(e,t,n){for(var i,s=n,a=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=r[c]))throw Error(o);switch(a){case 0:i=c,a=1;break;case 1:t[n++]=i<<2|(48&c)>>4,i=c,a=2;break;case 2:t[n++]=(15&i)<<4|(60&c)>>2,i=c,a=3;break;case 3:t[n++]=(3&i)<<6|c,a=0;break}}if(1===a)throw Error(o);return n-s},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})(Hr);var zr=$r;function $r(){this._listeners={}}$r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},$r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},$r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var Ur=qr(qr);function qr(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|s)>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,s=8388607&r;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,Yr),e.writeFloatBE=t.bind(null,Vr),e.readFloatLE=n.bind(null,Wr),e.readFloatBE=n.bind(null,Jr)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,i,o){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+n);else{var a;if(r<22250738585072014e-324)a=r/5e-324,e(a>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),a=r*Math.pow(2,-u),e(4503599627370496*a>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),s=e(r,i+n),a=2*(s>>31)+1,u=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,Yr,0,4),e.writeDoubleBE=t.bind(null,Vr,4,0),e.readDoubleLE=n.bind(null,Wr,0,4),e.readDoubleBE=n.bind(null,Jr,4,0)}(),e}function Yr(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Vr(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function Wr(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Jr(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var Kr=Xr;function Xr(e){try{var t=ur(e);if(t&&(t.length||Object.keys(t).length))return t}catch(KD){}return null}var Gr={};(function(e){var t=e;t.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},t.read=function(e,t,n){var r=n-t;if(r<1)return"";var i,o=null,s=[],a=0;while(t<n)i=e[t++],i<128?s[a++]=i:i>191&&i<224?s[a++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[a++]=55296+(i>>10),s[a++]=56320+(1023&i)):s[a++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))},t.write=function(e,t,n){for(var r,i,o=n,s=0;s<e.length;++s)r=e.charCodeAt(s),r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&i),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}})(Gr);var Zr=Qr;function Qr(e,t,n){var r=n||8192,i=r>>>1,o=null,s=r;return function(n){if(n<1||n>i)return e(n);s+n>r&&(o=e(r),s=0);var a=t.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}var ei=ni,ti=Lr;function ni(e,t){this.lo=e>>>0,this.hi=t>>>0}var ri=ni.zero=new ni(0,0);ri.toNumber=function(){return 0},ri.zzEncode=ri.zzDecode=function(){return this},ri.length=function(){return 1};var ii=ni.zeroHash="\0\0\0\0\0\0\0\0";ni.fromNumber=function(e){if(0===e)return ri;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new ni(n,r)},ni.from=function(e){if("number"===typeof e)return ni.fromNumber(e);if(ti.isString(e)){if(!ti.Long)return ni.fromNumber(parseInt(e,10));e=ti.Long.fromString(e)}return e.low||e.high?new ni(e.low>>>0,e.high>>>0):ri},ni.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},ni.prototype.toLong=function(e){return ti.Long?new ti.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var oi=String.prototype.charCodeAt;ni.fromHash=function(e){return e===ii?ri:new ni((oi.call(e,0)|oi.call(e,1)<<8|oi.call(e,2)<<16|oi.call(e,3)<<24)>>>0,(oi.call(e,4)|oi.call(e,5)<<8|oi.call(e,6)<<16|oi.call(e,7)<<24)>>>0)},ni.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},ni.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},ni.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},ni.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10},function(e){var t=e;function n(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=Rr,t.base64=Hr,t.EventEmitter=zr,t.float=Ur,t.inquire=Kr,t.utf8=Gr,t.pool=Zr,t.LongBits=ei,t.isNode=Boolean("undefined"!==typeof sr&&sr&&sr.process&&sr.process.versions&&sr.process.versions.node),t.global=t.isNode&&sr||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||sr,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"===typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===Object(g["a"])(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==Object(g["a"])(n)||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(KD){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"===typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){var r=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(Lr);var si,ai=mi,ui=Lr,ci=ui.LongBits,li=ui.base64,di=ui.utf8;function hi(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function fi(){}function pi(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function mi(){this.len=0,this.head=new hi(fi,0,0),this.tail=this.head,this.states=null}var gi=function(){return ui.Buffer?function(){return(mi.create=function(){return new si})()}:function(){return new mi}};function vi(e,t,n){t[n]=255&e}function yi(e,t,n){while(e>127)t[n++]=127&e|128,e>>>=7;t[n]=e}function bi(e,t){this.len=e,this.next=void 0,this.val=t}function Di(e,t,n){while(e.hi)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;while(e.lo>127)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function _i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}mi.create=gi(),mi.alloc=function(e){return new ui.Array(e)},ui.Array!==Array&&(mi.alloc=ui.pool(mi.alloc,ui.Array.prototype.subarray)),mi.prototype._push=function(e,t,n){return this.tail=this.tail.next=new hi(e,t,n),this.len+=t,this},bi.prototype=Object.create(hi.prototype),bi.prototype.fn=yi,mi.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new bi((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},mi.prototype.int32=function(e){return e<0?this._push(Di,10,ci.fromNumber(e)):this.uint32(e)},mi.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},mi.prototype.uint64=function(e){var t=ci.from(e);return this._push(Di,t.length(),t)},mi.prototype.int64=mi.prototype.uint64,mi.prototype.sint64=function(e){var t=ci.from(e).zzEncode();return this._push(Di,t.length(),t)},mi.prototype.bool=function(e){return this._push(vi,1,e?1:0)},mi.prototype.fixed32=function(e){return this._push(_i,4,e>>>0)},mi.prototype.sfixed32=mi.prototype.fixed32,mi.prototype.fixed64=function(e){var t=ci.from(e);return this._push(_i,4,t.lo)._push(_i,4,t.hi)},mi.prototype.sfixed64=mi.prototype.fixed64,mi.prototype.float=function(e){return this._push(ui.float.writeFloatLE,4,e)},mi.prototype.double=function(e){return this._push(ui.float.writeDoubleLE,8,e)};var wi=ui.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};mi.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(vi,1,0);if(ui.isString(e)){var n=mi.alloc(t=li.length(e));li.decode(e,n,0),e=n}return this.uint32(t)._push(wi,t,e)},mi.prototype.string=function(e){var t=di.length(e);return t?this.uint32(t)._push(di.write,t,e):this._push(vi,1,0)},mi.prototype.fork=function(){return this.states=new pi(this),this.head=this.tail=new hi(fi,0,0),this.len=0,this},mi.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new hi(fi,0,0),this.len=0),this},mi.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},mi.prototype.finish=function(){var e=this.head.next,t=this.constructor.alloc(this.len),n=0;while(e)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},mi._configure=function(e){si=e,mi.create=gi(),si._configure()};var Ei=Ai,Ci=ai;(Ai.prototype=Object.create(Ci.prototype)).constructor=Ai;var xi=Lr;function Ai(){Ci.call(this)}function ki(e,t,n){e.length<40?xi.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}Ai._configure=function(){Ai.alloc=xi._Buffer_allocUnsafe,Ai.writeBytesBuffer=xi.Buffer&&xi.Buffer.prototype instanceof Uint8Array&&"set"===xi.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},Ai.prototype.bytes=function(e){xi.isString(e)&&(e=xi._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Ai.writeBytesBuffer,t,e),this},Ai.prototype.string=function(e){var t=xi.Buffer.byteLength(e);return this.uint32(t),t&&this._push(ki,t,e),this},Ai._configure();var Si,Fi=Ni,Oi=Lr,Mi=Oi.LongBits,Ti=Oi.utf8;function ji(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Ni(e){this.buf=e,this.pos=0,this.len=e.length}var Bi="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ni(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ni(e);throw Error("illegal buffer")},Ii=function(){return Oi.Buffer?function(e){return(Ni.create=function(e){return Oi.Buffer.isBuffer(e)?new Si(e):Bi(e)})(e)}:Bi};function Li(){var e=new Mi(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw ji(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw ji(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function Ri(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Pi(){if(this.pos+8>this.len)throw ji(this,8);return new Mi(Ri(this.buf,this.pos+=4),Ri(this.buf,this.pos+=4))}Ni.create=Ii(),Ni.prototype._slice=Oi.Array.prototype.subarray||Oi.Array.prototype.slice,Ni.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,ji(this,10);return e}}(),Ni.prototype.int32=function(){return 0|this.uint32()},Ni.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Ni.prototype.bool=function(){return 0!==this.uint32()},Ni.prototype.fixed32=function(){if(this.pos+4>this.len)throw ji(this,4);return Ri(this.buf,this.pos+=4)},Ni.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ji(this,4);return 0|Ri(this.buf,this.pos+=4)},Ni.prototype.float=function(){if(this.pos+4>this.len)throw ji(this,4);var e=Oi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Ni.prototype.double=function(){if(this.pos+8>this.len)throw ji(this,4);var e=Oi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Ni.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw ji(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},Ni.prototype.string=function(){var e=this.bytes();return Ti.read(e,0,e.length)},Ni.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw ji(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw ji(this)}while(128&this.buf[this.pos++]);return this},Ni.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while(4!==(e=7&this.uint32()))this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Ni._configure=function(e){Si=e,Ni.create=Ii(),Si._configure();var t=Oi.Long?"toLong":"toNumber";Oi.merge(Ni.prototype,{int64:function(){return Li.call(this)[t](!1)},uint64:function(){return Li.call(this)[t](!0)},sint64:function(){return Li.call(this).zzDecode()[t](!1)},fixed64:function(){return Pi.call(this)[t](!0)},sfixed64:function(){return Pi.call(this)[t](!1)}})};var Hi=Ui,zi=Fi;(Ui.prototype=Object.create(zi.prototype)).constructor=Ui;var $i=Lr;function Ui(e){zi.call(this,e)}Ui._configure=function(){$i.Buffer&&(Ui.prototype._slice=$i.Buffer.prototype.slice)},Ui.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Ui._configure();var qi={},Yi=Wi,Vi=Lr;function Wi(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");Vi.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(Wi.prototype=Object.create(Vi.EventEmitter.prototype)).constructor=Wi,Wi.prototype.rpcCall=function e(t,n,r,i,o){if(!i)throw TypeError("request must be specified");var s=this;if(!o)return Vi.asPromise(e,s,t,n,r,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return s.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)}s.end(!0)}))}catch(a){return s.emit("error",a,t),void setTimeout((function(){o(a)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},Wi.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){var t=e;t.Service=Yi}(qi);var Ji={};(function(e){var t=e;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=ai,t.BufferWriter=Ei,t.Reader=Fi,t.BufferReader=Hi,t.util=Lr,t.rpc=qi,t.roots=Ji,t.configure=n,n()})(Ir);var Ki=Ir;function Xi(){return{cx:void 0,cy:void 0}}var Gi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.Writer.create();return void 0!==e.cx&&t.uint32(8).uint32(e.cx),void 0!==e.cy&&t.uint32(16).uint32(e.cy),t},decode:function(e,t){var n=e instanceof Ki.Reader?e:new Ki.Reader(e),r=void 0===t?n.len:n.pos+t,i=Xi();while(n.pos<r){var o=n.uint32();switch(o>>>3){case 1:i.cx=n.uint32();break;case 2:i.cy=n.uint32();break;default:n.skipType(7&o);break}}return i},fromJSON:function(e){return{cx:Ho(e.cx)?Number(e.cx):void 0,cy:Ho(e.cy)?Number(e.cy):void 0}},toJSON:function(e){var t={};return void 0!==e.cx&&(t.cx=Math.round(e.cx)),void 0!==e.cy&&(t.cy=Math.round(e.cy)),t},fromPartial:function(e){var t,n,r=Xi();return r.cx=null!==(t=e.cx)&&void 0!==t?t:void 0,r.cy=null!==(n=e.cy)&&void 0!==n?n:void 0,r}};function Zi(){return{type:void 0,startpos:void 0,endpos:void 0,fileid:void 0,filename:void 0,filesize:void 0,imagesize:void 0,ver:void 0,reserve1:void 0,reserve2:void 0}}var Qi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.Writer.create();return void 0!==e.type&&t.uint32(8).uint64(e.type),void 0!==e.startpos&&t.uint32(16).int64(e.startpos),void 0!==e.endpos&&t.uint32(24).int64(e.endpos),void 0!==e.fileid&&t.uint32(34).string(e.fileid),void 0!==e.filename&&t.uint32(42).string(e.filename),void 0!==e.filesize&&t.uint32(48).uint32(e.filesize),void 0!==e.imagesize&&Gi.encode(e.imagesize,t.uint32(58).fork()).ldelim(),void 0!==e.ver&&t.uint32(64).int64(e.ver),void 0!==e.reserve1&&t.uint32(74).string(e.reserve1),void 0!==e.reserve2&&t.uint32(82).string(e.reserve2),t},decode:function(e,t){var n=e instanceof Ki.Reader?e:new Ki.Reader(e),r=void 0===t?n.len:n.pos+t,i=Zi();while(n.pos<r){var o=n.uint32();switch(o>>>3){case 1:i.type=Po(n.uint64());break;case 2:i.startpos=Po(n.int64());break;case 3:i.endpos=Po(n.int64());break;case 4:i.fileid=n.string();break;case 5:i.filename=n.string();break;case 6:i.filesize=n.uint32();break;case 7:i.imagesize=Gi.decode(n,n.uint32());break;case 8:i.ver=Po(n.int64());break;case 9:i.reserve1=n.string();break;case 10:i.reserve2=n.string();break;default:n.skipType(7&o);break}}return i},fromJSON:function(e){return{type:Ho(e.type)?Number(e.type):void 0,startpos:Ho(e.startpos)?Number(e.startpos):void 0,endpos:Ho(e.endpos)?Number(e.endpos):void 0,fileid:Ho(e.fileid)?String(e.fileid):void 0,filename:Ho(e.filename)?String(e.filename):void 0,filesize:Ho(e.filesize)?Number(e.filesize):void 0,imagesize:Ho(e.imagesize)?Gi.fromJSON(e.imagesize):void 0,ver:Ho(e.ver)?Number(e.ver):void 0,reserve1:Ho(e.reserve1)?String(e.reserve1):void 0,reserve2:Ho(e.reserve2)?String(e.reserve2):void 0}},toJSON:function(e){var t={};return void 0!==e.type&&(t.type=Math.round(e.type)),void 0!==e.startpos&&(t.startpos=Math.round(e.startpos)),void 0!==e.endpos&&(t.endpos=Math.round(e.endpos)),void 0!==e.fileid&&(t.fileid=e.fileid),void 0!==e.filename&&(t.filename=e.filename),void 0!==e.filesize&&(t.filesize=Math.round(e.filesize)),void 0!==e.imagesize&&(t.imagesize=e.imagesize?Gi.toJSON(e.imagesize):void 0),void 0!==e.ver&&(t.ver=Math.round(e.ver)),void 0!==e.reserve1&&(t.reserve1=e.reserve1),void 0!==e.reserve2&&(t.reserve2=e.reserve2),t},fromPartial:function(e){var t,n,r,i,o,s,a,u,c,l=Zi();return l.type=null!==(t=e.type)&&void 0!==t?t:void 0,l.startpos=null!==(n=e.startpos)&&void 0!==n?n:void 0,l.endpos=null!==(r=e.endpos)&&void 0!==r?r:void 0,l.fileid=null!==(i=e.fileid)&&void 0!==i?i:void 0,l.filename=null!==(o=e.filename)&&void 0!==o?o:void 0,l.filesize=null!==(s=e.filesize)&&void 0!==s?s:void 0,l.imagesize=void 0!==e.imagesize&&null!==e.imagesize?Gi.fromPartial(e.imagesize):void 0,l.ver=null!==(a=e.ver)&&void 0!==a?a:void 0,l.reserve1=null!==(u=e.reserve1)&&void 0!==u?u:void 0,l.reserve2=null!==(c=e.reserve2)&&void 0!==c?c:void 0,l}};function eo(){return{mailtitle:void 0,mailbody:void 0,fromjid:void 0,fromname:void 0,mailtime:void 0,mailid:void 0}}var to={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.Writer.create();return void 0!==e.mailtitle&&t.uint32(10).string(e.mailtitle),void 0!==e.mailbody&&t.uint32(18).string(e.mailbody),void 0!==e.fromjid&&t.uint32(26).string(e.fromjid),void 0!==e.fromname&&t.uint32(34).string(e.fromname),void 0!==e.mailtime&&t.uint32(40).int64(e.mailtime),void 0!==e.mailid&&t.uint32(50).string(e.mailid),t},decode:function(e,t){var n=e instanceof Ki.Reader?e:new Ki.Reader(e),r=void 0===t?n.len:n.pos+t,i=eo();while(n.pos<r){var o=n.uint32();switch(o>>>3){case 1:i.mailtitle=n.string();break;case 2:i.mailbody=n.string();break;case 3:i.fromjid=n.string();break;case 4:i.fromname=n.string();break;case 5:i.mailtime=Po(n.int64());break;case 6:i.mailid=n.string();break;default:n.skipType(7&o);break}}return i},fromJSON:function(e){return{mailtitle:Ho(e.mailtitle)?String(e.mailtitle):void 0,mailbody:Ho(e.mailbody)?String(e.mailbody):void 0,fromjid:Ho(e.fromjid)?String(e.fromjid):void 0,fromname:Ho(e.fromname)?String(e.fromname):void 0,mailtime:Ho(e.mailtime)?Number(e.mailtime):void 0,mailid:Ho(e.mailid)?String(e.mailid):void 0}},toJSON:function(e){var t={};return void 0!==e.mailtitle&&(t.mailtitle=e.mailtitle),void 0!==e.mailbody&&(t.mailbody=e.mailbody),void 0!==e.fromjid&&(t.fromjid=e.fromjid),void 0!==e.fromname&&(t.fromname=e.fromname),void 0!==e.mailtime&&(t.mailtime=Math.round(e.mailtime)),void 0!==e.mailid&&(t.mailid=e.mailid),t},fromPartial:function(e){var t,n,r,i,o,s,a=eo();return a.mailtitle=null!==(t=e.mailtitle)&&void 0!==t?t:void 0,a.mailbody=null!==(n=e.mailbody)&&void 0!==n?n:void 0,a.fromjid=null!==(r=e.fromjid)&&void 0!==r?r:void 0,a.fromname=null!==(i=e.fromname)&&void 0!==i?i:void 0,a.mailtime=null!==(o=e.mailtime)&&void 0!==o?o:void 0,a.mailid=null!==(s=e.mailid)&&void 0!==s?s:void 0,a}};function no(){return{item:[],mailinfo:void 0}}var ro,io,oo,so,ao,uo,co,lo,ho,fo,po,mo,go,vo,yo,bo,Do,_o,wo,Eo,Co,xo,Ao,ko,So,Fo,Oo,Mo,To,jo,No,Bo,Io,Lo={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.Writer.create(),r=Object(m["a"])(e.item);try{for(r.s();!(t=r.n()).done;){var i=t.value;Qi.encode(i,n.uint32(10).fork()).ldelim()}}catch(o){r.e(o)}finally{r.f()}return void 0!==e.mailinfo&&to.encode(e.mailinfo,n.uint32(18).fork()).ldelim(),n},decode:function(e,t){var n=e instanceof Ki.Reader?e:new Ki.Reader(e),r=void 0===t?n.len:n.pos+t,i=no();while(n.pos<r){var o=n.uint32();switch(o>>>3){case 1:i.item.push(Qi.decode(n,n.uint32()));break;case 2:i.mailinfo=to.decode(n,n.uint32());break;default:n.skipType(7&o);break}}return i},fromJSON:function(e){return{item:Array.isArray(null===e||void 0===e?void 0:e.item)?e.item.map((function(e){return Qi.fromJSON(e)})):[],mailinfo:Ho(e.mailinfo)?to.fromJSON(e.mailinfo):void 0}},toJSON:function(e){var t={};return e.item?t.item=e.item.map((function(e){return e?Qi.toJSON(e):void 0})):t.item=[],void 0!==e.mailinfo&&(t.mailinfo=e.mailinfo?to.toJSON(e.mailinfo):void 0),t},fromPartial:function(e){var t,n=no();return n.item=(null===(t=e.item)||void 0===t?void 0:t.map((function(e){return Qi.fromPartial(e)})))||[],n.mailinfo=void 0!==e.mailinfo&&null!==e.mailinfo?to.fromPartial(e.mailinfo):void 0,n}},Ro=function(){if("undefined"!==typeof Ro)return Ro;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw"Unable to locate global object"}();function Po(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Ro.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function Ho(e){return null!==e&&void 0!==e}Ki.util.Long!==cr&&(Ki.util.Long=cr,Ki.configure()),function(e){e["client"]="jabber:client"}(ro||(ro={})),function(e){e["imcmd"]="zoom:imcmd"}(io||(io={})),function(e){e["room"]="zoom:iq:room",e["ext"]="zoom:iq:ext",e["read"]="zoom:iq:read",e["pin"]="zoom:iq:pin",e["blocking"]="urn:xmpp:blocking",e["client"]="jabber:client",e["private"]="jabber:iq:private",e["recentchat"]="zoom:iq:recentchat",e["starsession"]="zoom:iq:starsession",e["tempPresence"]="zoom:iq:temp_presence",e["notify"]="zoom:iq:notify",e["group"]="zoom:iq:group",e["folders"]="zoom:iq:folders",e["mark"]="zoom:iq:mark",e["reminder"]="zoom:iq:reminder"}(oo||(oo={})),function(e){e["quns"]="quns",e["member"]="member",e["info"]="info",e["ackMsg"]="ack_msg",e["reset"]="reset",e["pin"]="pin",e["unpin"]="unpin",e["subject"]="subject",e["create"]="create",e["edit"]="edit",e["delete"]="delete",e["invite"]="invite",e["kick"]="kick",e["transfer"]="transfer",e["assign"]="assign",e["quit"]="quit",e["add"]="add",e["remove"]="remove",e["preview"]="preview",e["mark"]="mark",e["unmark"]="unmark"}(so||(so={})),function(e){e[e["init"]=-1]="init"}(ao||(ao={})),function(e){e["full"]="1",e["increment"]="0"}(uo||(uo={})),function(e){e["groupChannel"]="GROUP_CHANNEL",e["lobbyChannel"]="LOBBY_CHANNEL",e["expoChannel"]="EXPO_CHANNEL",e["privateChannel"]="PRIVATE_CHANNEL"}(co||(co={})),function(e){e["chat"]="chat",e["groupchat"]="groupchat"}(lo||(lo={})),function(e){e["online"]="online",e["offline"]="offline"}(ho||(ho={})),function(e){e["subject"]="subject",e["create"]="create",e["edit"]="edit",e["quit"]="quit",e["invite"]="invite",e["kick"]="kick",e["transfer"]="transfer",e["assign"]="assign",e["pin"]="pin",e["unpin"]="unpin",e["remove_pin"]="remove_pin",e["delete"]="delete",e["addDesc"]="addDesc",e["updateDesc"]="updateDesc",e["removeDesc"]="removeDesc"}(fo||(fo={})),function(e){e[e["text"]=0]="text",e[e["jpg"]=1]="jpg",e[e["jpeg"]=1]="jpeg",e[e["audio"]=2]="audio",e[e["video"]=3]="video",e[e["png"]=5]="png",e[e["gif"]=6]="gif",e[e["audioV2"]=7]="audioV2",e[e["otherFile"]=10]="otherFile",e[e["giphy"]=12]="giphy",e[e["codeSnippet"]=13]="codeSnippet",e[e["fileAndText"]=17]="fileAndText",e[e["zappMessage"]=18]="zappMessage",e[e["call_Accepted"]=51]="call_Accepted",e[e["call_Declined"]=52]="call_Declined",e[e["call_Cancel"]=54]="call_Cancel",e[e["call_Outgoing"]=55]="call_Outgoing",e[e["revokeMessage"]=80]="revokeMessage",e[e["screenshot"]=81]="screenshot",e[e["dropbox"]=101]="dropbox",e[e["microsoftOneDrive"]=102]="microsoftOneDrive",e[e["googleDrive"]=103]="googleDrive",e[e["box"]=104]="box",e[e["microsoftSharePoint"]=105]="microsoftSharePoint",e[e["subSyncAction"]=201]="subSyncAction",e[e["commonSyncAction"]=202]="commonSyncAction",e[e["linkPreview"]=203]="linkPreview",e[e["editEvent"]=204]="editEvent",e[e["atEvent"]=205]="atEvent",e[e["appAction"]=206]="appAction",e[e["e2EAction_V2KeyReq"]=208]="e2EAction_V2KeyReq",e[e["e2EAction_V2KeyRep"]=209]="e2EAction_V2KeyRep",e[e["unknown"]=888]="unknown",e[e["httpApi"]=900]="httpApi",e[e["forwardNotificationMsg"]=901]="forwardNotificationMsg",e[e["systemMsg"]=902]="systemMsg"}(po||(po={})),function(e){e[e["none"]=0]="none",e[e["raw"]=1]="raw",e[e["image"]=2]="image",e[e["message"]=3]="message",e[e["meeting"]=4]="meeting",e[e["sticker"]=5]="sticker",e[e["E2E"]=6]="E2E",e[e["code"]=7]="code",e[e["ZRUpload"]=8]="ZRUpload",e[e["integration"]=11]="integration",e[e["meetingNotes"]=13]="meetingNotes",e[e["meetingScreenShot"]=14]="meetingScreenShot",e[e["PBX"]=17]="PBX",e[e["whiteboard"]=20]="whiteboard",e[e["video"]=26]="video",e[e["meetChatFile"]=27]="meetChatFile",e[e["sharePoint"]=64]="sharePoint",e[e["box"]=66]="box"}(mo||(mo={})),function(e){e[e["notSet"]=0]="notSet",e[e["textE2eV2"]=1]="textE2eV2",e[e["fileE2eV2"]=2]="fileE2eV2",e[e["text"]=4]="text",e[e["rawFile"]=8]="rawFile",e[e["png"]=16]="png",e[e["jpg"]=32]="jpg",e[e["jpeg"]=32]="jpeg",e[e["gif"]=64]="gif",e[e["amr"]=128]="amr",e[e["imgPreviewE2eV2"]=256]="imgPreviewE2eV2",e[e["giphy"]=512]="giphy",e[e["codeSnippet"]=1024]="codeSnippet",e[e["fileIntegration"]=2048]="fileIntegration",e[e["opus"]=4096]="opus",e[e["linkUnfurling"]=8192]="linkUnfurling",e[e["giphyV2"]=16384]="giphyV2",e[e["fileAndText"]=32768]="fileAndText",e[e["zappMessage"]=65536]="zappMessage",e[e["meetToChat"]=262144]="meetToChat",e[e["meetToChat2"]=524288]="meetToChat2",e[e["comment"]=12]="comment"}(go||(go={})),function(e){e[e["NA"]=0]="NA",e[e["ZoomMeeting"]=1]="ZoomMeeting",e[e["Meeting"]=2]="Meeting",e[e["PBX"]=3]="PBX",e[e["Presenting"]=4]="Presenting"}(vo||(vo={})),function(e){e[e["systemIdleAway"]=0]="systemIdleAway",e[e["systemAvailable"]=5]="systemAvailable",e[e["manual"]=15]="manual",e[e["default"]=15]="default"}(yo||(yo={})),function(e){e[e["NA"]=0]="NA",e[e["ZoomMeeting"]=1]="ZoomMeeting",e[e["Meeting"]=2]="Meeting",e[e["PBX"]=3]="PBX",e[e["Presenting"]=4]="Presenting"}(bo||(bo={})),function(e){e["NA"]="NA",e["ZoomMeeting"]="ZM",e["Meeting"]="M",e["PBX"]="PBX",e["Presenting"]="ZP",e["Busy"]="BUSY"}(Do||(Do={})),function(e){e["e2eNone"]="e2e:none",e["e2eForce"]="e2e:force",e["e2eOptional"]="e2e:optional"}(_o||(_o={})),function(e){e["away"]="away",e["dnd"]="dnd",e["xa"]="xa",e["offline"]="offline",e["online"]="available",e["busy"]="busy"}(wo||(wo={})),function(e){e[e["None"]=0]="None",e[e["Ack"]=1]="Ack",e[e["Echo"]=2]="Echo",e[e["NoNOS"]=16]="NoNOS",e[e["NoEchoToMyOtherRes"]=32]="NoEchoToMyOtherRes",e[e["EchoToOtherRes"]=64]="EchoToOtherRes",e[e["AckRouteResult"]=128]="AckRouteResult",e[e["PartialDelivery"]=256]="PartialDelivery",e[e["ForceDelivery"]=4096]="ForceDelivery",e[e["E2E11Message"]=35]="E2E11Message",e[e["E2EMUCMessage"]=50]="E2EMUCMessage",e[e["E2EInvitation"]=35]="E2EInvitation",e[e["E2EAction"]=50]="E2EAction",e[e["E2EAction_OnlyForMe"]=19]="E2EAction_OnlyForMe",e[e["E2EAction_V2KeyReq"]=4546]="E2EAction_V2KeyReq",e[e["E2EAction_V2KeyRep"]=4162]="E2EAction_V2KeyRep",e[e["CallAction"]=3]="CallAction",e[e["SubsciptionSync"]=4099]="SubsciptionSync",e[e["FileStatusSync"]=3]="FileStatusSync",e[e["RevokeMessage"]=3]="RevokeMessage",e[e["EditMessage"]=3]="EditMessage",e[e["LinkMetaInfo"]=3]="LinkMetaInfo",e[e["AddonMessage"]=67]="AddonMessage",e[e["AtEvent"]=3]="AtEvent",e[e["CommonSyncAction"]=4098]="CommonSyncAction",e[e["TransferLcp"]=34]="TransferLcp",e[e["RequestLcp"]=34]="RequestLcp"}(Eo||(Eo={})),function(e){e[e["systemMessage"]=0]="systemMessage",e[e["text"]=1]="text",e[e["video"]=2]="video",e[e["picture"]=3]="picture",e[e["audio"]=4]="audio",e[e["rawFile"]=5]="rawFile",e[e["call"]=6]="call",e[e["callAccept"]=9]="callAccept",e[e["callDecline"]=11]="callDecline",e[e["jpg"]=3]="jpg",e[e["jpeg"]=3]="jpeg",e[e["png"]=12]="png",e[e["gif"]=13]="gif",e[e["codeSnippet"]=14]="codeSnippet",e[e["callCancel"]=15]="callCancel",e[e["fileIntegration"]=16]="fileIntegration",e[e["audioV2"]=17]="audioV2",e[e["fileAndMsg"]=18]="fileAndMsg",e[e["placeHolder"]=19]="placeHolder"}(Co||(Co={})),function(e){e[e["none"]=0]="none",e[e["screenShot"]=1]="screenShot",e[e["whiteboard"]=2]="whiteboard",e[e["whiteboardShared"]=3]="whiteboardShared",e[e["video"]=4]="video",e[e["meetChatFile"]=5]="meetChatFile"}(xo||(xo={})),function(e){e[e["none"]=0]="none",e[e["dropbox"]=1]="dropbox",e[e["microsoftOneDrive"]=2]="microsoftOneDrive",e[e["googleDrive"]=3]="googleDrive",e[e["box"]=4]="box",e[e["microsoftSharePoint"]=5]="microsoftSharePoint"}(Ao||(Ao={})),function(e){e[e["ZM_NoSpecialFeature"]=0]="ZM_NoSpecialFeature",e[e["ZM_AckRecvMessage"]=1]="ZM_AckRecvMessage",e[e["ZM_AckSendMessage"]=2]="ZM_AckSendMessage",e[e["ZM_SupportUnicode32"]=4]="ZM_SupportUnicode32",e[e["ZM_RecvSystemMessage"]=16]="ZM_RecvSystemMessage",e[e["ZM_RecvCallMessage"]=32]="ZM_RecvCallMessage",e[e["ZM_RecvE2EMessage"]=64]="ZM_RecvE2EMessage",e[e["ZM_LargeGroupSupport"]=128]="ZM_LargeGroupSupport",e[e["ZM_WebinarDynChangeRole"]=256]="ZM_WebinarDynChangeRole",e[e["ZM_SupportUnifiedHistoryMessage"]=512]="ZM_SupportUnifiedHistoryMessage",e[e["ZM_DisableArchiveWebinarQAMessages"]=1024]="ZM_DisableArchiveWebinarQAMessages",e[e["ZM_SupportPadResource"]=1024]="ZM_SupportPadResource",e[e["ZM_SupportIMCMDAction"]=2048]="ZM_SupportIMCMDAction",e[e["ZM_SupportNewNotification"]=4096]="ZM_SupportNewNotification",e[e["ZM_SupportTempPresenceV2"]=8192]="ZM_SupportTempPresenceV2",e[e["ZM_SupportMyNote"]=16384]="ZM_SupportMyNote",e[e["ZM_SupportNewOfflineMSGPush"]=65536]="ZM_SupportNewOfflineMSGPush",e[e["ZM_SupportPersonalGroup"]=131072]="ZM_SupportPersonalGroup",e[e["ZM_SupportAvailableAlert"]=262144]="ZM_SupportAvailableAlert",e[e["ZM_SupportTelephoneUser"]=524288]="ZM_SupportTelephoneUser",e[e["ZM_SupportThreadReply"]=1048576]="ZM_SupportThreadReply",e[e["ZM_SupportInformationBarrier"]=2097152]="ZM_SupportInformationBarrier",e[e["ZM_SupportGCMCompatible"]=4194304]="ZM_SupportGCMCompatible",e[e["ZM_SupportEventChannel"]=8388608]="ZM_SupportEventChannel"}(ko||(ko={})),function(e){e[e["owner"]=10]="owner",e[e["admin"]=20]="admin",e[e["annourcer"]=25]="annourcer",e[e["moderator"]=27]="moderator",e[e["member"]=30]="member",e[e["outcase"]=40]="outcase",e[e["none"]=50]="none",e[e["addon"]=60]="addon"}(So||(So={})),function(e){e[e["kMUCFlag_OldRoom"]=0]="kMUCFlag_OldRoom",e[e["kMUCFlag_Invalid"]=-1]="kMUCFlag_Invalid",e[e["kMUCFlag_ForceE2E"]=1]="kMUCFlag_ForceE2E",e[e["kMUCFlag_Public"]=2]="kMUCFlag_Public",e[e["kMUCFlag_SameOrg"]=4]="kMUCFlag_SameOrg",e[e["kMUCFlag_Room"]=8]="kMUCFlag_Room",e[e["kMUCFlag_Normal"]=16]="kMUCFlag_Normal",e[e["kMUCFlag_RestrictHistoryMessages"]=32]="kMUCFlag_RestrictHistoryMessages",e[e["kMUCFlag_NewMUCFlag"]=64]="kMUCFlag_NewMUCFlag",e[e["kMUCFlag_AccountBroadcastFlag"]=128]="kMUCFlag_AccountBroadcastFlag",e[e["kMUCFlag_AnnouncerIsAdmin"]=256]="kMUCFlag_AnnouncerIsAdmin",e[e["kMUCFlag_AnnouncerIsAdminAndSpecialMember"]=512]="kMUCFlag_AnnouncerIsAdminAndSpecialMember",e[e["kMUCFlag_DISABLE_EXTERNAL_ADD"]=1024]="kMUCFlag_DISABLE_EXTERNAL_ADD",e[e["kMUCFlag_EventChannelFlag"]=2048]="kMUCFlag_EventChannelFlag",e[e["kMUCFlag_LobbyPrivateChannel"]=65536]="kMUCFlag_LobbyPrivateChannel",e[e["kMUCFlag_GroupChat"]=48]="kMUCFlag_GroupChat",e[e["kMUCFlag_NewMUC"]=80]="kMUCFlag_NewMUC",e[e["kMUCFlag_Audited"]=4096]="kMUCFlag_Audited",e[e["kMUCFlag_NoTopic"]=16384]="kMUCFlag_NoTopic",e[e["kMUCFlag_EventChatFlag"]=32768]="kMUCFlag_EventChatFlag",e[e["OPTION_PRE_MEETING_CHANNEL_FLAG"]=524288]="OPTION_PRE_MEETING_CHANNEL_FLAG",e[e["kMUCFlag_LargeChannel"]=1048576]="kMUCFlag_LargeChannel"}(Fo||(Fo={})),function(e){e["xmppPresenceStatus_NA"]="NA",e["xmppPresenceStatus_ZoomMeeting"]="ZM",e["xmppPresenceStatus_Meeting"]="M",e["xmppPresenceStatus_PBX"]="PBX",e["xmppPresenceStatus_Presenting"]="ZP"}(Oo||(Oo={})),function(e){e[e["xmppPresencePriority_SystemIdleAway"]=0]="xmppPresencePriority_SystemIdleAway",e[e["xmppPresencePriority_SystemAvailable"]=5]="xmppPresencePriority_SystemAvailable",e[e["xmppPresencePriority_Manual"]=15]="xmppPresencePriority_Manual",e[e["xmppPresencePriority_Default"]=15]="xmppPresencePriority_Default"}(Mo||(Mo={})),function(e){e[e["none"]=0]="none",e[e["onZoom"]=1]="onZoom"}(To||(To={})),function(e){e[e["imCommonFile"]=1]="imCommonFile",e[e["imImageFile"]=2]="imImageFile",e[e["imVoice"]=3]="imVoice",e[e["imScreenShot"]=32]="imScreenShot"}(jo||(jo={})),function(e){e[e["none"]=0]="none",e[e["normal"]=1]="normal",e[e["top"]=2]="top"}(No||(No={})),function(e){e[e["JPG"]=1048576]="JPG",e[e["Audio"]=2097152]="Audio",e[e["Video"]=4194304]="Video",e[e["PNG"]=8388608]="PNG",e[e["GIF"]=16777216]="GIF",e[e["OtherFile"]=33554432]="OtherFile",e[e["Giphy"]=67108864]="Giphy",e[e["CodeSnippet"]=134217728]="CodeSnippet",e[e["FileIntegration"]=268435456]="FileIntegration",e[e["Screenshot"]=536870912]="Screenshot",e[e["WhiteboardPreview"]=1073741824]="WhiteboardPreview",e[e["Email"]=2147483648]="Email"}(Bo||(Bo={})),function(e){e["JPG"]="jpg",e["Audio"]="audio",e["Video"]="video",e["PNG"]="png",e["GIF"]="gif",e["OtherFile"]="otherfile",e["Giphy"]="giphy",e["CodeSnippet"]="codesnippet",e["FileIntegration"]="fileintegration",e["Screenshot"]="screenshot",e["WhiteboardPreview"]="whiteboardpreview",e["Email"]="email"}(Io||(Io={}));var zo,$o,Uo,qo,Yo,Vo,Wo,Jo,Ko,Xo,Go,Zo,Qo=[[Io.JPG,Bo.JPG],[Io.Audio,Bo.Audio],[Io.Video,Bo.Video],[Io.PNG,Bo.PNG],[Io.GIF,Bo.GIF],[Io.OtherFile,Bo.OtherFile],[Io.Giphy,Bo.Giphy],[Io.CodeSnippet,Bo.CodeSnippet],[Io.FileIntegration,Bo.FileIntegration],[Io.Screenshot,Bo.Screenshot],[Io.WhiteboardPreview,Bo.WhiteboardPreview],[Io.Email,Bo.Email]];(function(e){e["MESSAGE"]="message",e["CHAT"]="chat"})(zo||(zo={})),function(e){e["MARK"]="mark",e["UNMARK"]="unmark"}($o||($o={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["RECENT"]=1]="RECENT",e[e["PAST"]=2]="PAST",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Uo||(Uo={})),function(e){e[e["SORTTYPE_UNKNOWN"]=0]="SORTTYPE_UNKNOWN",e[e["SORTTYPE_TIMESTAMP"]=1]="SORTTYPE_TIMESTAMP",e[e["SORTTYPE_SCORE"]=2]="SORTTYPE_SCORE",e[e["SORTTYPE_NAME_ASC"]=3]="SORTTYPE_NAME_ASC",e[e["SORTTYPE_NAME_DESC"]=4]="SORTTYPE_NAME_DESC",e[e["SORTTYPE_CREATE_TIME_ASC"]=5]="SORTTYPE_CREATE_TIME_ASC",e[e["SORTTYPE_CREATE_TIME_DESC"]=6]="SORTTYPE_CREATE_TIME_DESC",e[e["SORTTYPE_MODIFY_TIME_ASC"]=7]="SORTTYPE_MODIFY_TIME_ASC",e[e["SORTTYPE_MODIFY_TIME_DESC"]=8]="SORTTYPE_MODIFY_TIME_DESC",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(qo||(qo={})),function(e){e[e["RESOURCETYPE_FILE"]=0]="RESOURCETYPE_FILE",e[e["RESOURCETYPE_FOLDER"]=1]="RESOURCETYPE_FOLDER",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Yo||(Yo={})),function(e){e[e["SENDERTYPE_UNKNOWN"]=0]="SENDERTYPE_UNKNOWN",e[e["GROUP"]=1]="GROUP",e[e["CHAT"]=2]="CHAT",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Vo||(Vo={})),function(e){e[e["FILETYPE_UNKNOWN"]=0]="FILETYPE_UNKNOWN",e[e["ALL"]=1]="ALL",e[e["IMAGES"]=2]="IMAGES",e[e["VIDEOS"]=3]="VIDEOS",e[e["DOCUMENTS"]=4]="DOCUMENTS",e[e["PRESENTATIONS"]=5]="PRESENTATIONS",e[e["SPREADSHEETS"]=6]="SPREADSHEETS",e[e["OTHER"]=7]="OTHER",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Wo||(Wo={})),function(e){e[e["WHITEBOARD"]=0]="WHITEBOARD",e[e["INTEGRATION"]=1]="INTEGRATION",e[e["SHAREPOINT"]=2]="SHAREPOINT",e[e["ZOOM_FILES"]=3]="ZOOM_FILES",e[e["BOX"]=4]="BOX",e[e["HUDDLE_VIEW"]=5]="HUDDLE_VIEW",e[e["NEW_WHITEBOARD"]=6]="NEW_WHITEBOARD",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Jo||(Jo={})),function(e){e[e["FIELDNAME_UNKNOWN"]=0]="FIELDNAME_UNKNOWN",e[e["FILENAME"]=1]="FILENAME",e[e["CONTENT"]=2]="CONTENT",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Ko||(Ko={})),function(e){e[e["CUTTAG_UNKNOWN"]=0]="CUTTAG_UNKNOWN",e[e["PREFIX"]=1]="PREFIX",e[e["SUFFIX"]=2]="SUFFIX",e[e["BOTH"]=3]="BOTH",e[e["NONE"]=4]="NONE",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Xo||(Xo={})),function(e){e[e["CUTTAG_UNKNOWN"]=0]="CUTTAG_UNKNOWN",e[e["PREFIX"]=1]="PREFIX",e[e["SUFFIX"]=2]="SUFFIX",e[e["BOTH"]=3]="BOTH",e[e["NONE"]=4]="NONE",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Go||(Go={})),function(e){e[e["CHATTYPE_UNKNOWN"]=0]="CHATTYPE_UNKNOWN",e[e["GROUP_CHAT"]=1]="GROUP_CHAT",e[e["P2P_CHAT"]=2]="P2P_CHAT",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Zo||(Zo={}));var es,ts,ns,rs,is,os,ss,as,us,cs,ls,ds,hs=function(){if("undefined"!==typeof hs)return hs;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw"Unable to locate global object"}();Ki.util.Long!==cr&&(Ki.util.Long=cr,Ki.configure()),function(e){e["ALL"]="all",e["CONTACT"]="contact",e["CHANNEL"]="channel",e["MESSAGE"]="message",e["FILE"]="file"}(es||(es={})),function(e){e[e["CHANNEL_NAME"]=1]="CHANNEL_NAME",e[e["USERNAME"]=2]="USERNAME",e[e["ALL"]=3]="ALL"}(ts||(ts={})),function(e){e[e["ALL"]=0]="ALL",e[e["JOINED"]=1]="JOINED"}(ns||(ns={})),function(e){e[e["ALL_NORMAL"]=0]="ALL_NORMAL",e[e["PUBLIC_NORMAL"]=1]="PUBLIC_NORMAL",e[e["ALL_MUC"]=2]="ALL_MUC",e[e["PUBLIC_MUC"]=3]="PUBLIC_MUC"}(rs||(rs={})),new Map([[rs.ALL_NORMAL,{2:[]}],[rs.PUBLIC_NORMAL,{2:[4]}],[rs.ALL_MUC,{3:[]}],[rs.PUBLIC_MUC,{3:[4]}]]),function(e){e["set"]="set",e["close"]="close",e["edit"]="edit",e["snooze"]="snooze",e["reset"]="reset",e["remind"]="remind"}(is||(is={})),function(e){e["active"]="active",e["destroying"]="destroying",e["destroyed"]="destroyed"}(os||(os={})),function(e){e["connecting"]="connecting",e["connected"]="connected",e["disconnecting"]="disconnecting",e["disconnected"]="disconnected"}(ss||(ss={})),function(e){e[e["full"]=-1]="full"}(as||(as={})),function(e){e["chunk"]="1",e["noChunk"]="0"}(us||(us={})),function(e){e["new"]="new",e["edit"]="edit",e["revoke"]="revoke"}(cs||(cs={})),function(e){e["file"]="file",e["text"]="text",e["image"]="image",e["giphy"]="giphy",e["info"]="info",e["composing"]="composing",e["inactive"]="inactive",e["gone"]="gone",e["active"]="active",e["mix"]="mix",e["call"]="call",e["unknown"]="unknown",e["pmc"]="pmc",e["screenshot"]="screenshot",e["reminder"]="reminder"}(ls||(ls={})),function(e){e["file"]="file",e["image"]="image",e["mix"]="mix"}(ds||(ds={}));var fs,ps,ms,gs,vs,ys,bs={};Object(p["a"])(bs,ds.image,["png","jpg","jpeg","gif","svg"]),Object(p["a"])(bs,ds.mix,["png","jpg","jpe","jpeg","gif"]),function(e){e["ZoomChat_pc"]="ZoomChat_pc",e["ZoomChat_ze"]="ZoomChat_ze",e["ZoomChat_nze"]="ZoomChat_nze",e["ZoomChat_pwa"]="ZoomChat_pwa",e["ZoomChat_pc_pwa"]="ZoomChat_pc_pwa"}(fs||(fs={})),function(e){e["fulfilled"]="fulfilled",e["rejected"]="rejected"}(ps||(ps={})),function(e){e["dataUrl"]="dataUrl",e["objectUrl"]="objectUrl"}(ms||(ms={})),function(e){e["phone"]="Phone",e["mobile"]="Mobile",e["office"]="Office",e["home"]="Home",e["fax"]="Fax",e["other"]="Other"}(gs||(gs={})),function(e){e[e["user"]=1]="user",e[e["all"]=2]="all",e[e["channel"]=3]="channel"}(vs||(vs={})),function(e){e["regular"]="regular",e["embedded"]="embedded"}(ys||(ys={}));var Ds,_s,ws,Es,Cs,xs,As,ks,Ss,Fs,Os,Ms,Ts,js,Ns=[ls.composing,ls.inactive,ls.active,ls.gone];function Bs(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}(function(e){e["SDKInitStart"]="SDKInitStart",e["SDKInitSuccessfully"]="SDKInitSuccessfully",e["fetchingXmppToken"]="fetchingXmppToken",e["fetchXmppTokenSuccessfully"]="fetchXmppTokenSuccessfully",e["fetchXmppTokenFailed"]="fetchXmppTokenFailed",e["xmppConnecting"]="xmppConnecting",e["xmppConnected"]="xmppConnected",e["xmppConnectFailed"]="xmppConnectFailed",e["xmppConnectionCONNFAIL"]="xmppConnectionCONNFAIL",e["xmppConnectionAUTHFAIL"]="xmppConnectionAUTHFAIL",e["xmppConnectionConflict"]="xmppConnectionConflict",e["xmppDisconnected"]="xmppDisconnected",e["xmppReconnecting"]="xmppReconnecting",e["xmppConnectRevokeToken"]="xmppConnectRevokeToken",e["destoryed"]="destoryed",e["initializingChannel"]="initializingChannel",e["initChannelSuccessfully"]="initChannelSuccessfully",e["initChannelFailed"]="initChannelFailed",e["changingChannel"]="changingChannel",e["changeChannelSuccessfully"]="changeChannelSuccessfully",e["changeChannelFailed"]="changeChannelFailed",e["fetchingChannelInfo"]="fetchingChannelInfo",e["fetchChannelInfoSuccessfully"]="fetchChannelInfoSuccessfully",e["fetchChannelInfoFailed"]="fetchChannelInfoFailed",e["fetchingHistoryMsg"]="fetchingHistoryMsg",e["fetchHistoryMsgSuccessfully"]="fetchHistoryMsgSuccessfully",e["fetchHistoryMsgFailed"]="fetchHistoryMsgFailed"})(Ds||(Ds={})),function(e){e["add"]="add",e["remove"]="remove",e["update"]="update"}(_s||(_s={})),function(e){e["cancel"]="cancel",e["invite"]="invite",e["decline"]="decline",e["accept"]="accept",e["transfer_lcp"]="transfer_lcp",e["request_lcp"]="request_lcp"}(ws||(ws={})),function(e){e["add"]="add",e["update"]="update",e["remove"]="remove"}(Es||(Es={})),function(e){e["add"]="add",e["remove"]="remove"}(Cs||(Cs={})),function(e){e["active"]="active",e["inactive"]="inactive",e["terminate"]="terminate",e["hidden"]="hidden"}(xs||(xs={})),function(e){e["add"]="add",e["update"]="update",e["delete"]="delete"}(As||(As={})),function(e){e["add"]="add",e["update"]="update",e["remove"]="remove"}(ks||(ks={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["IM_GROUP"]=1]="IM_GROUP",e[e["CHANNEL"]=2]="CHANNEL",e[e["NEW_CHAT"]=3]="NEW_CHAT",e[e["PERSONAL_GROUP"]=4]="PERSONAL_GROUP",e[e["BROADCAST_CHANNEL"]=5]="BROADCAST_CHANNEL",e[e["EVENT_CHANNEL"]=6]="EVENT_CHANNEL"}(Ss||(Ss={})),function(e){e["CHAT"]="chat",e["CHANNEL"]="channel",e["MUC"]="muc"}(Fs||(Fs={})),function(e){e["msg"]="msg",e["search"]="search"}(Os||(Os={})),function(e){e["dnd"]="dnd",e["presenting"]="presenting",e["zoommeeting"]="zoommeeting",e["pbx"]="pbx",e["calendar"]="calendar",e["available"]="available",e["away"]="away",e["offline"]="offline",e["mobile"]="mobile",e["busy"]="busy"}(Ms||(Ms={})),function(e){e["pwa"]="ZoomChat_pc_pwa",e["pc"]="ZoomChat_pc",e["mobile"]="ZoomChat_mobile",e["pad"]="ZoomChat_pad",e["pzr"]="ZoomChat_pzr",e["pwaChat"]="ZoomChat_pwa"}(Ts||(Ts={})),function(e){e["create"]="create",e["update"]="update",e["delete"]="delete",e["add"]="add",e["remove"]="remove",e["replace"]="replace"}(js||(js={}));var Is=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}(),Ls=function(){return Math.random().toString(36).substring(7).split("").join(".")},Rs={INIT:"@@redux/INIT"+Ls(),REPLACE:"@@redux/REPLACE"+Ls(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ls()}};function Ps(e){if("object"!==Object(g["a"])(e)||null===e)return!1;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hs(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Bs(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Bs(1));return n(Hs)(e,t)}if("function"!==typeof e)throw new Error(Bs(2));var i=e,o=t,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function l(){if(u)throw new Error(Bs(3));return o}function d(e){if("function"!==typeof e)throw new Error(Bs(4));if(u)throw new Error(Bs(5));var t=!0;return c(),a.push(e),function(){if(t){if(u)throw new Error(Bs(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!Ps(e))throw new Error(Bs(7));if("undefined"===typeof e.type)throw new Error(Bs(8));if(u)throw new Error(Bs(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++){var r=t[n];r()}return e}function f(e){if("function"!==typeof e)throw new Error(Bs(10));i=e,h({type:Rs.REPLACE})}function p(){var e,t=d;return e={subscribe:function(e){if("object"!==Object(g["a"])(e)||null===e)throw new Error(Bs(11));function n(){e.next&&e.next(l())}n();var r=t(n);return{unsubscribe:r}}},e[Is]=function(){return this},e}return h({type:Rs.INIT}),r={dispatch:h,subscribe:d,getState:l,replaceReducer:f},r[Is]=p,r}var zs=function(e,t,n,r,i,o,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;u=new Error(t.replace(/%s/g,(function(){return c[l++]}))),u.name="Invariant Violation"}throw u.framesToPop=1,u}},$s=zs,Us=$s,qs=function(e){return"function"===typeof e},Ys=function(e){return 0===e.length},Vs=function(e){return e.toString()},Ws=function(e){return"string"===typeof e},Js="/",Ks="||",Xs=function(e){return e},Gs=function(e){return null===e};function Zs(e,t,n){void 0===t&&(t=Xs),Us(qs(t)||Gs(t),"Expected payloadCreator to be a function, undefined or null");var r=Gs(t)||t===Xs?Xs:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},i=qs(n),o=e.toString(),s=function(){var t=r.apply(void 0,arguments),o={type:e};return t instanceof Error&&(o.error=!0),void 0!==t&&(o.payload=t),i&&(o.meta=n.apply(void 0,arguments)),o};return s.toString=function(){return o},s}var Qs=function(e){if("object"!==Object(g["a"])(e)||null===e)return!1;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},ea=function(e){return Array.isArray(e)},ta=function(e){return null===e||void 0===e},na=function(e){return e[e.length-1]},ra=aa,ia=/\s/,oa=/(_|-|\.|:)/,sa=/([a-z][A-Z]|[A-Z][a-z])/;function aa(e){return ia.test(e)?e.toLowerCase():oa.test(e)?(ca(e)||e).toLowerCase():sa.test(e)?da(e).toLowerCase():e.toLowerCase()}var ua=/[\W_]+(.|$)/g;function ca(e){return e.replace(ua,(function(e,t){return t?" "+t:""}))}var la=/(.)([A-Z]+)/g;function da(e){return e.replace(la,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}var ha=ra,fa=pa;function pa(e){return ha(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}var ma=fa,ga=va;function va(e){return ma(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}var ya=ga,ba="/",Da=function(e){return-1===e.indexOf(ba)?ya(e):e.split(ba).map(ya).join(ba)},_a=function(e,t){return e.reduce((function(e,n){return t(e,n)}),{})},wa=function(e){return"undefined"!==typeof Map&&e instanceof Map};function Ea(e){if(wa(e))return Array.from(e.keys());if("undefined"!==typeof Reflect&&"function"===typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}function Ca(e,t){return wa(t)?t.get(e):t[e]}var xa=function(e){return function t(n,r,i,o){var s=void 0===r?{}:r,a=s.namespace,u=void 0===a?Js:a,c=s.prefix;function l(e){var t;if(!o)return e;var n=e.toString().split(Ks),r=o.split(Ks);return(t=[]).concat.apply(t,r.map((function(e){return n.map((function(t){return""+e+u+t}))}))).join(Ks)}function d(e){return o||!c||c&&new RegExp("^"+c+u).test(e)?e:""+c+u+e}return void 0===i&&(i={}),void 0===o&&(o=""),Ea(n).forEach((function(r){var o=d(l(r)),s=Ca(r,n);e(s)?t(s,{namespace:u,prefix:c},i,o):i[o]=s})),i}},Aa=xa(Qs);function ka(e,t){var n=void 0===t?{}:t,r=n.namespace,i=void 0===r?Js:r,o=n.prefix;function s(t,n,r){var i=Da(r.shift());Ys(r)?n[i]=e[t]:(n[i]||(n[i]={}),s(t,n[i],r))}var a={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=o?e.replace(""+o+i,""):e;return s(e,a,t.split(i))})),a}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fa(e,t,n[t])}))}return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Qs(na(n))?n.pop():{};return Us(n.every(Ws)&&(Ws(e)||Qs(e)),"Expected optional object followed by string action types"),Ws(e)?ja([e].concat(n),i):Sa({},Ma(e,i),ja(n,i))}function Ma(e,t){var n=Aa(e,t),r=Ta(n);return ka(r,t)}function Ta(e,t){var n=void 0===t?{}:t,r=n.prefix,i=n.namespace,o=void 0===i?Js:i;function s(e){if(qs(e)||ta(e))return!0;if(ea(e)){var t=e[0],n=void 0===t?Xs:t,r=e[1];return qs(n)&&qs(r)}return!1}return _a(Object.keys(e),(function(t,n){var i,a=e[n];Us(s(a),"Expected function, undefined, null, or array with payload and meta functions for "+n);var u=r?""+r+o+n:n,c=ea(a)?Zs.apply(void 0,[u].concat(a)):Zs(u,a);return Sa({},t,(i={},i[n]=c,i))}))}function ja(e,t){var n=_a(e,(function(e,t){var n;return Sa({},e,(n={},n[t]=Xs,n))})),r=Ta(n,t);return _a(Object.keys(r),(function(e,t){var n;return Sa({},e,(n={},n[Da(t)]=r[t],n))}))}var Na=function(e){return void 0===e};function Ba(e,t,n){void 0===t&&(t=Xs);var r=Vs(e).split(Ks);Us(!Na(n),"defaultState for reducer handling "+r.join(", ")+" should be defined"),Us(qs(t)||Qs(t),"Expected reducer to be a function or object with next and throw reducers");var i=qs(t)?[t,t]:[t.next,t.throw].map((function(e){return ta(e)?Xs:e})),o=i[0],s=i[1];return function(e,t){void 0===e&&(e=n);var i=t.type;return i&&-1!==r.indexOf(Vs(i))?(!0===t.error?s:o)(e,t):e}}var Ia=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!==typeof t[t.length-1]&&t.pop(),i=t;if("undefined"===typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];var a="undefined"===typeof e,u="undefined"===typeof t;return a&&u&&r?r:i.reduce((function(e,n){return n.apply(void 0,[e,t].concat(o))}),a&&!u&&r?r:e)}};function La(e){var t=Ea(e),n=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&n}var Ra=xa((function(e){return(Qs(e)||wa(e))&&!La(e)}));function Pa(e,t,n){void 0===n&&(n={}),Us(Qs(e)||wa(e),"Expected handlers to be a plain object.");var r=Ra(e,n),i=Ea(r).map((function(e){return Ba(e,Ca(e,r),t)})),o=Ia.apply(void 0,i.concat([t]));return function(e,n){return void 0===e&&(e=t),o(e,n)}}var Ha,za={heartBeat:2e4,uploadTimeout:9e5,downloadTimeout:9e5,apiTimeout:15e3,multiDeviceEnable:!1,showNickname:!0,browserMode:"regular",sendMsgInterval:300,loopFetchLimit:6,loopFetchMsgs:!0,msgWaitFileLoaded:!1,channelWaitTopPin:!1,giphySyncLoad:!0,encodeHtmlBeforeSendMsg:!0,decodeHtmlWhenReceiveMsg:!0,cronJobIntervalIncre:3e4,autoReconnect:!0,maximumReconnectionLimit:5,reconnectionInterval:3e3,pictureFormat:"dataUrl",useDefaultImg:!0,autoDownloadFile:!1,fileDownloadPromptIgnoreList:".264,.3dm,.3ds,.3gp,.3mf,.aac,.abr,.acr,.aep,.aia,.aif,.amr,.apa,.asc,.asm,.avi,.bak,.bcf,.bin,.bmp,.c,.c3p,.c4d,.cc,.cer,.cfg,.cif,.cpp,.cr2,.cr3,.crt,.css,.csv,.cur,.dat,.doc,.docx,.dpx,.dwg,.dxf,.edb,.eps,.ev3,.ex4,.f3d,.fbx,.flp,.flv,.fodp,.fods,.fodt,.gan,.ggb,.gif,.glb,.h,.har,.hex,.hwp,.ico,.ics,.ini,.ino,.java,.jmx,.jpe,.jpeg,.jpg,.key,.keynote,.kmz,.kra,.lic,.log,.lxf,.m,.m3u,.m4a,.m4v,.max,.mdp,.mfa,.mid,.mkv,.mom,.mov,.mp3,.mp4,.mpe,.mpg,.mpp,.mq4,.msg,.nef,.numbers,.obj,.odp,.ods,.odt,.ogg,.one,.ora,.otf,.pages,.par,.pcm,.pdb,.pdf,.pdn,.pem,.pfd,.pfx,.pgn,.php,.pka,.pkt,.pln,.png,.pps,.ppt,.pptx,.psc,.psd,.pub,.py,.rar,.rdf,.ret,.rfa,.rmd,.rpt,.rte,.rtf,.rvt,.rw2,.sav,.sb2,.sb3,.set,.sib,.skp,.slx,.spv,.sql,.srt,.std,.stl,.stp,.svg,.tag,.tar,.tex,.tgz,.tif,.tmp,.tns,.ttf,.txt,.vcf,.vob,.vwx,.wav,.wma,.wmv,.wpl,.wrf,.xcf,.xdw,.xls,.xlsx,.xml,.xps,.xqf,.yml,.zip,.7z,.gz,.xmind,.json,.mm,.hpp,.crash,.diff,.conf,.rm,.rmvb,.phps,.go,.rs,.cs,.sln,.config,.cache,.resx,.rc,.res,.gitignore,.htaccess,.lib,.md,.mak"},$a=za.uploadTimeout,Ua=za.downloadTimeout,qa=za.apiTimeout,Ya=za.browserMode,Va=za.multiDeviceEnable,Wa=za.showNickname,Ja=za.sendMsgInterval,Ka=za.loopFetchLimit,Xa=za.loopFetchMsgs,Ga=za.msgWaitFileLoaded,Za=za.channelWaitTopPin,Qa=za.giphySyncLoad,eu=za.encodeHtmlBeforeSendMsg,tu=za.decodeHtmlWhenReceiveMsg,nu=za.autoReconnect,ru=za.maximumReconnectionLimit,iu=za.reconnectionInterval,ou=za.pictureFormat,su=za.useDefaultImg,au=za.autoDownloadFile,uu=za.fileDownloadPromptIgnoreList;(function(e){e["get"]="get",e["set"]="set",e["delete"]="delete"})(Ha||(Ha={}));var cu={ws:null,xmppDomain:null,conferenceDomain:null,settings:{browserMode:Ya,showNickname:Wa,multiDeviceEnable:Va,uploadTimeout:$a,downloadTimeout:Ua,apiTimeout:qa,sendMsgInterval:Ja,loopFetchLimit:Ka,loopFetchMsgs:Xa,msgWaitFileLoaded:Ga,channelWaitTopPin:Za,giphySyncLoad:Qa,encodeHtmlBeforeSendMsg:eu,decodeHtmlWhenReceiveMsg:tu,autoReconnect:nu,maximumReconnectionLimit:ru,reconnectionInterval:iu,pictureFormat:ou,useDefaultImg:su,autoDownloadFile:au,fileDownloadPromptIgnoreList:uu,giphyPreload:null,giphyKey:null,fetchAllTokenInfo:null,fetchXmppTokenInfo:null,fetchZckInfo:null,webServerDomain:null,xmsServerDomain:null,fileServerDomain:null,imageServerDomain:null,asyncServerDomain:null,pwaServerDomain:null},xmppTokenInfo:null,fileZckInfo:null,xmsZckInfo:null,usersMap:{},deviceInfo:{deviceName:null,deviceId:null,resourceId:null},blockList:[],userInfo:{jid:"",jidIntact:"",name:"",firstname:"",lastname:"",nickname:"",email:"",avatar:null,pronoun:null,orgUnit:null,accountStatus:null,jobInfo:{company:null,job:null,address:null,department:null},signature:{wording:null,begin:0,end:0,duration:0,option:0},contactInfo:{phones:[],extension:"",cn:"",dn:""}},editedMsgIdMap:{},emojiVoteCachePool:{},unreadChannelMap:{},channelMap:{},currentChannelJid:null,nextChannelJid:null,presencesMap:new Map,externalContacts:{total:0,first:0,version:-1,items:[]},reminderUnreadCount:0,reminderMsgMap:{}};function lu(){this.__data__=new Mn,this.size=0}function du(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function hu(e){return this.__data__.get(e)}function fu(e){return this.__data__.has(e)}var pu=200;function mu(e,t){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!Me||r.length<pu-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(e,t),this.size=n.size,this}function gu(e){var t=this.__data__=new Mn(e);this.size=t.size}gu.prototype.clear=lu,gu.prototype["delete"]=du,gu.prototype.get=hu,gu.prototype.has=fu,gu.prototype.set=mu;var vu="__lodash_hash_undefined__";function yu(e){return this.__data__.set(e,vu),this}function bu(e){return this.__data__.has(e)}function Du(e){var t=-1,n=null==e?0:e.length;this.__data__=new Pn;while(++t<n)this.add(e[t])}function _u(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}function wu(e,t){return e.has(t)}Du.prototype.add=Du.prototype.push=yu,Du.prototype.has=bu;var Eu=1,Cu=2;function xu(e,t,n,r,i,o){var s=n&Eu,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e),l=o.get(t);if(c&&l)return c==t&&l==e;var d=-1,h=!0,f=n&Cu?new Du:void 0;o.set(e,t),o.set(t,e);while(++d<a){var p=e[d],m=t[d];if(r)var g=s?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!_u(t,(function(e,t){if(!wu(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o["delete"](e),o["delete"](t),h}var Au=w.Uint8Array,ku=Au;function Su(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Fu(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ou=1,Mu=2,Tu="[object Boolean]",ju="[object Date]",Nu="[object Error]",Bu="[object Map]",Iu="[object Number]",Lu="[object RegExp]",Ru="[object Set]",Pu="[object String]",Hu="[object Symbol]",zu="[object ArrayBuffer]",$u="[object DataView]",Uu=C?C.prototype:void 0,qu=Uu?Uu.valueOf:void 0;function Yu(e,t,n,r,i,o,s){switch(n){case $u:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zu:return!(e.byteLength!=t.byteLength||!o(new ku(e),new ku(t)));case Tu:case ju:case Iu:return En(+e,+t);case Nu:return e.name==t.name&&e.message==t.message;case Lu:case Pu:return e==t+"";case Bu:var a=Su;case Ru:var u=r&Ou;if(a||(a=Fu),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=Mu,s.set(e,t);var l=xu(a(e),a(t),r,i,o,s);return s["delete"](e),l;case Hu:if(qu)return qu.call(e)==qu.call(t)}return!1}function Vu(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Wu(e,t,n){var r=t(e);return R(e)?r:Vu(r,n(e))}function Ju(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Ku(){return[]}var Xu=Object.prototype,Gu=Xu.propertyIsEnumerable,Zu=Object.getOwnPropertySymbols,Qu=Zu?function(e){return null==e?[]:(e=Object(e),Ju(Zu(e),(function(t){return Gu.call(e,t)})))}:Ku,ec=Qu;function tc(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var nc=9007199254740991,rc=/^(?:0|[1-9]\d*)$/;function ic(e,t){var n=Object(g["a"])(e);return t=null==t?nc:t,!!t&&("number"==n||"symbol"!=n&&rc.test(e))&&e>-1&&e%1==0&&e<t}var oc=Object.prototype,sc=oc.hasOwnProperty;function ac(e,t){var n=R(e),r=!n&&rt(e),i=!n&&!r&&pt(e),o=!n&&!r&&!i&&Xt(e),s=n||r||i||o,a=s?tc(e.length,String):[],u=a.length;for(var c in e)!t&&!sc.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ic(c,u))||a.push(c);return a}function uc(e){return st(e)?ac(e):ie(e)}function cc(e){return Wu(e,uc,ec)}var lc=1,dc=Object.prototype,hc=dc.hasOwnProperty;function fc(e,t,n,r,i,o){var s=n&lc,a=cc(e),u=a.length,c=cc(t),l=c.length;if(u!=l&&!s)return!1;var d=u;while(d--){var h=a[d];if(!(s?h in t:hc.call(t,h)))return!1}var f=o.get(e),p=o.get(t);if(f&&p)return f==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);var g=s;while(++d<u){h=a[d];var v=e[h],y=t[h];if(r)var b=s?r(y,v,h,t,e,o):r(v,y,h,e,t,o);if(!(void 0===b?v===y||i(v,y,n,r,o):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var D=e.constructor,_=t.constructor;D==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof D&&D instanceof D&&"function"==typeof _&&_ instanceof _||(m=!1)}return o["delete"](e),o["delete"](t),m}var pc=1,mc="[object Arguments]",gc="[object Array]",vc="[object Object]",yc=Object.prototype,bc=yc.hasOwnProperty;function Dc(e,t,n,r,i,o){var s=R(e),a=R(t),u=s?gc:Xe(e),c=a?gc:Xe(t);u=u==mc?vc:u,c=c==mc?vc:c;var l=u==vc,d=c==vc,h=u==c;if(h&&pt(e)){if(!pt(t))return!1;s=!0,l=!1}if(h&&!l)return o||(o=new gu),s||Xt(e)?xu(e,t,n,r,i,o):Yu(e,t,u,n,r,i,o);if(!(n&pc)){var f=l&&bc.call(e,"__wrapped__"),p=d&&bc.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new gu),i(m,g,n,r,o)}}return!!h&&(o||(o=new gu),fc(e,t,n,r,i,o))}function _c(e,t,n,r,i){return e===t||(null==e||null==t||!P(e)&&!P(t)?e!==e&&t!==t:Dc(e,t,n,r,_c,i))}var wc=1,Ec=2;function Cc(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;e=Object(e);while(i--){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}while(++i<o){a=n[i];var u=a[0],c=e[u],l=a[1];if(s&&a[2]){if(void 0===c&&!(u in e))return!1}else{var d=new gu;if(r)var h=r(c,l,u,e,t,d);if(!(void 0===h?_c(l,c,wc|Ec,r,d):h))return!1}}return!0}function xc(e){return e===e&&!oe(e)}function Ac(e){var t=uc(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,xc(i)]}return t}function kc(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function Sc(e){var t=Ac(e);return 1==t.length&&t[0][2]?kc(t[0][0],t[0][1]):function(n){return n===e||Cc(n,e,t)}}function Fc(e,t){return null!=e&&t in Object(e)}function Oc(e,t,n){t=er(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var s=rr(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&ot(i)&&ic(s,i)&&(R(e)||rt(e)))}function Mc(e,t){return null!=e&&Oc(e,t,Fc)}var Tc=1,jc=2;function Nc(e,t){return an(e)&&xc(t)?kc(rr(e),t):function(n){var r=or(n,e);return void 0===r&&r===t?Mc(n,e):_c(t,r,Tc|jc)}}function Bc(e){return e}function Ic(e){return function(t){return null==t?void 0:t[e]}}function Lc(e){return function(t){return ir(t,e)}}function Rc(e){return an(e)?Ic(rr(e)):Lc(e)}function Pc(e){return"function"==typeof e?e:null==e?Bc:"object"==Object(g["a"])(e)?R(e)?Nc(e[0],e[1]):Sc(e):Rc(e)}function Hc(e,t){var n,r=-1,i=e.length;while(++r<i){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function zc(e,t){return e&&e.length?Hc(e,Pc(t)):0}function $c(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var Uc=function(){try{var e=ke(Object,"defineProperty");return e({},"",{}),e}catch(KD){}}(),qc=Uc;function Yc(e,t,n){"__proto__"==t&&qc?qc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Vc=Object.prototype,Wc=Vc.hasOwnProperty;function Jc(e,t,n){var r=e[t];Wc.call(e,t)&&En(r,n)&&(void 0!==n||t in e)||Yc(e,t,n)}function Kc(e,t,n,r){var i=!n;n||(n={});var o=-1,s=t.length;while(++o<s){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?Yc(n,a,u):Jc(n,a,u)}return n}function Xc(e,t){return e&&Kc(t,uc(t),e)}function Gc(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var Zc=Object.prototype,Qc=Zc.hasOwnProperty;function el(e){if(!oe(e))return Gc(e);var t=Q(e),n=[];for(var r in e)("constructor"!=r||!t&&Qc.call(e,r))&&n.push(r);return n}function tl(e){return st(e)?ac(e,!0):el(e)}function nl(e,t){return e&&Kc(t,tl(t),e)}var rl="object"==("undefined"===typeof exports?"undefined":Object(g["a"])(exports))&&exports&&!exports.nodeType&&exports,il=rl&&"object"==Object(g["a"])(r)&&r&&!r.nodeType&&r,ol=il&&il.exports===rl,sl=ol?w.Buffer:void 0,al=sl?sl.allocUnsafe:void 0;function ul(e,t){if(t)return e.slice();var n=e.length,r=al?al(n):new e.constructor(n);return e.copy(r),r}function cl(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function ll(e,t){return Kc(e,ec(e),t)}var dl=Object.getOwnPropertySymbols,hl=dl?function(e){var t=[];while(e)Vu(t,ec(e)),e=q(e);return t}:Ku,fl=hl;function pl(e,t){return Kc(e,fl(e),t)}function ml(e){return Wu(e,tl,fl)}var gl=Object.prototype,vl=gl.hasOwnProperty;function yl(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&vl.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function bl(e){var t=new e.constructor(e.byteLength);return new ku(t).set(new ku(e)),t}function Dl(e,t){var n=t?bl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var _l=/\w*$/;function wl(e){var t=new e.constructor(e.source,_l.exec(e));return t.lastIndex=e.lastIndex,t}var El=C?C.prototype:void 0,Cl=El?El.valueOf:void 0;function xl(e){return Cl?Object(Cl.call(e)):{}}function Al(e,t){var n=t?bl(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var kl="[object Boolean]",Sl="[object Date]",Fl="[object Map]",Ol="[object Number]",Ml="[object RegExp]",Tl="[object Set]",jl="[object String]",Nl="[object Symbol]",Bl="[object ArrayBuffer]",Il="[object DataView]",Ll="[object Float32Array]",Rl="[object Float64Array]",Pl="[object Int8Array]",Hl="[object Int16Array]",zl="[object Int32Array]",$l="[object Uint8Array]",Ul="[object Uint8ClampedArray]",ql="[object Uint16Array]",Yl="[object Uint32Array]";function Vl(e,t,n){var r=e.constructor;switch(t){case Bl:return bl(e);case kl:case Sl:return new r(+e);case Il:return Dl(e,n);case Ll:case Rl:case Pl:case Hl:case zl:case $l:case Ul:case ql:case Yl:return Al(e,n);case Fl:return new r;case Ol:case jl:return new r(e);case Ml:return wl(e);case Tl:return new r;case Nl:return xl(e)}}var Wl=Object.create,Jl=function(){function e(){}return function(t){if(!oe(t))return{};if(Wl)return Wl(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Kl=Jl;function Xl(e){return"function"!=typeof e.constructor||Q(e)?{}:Kl(q(e))}var Gl="[object Map]";function Zl(e){return P(e)&&Xe(e)==Gl}var Ql=Wt&&Wt.isMap,ed=Ql?zt(Ql):Zl,td=ed,nd="[object Set]";function rd(e){return P(e)&&Xe(e)==nd}var id=Wt&&Wt.isSet,od=id?zt(id):rd,sd=od,ad=1,ud=2,cd=4,ld="[object Arguments]",dd="[object Array]",hd="[object Boolean]",fd="[object Date]",pd="[object Error]",md="[object Function]",gd="[object GeneratorFunction]",vd="[object Map]",yd="[object Number]",bd="[object Object]",Dd="[object RegExp]",_d="[object Set]",wd="[object String]",Ed="[object Symbol]",Cd="[object WeakMap]",xd="[object ArrayBuffer]",Ad="[object DataView]",kd="[object Float32Array]",Sd="[object Float64Array]",Fd="[object Int8Array]",Od="[object Int16Array]",Md="[object Int32Array]",Td="[object Uint8Array]",jd="[object Uint8ClampedArray]",Nd="[object Uint16Array]",Bd="[object Uint32Array]",Id={};function Ld(e,t,n,r,i,o){var s,a=t&ad,u=t&ud,c=t&cd;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!oe(e))return e;var l=R(e);if(l){if(s=yl(e),!a)return cl(e,s)}else{var d=Xe(e),h=d==md||d==gd;if(pt(e))return ul(e,a);if(d==bd||d==ld||h&&!i){if(s=u||h?{}:Xl(e),!a)return u?pl(e,nl(s,e)):ll(e,Xc(s,e))}else{if(!Id[d])return i?e:{};s=Vl(e,d,a)}}o||(o=new gu);var f=o.get(e);if(f)return f;o.set(e,s),sd(e)?e.forEach((function(r){s.add(Ld(r,t,n,r,e,o))})):td(e)&&e.forEach((function(r,i){s.set(i,Ld(r,t,n,i,e,o))}));var p=c?u?ml:cc:u?tl:uc,m=l?void 0:p(e);return $c(m||e,(function(r,i){m&&(i=r,r=e[i]),Jc(s,i,Ld(r,t,n,i,e,o))})),s}Id[ld]=Id[dd]=Id[xd]=Id[Ad]=Id[hd]=Id[fd]=Id[kd]=Id[Sd]=Id[Fd]=Id[Od]=Id[Md]=Id[vd]=Id[yd]=Id[bd]=Id[Dd]=Id[_d]=Id[wd]=Id[Ed]=Id[Td]=Id[jd]=Id[Nd]=Id[Bd]=!0,Id[pd]=Id[md]=Id[Cd]=!1;var Rd=1,Pd=4;function Hd(e){return Ld(e,Rd|Pd)}var zd="RESET_STORE",$d="SET_WS",Ud="SET_SETTINGS",qd="SET_DOMAINS",Yd="SET_XMPP_TOKEN_INFO",Vd="RESET_XMPP_TOKEN_INFO",Wd="SET_XMS_ZCK_INFO",Jd="RESET_XMS_ZCK_INFO",Kd="SET_FILE_ZCK_INFO",Xd="RESET_FILE_ZCK_INFO",Gd="DELETE_FILE_ZCK_INFO_KEY",Zd="SET_DEVICE_INFO",Qd="SET_BLOCK_LIST",eh="ADD_INTO_BLOCK_LIST",th="REMOVE_FROM_BLOCK_LIST",nh="SET_USER_INFO",rh="SET_USERS_MAP",ih="SET_CURRENT_CHANNEL_JID",oh="SET_NEXT_CHANNEL_JID",sh="SET_EDITED_MSG_ID_MAP",ah="ADD_EDITED_MSG_ID",uh="DELETE_EDITED_MSG_ID",ch="SET_EMOJI_VOTE_CACHE_POOL",lh="ADD_EMOJI_VOTE_CACHE_POOL",dh="DELETE_EMOJI_VOTE_CACHE_POOL",hh="SET_CHANNEL_MAP",fh="UPDATE_CHANNEL",ph="MERGE_UNREAD_CHANNEL_MAP",mh="ADD_UNREAD",gh="ADD_UNREAD_TIMESTAMP",vh="MARK_READ",yh="DELETE_UNREAD",bh="RESET_UNREAD",Dh="MARK_AS_UNREAD",_h="UNMARK_AS_UNREAD",wh="DELETE_KEY_FROM_STATE",Eh="ADD_CHAT_TO_CHANNEL_MAP",Ch="ADD_CHATS_TO_CHANNEL_MAP",xh="SET_PRESENCE",Ah="SET_EXTERNAL_CONTACTS",kh=Oa((o={},Object(p["a"])(o,zd,(function(){return cu})),Object(p["a"])(o,$d,(function(e){return e})),Object(p["a"])(o,Ud,(function(e){return e})),Object(p["a"])(o,qd,(function(e){return e})),Object(p["a"])(o,Yd,(function(e){return e})),Object(p["a"])(o,Vd,(function(e){return e})),Object(p["a"])(o,Wd,(function(e){return e})),Object(p["a"])(o,Jd,(function(e){return e})),Object(p["a"])(o,Kd,(function(e){return e})),Object(p["a"])(o,Xd,(function(e){return e})),Object(p["a"])(o,Gd,(function(e){return e})),Object(p["a"])(o,Zd,(function(e){return e})),Object(p["a"])(o,Qd,(function(e){return e})),Object(p["a"])(o,eh,(function(e){return e})),Object(p["a"])(o,th,(function(e){return e})),Object(p["a"])(o,nh,(function(e){return e})),Object(p["a"])(o,rh,(function(e){return e})),Object(p["a"])(o,ih,(function(e){return e})),Object(p["a"])(o,oh,(function(e){return e})),Object(p["a"])(o,ch,(function(e){return e})),Object(p["a"])(o,lh,(function(e){return e})),Object(p["a"])(o,dh,(function(e){return e})),Object(p["a"])(o,sh,(function(e){return e})),Object(p["a"])(o,ah,(function(e){return e})),Object(p["a"])(o,uh,(function(e){return e})),Object(p["a"])(o,hh,(function(e){return e})),Object(p["a"])(o,fh,(function(e){return e})),Object(p["a"])(o,ph,(function(e){return e})),Object(p["a"])(o,mh,(function(e){return e})),Object(p["a"])(o,gh,(function(e){return e})),Object(p["a"])(o,vh,(function(e){return e})),Object(p["a"])(o,yh,(function(e){return e})),Object(p["a"])(o,bh,(function(e){return e})),Object(p["a"])(o,Dh,(function(e){return e})),Object(p["a"])(o,_h,(function(e){return e})),Object(p["a"])(o,wh,(function(e){return e})),Object(p["a"])(o,Eh,(function(e){return e})),Object(p["a"])(o,Ch,(function(e){return e})),Object(p["a"])(o,xh,(function(e){return e})),Object(p["a"])(o,Ah,(function(e){return e})),o)),Sh=kh.resetStore,Fh=kh.setWs,Oh=kh.setSettings,Mh=kh.setDomains,Th=kh.setXmppTokenInfo,jh=kh.resetXmppTokenInfo,Nh=kh.setXmsZckInfo,Bh=kh.resetXmsZckInfo,Ih=kh.setFileZckInfo,Lh=kh.resetFileZckInfo,Rh=kh.deleteFileZckInfoKey,Ph=kh.setDeviceInfo,Hh=kh.setBlockList,zh=kh.addIntoBlockList,$h=kh.removeFromBlockList,Uh=kh.setUserInfo,qh=kh.setUsersMap,Yh=kh.setCurrentChannelJid,Vh=kh.setNextChannelJid,Wh=kh.setEmojiVoteCachePool,Jh=kh.addEmojiVoteCachePool,Kh=kh.deleteEmojiVoteCachePool,Xh=kh.setEditedMsgIdMap,Gh=kh.addEditedMsgId,Zh=kh.deleteEditedMsgId,Qh=kh.setChannelMap,ef=kh.updateChannel,tf=kh.mergeUnreadChannelMap,nf=kh.addUnread,rf=kh.addUnreadTimestamp,of=kh.markRead,sf=kh.deleteUnread,af=kh.resetUnread,uf=kh.markAsUnread,cf=kh.unmarkAsUnread,lf=kh.deleteKeyFromState,df=kh.addChatToChannelMap,hf=kh.addChatsToChannelMap,ff=kh.setPresence,pf=kh.setExternalContacts;function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vf(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.payload,i=r.channelJid,o=r.replyThreadTime,s=r.time,a=i.split("@"),u=Object(f["a"])(a,1),c=u[0],l=e.unreadChannelMap,d=l[c]||{sessionId:c,unreadCount:0,threadMap:{},unreadMsgTimestamps:new Set,lastReadTime:s-1},h=d.threadMap;if(n&&(d.unreadCount+=1),o){var p=String(o),m=h[p]||{threadTime:o,unreadCount:0,unreadMsgTimestamps:new Set,lastReadTime:s-1};n&&(m.unreadCount+=1),m.unreadMsgTimestamps.add(s),h[p]=m}else d.unreadMsgTimestamps.add(s);return l[c]=d,gf(gf({},e),{},{unreadChannelMap:l})}var yf=(s={},Object(p["a"])(s,"".concat(Sh),(function(e){return e.payload})),Object(p["a"])(s,"".concat(Fh),(function(e,t){return gf(gf({},e),{},{ws:t.payload})})),Object(p["a"])(s,"".concat(Oh),(function(e,t){var n=e.settings,r=gf(gf({},n),t.payload),i=r.giphyPreload;return null!=i&&z(i)&&(r.giphyPreload=i.split(",")),gf(gf({},e),{},{settings:r})})),Object(p["a"])(s,"".concat(Mh),(function(e,t){var n=t.payload,r=gf({},e);if(z(n)){var i,o=null===(i=n.split("@")[1])||void 0===i?void 0:i.split("/")[0],s="conference.".concat(o);Object.assign(r,{xmppDomain:o,conferenceDomain:s})}return r})),Object(p["a"])(s,"".concat(Rh),(function(e,t){var n=t.payload,r=gf({},e);return delete r[n],r})),Object(p["a"])(s,"".concat(Th),(function(e,t){var n=t.payload,r=gf({},e);return G(n)&&Object.assign(r,{xmppTokenInfo:n}),r})),Object(p["a"])(s,"".concat(jh),(function(e){return gf(gf({},e),{},{xmppTokenInfo:null})})),Object(p["a"])(s,"".concat(Nh),(function(e,t){var n=t.payload,r=gf({},e);return G(n)&&Object.assign(r,{xmsZckInfo:n}),r})),Object(p["a"])(s,"".concat(Bh),(function(e){return gf(gf({},e),{},{xmsZckInfo:null})})),Object(p["a"])(s,"".concat(Ih),(function(e,t){var n=t.payload,r=gf({},e);return G(n)&&Object.assign(r,{fileZckInfo:n}),r})),Object(p["a"])(s,"".concat(Lh),(function(e){return gf(gf({},e),{},{fileZckInfo:null})})),Object(p["a"])(s,"".concat(Ph),(function(e,t){var n=e.deviceInfo,r=t.payload;return gf(gf({},e),{},{deviceInfo:gf(gf({},n),r)})})),Object(p["a"])(s,"".concat(Hh),(function(e,t){return gf(gf({},e),{},{blockList:t.payload})})),Object(p["a"])(s,"".concat(zh),(function(e,t){var n=e.blockList,r=t.payload,i=null!=n.find((function(e){return e.jid===r.jid}));return i?e:(n.push(r),gf(gf({},e),{},{blockList:n}))})),Object(p["a"])(s,"".concat($h),(function(e,t){var n=t.payload,r=e.blockList;return gf(gf({},e),{},{blockList:r.filter((function(e){return e.jid!==n}))})})),Object(p["a"])(s,"".concat(Uh),(function(e,t){var n=e.userInfo,r=t.payload;return gf(gf({},e),{},{userInfo:gf(gf({},n),r)})})),Object(p["a"])(s,"".concat(qh),(function(e,t){var n=e.usersMap;return gf(gf({},e),{},{usersMap:gf(gf({},n),t.payload)})})),Object(p["a"])(s,"".concat(Yh),(function(e,t){return gf(gf({},e),{},{currentChannelJid:t.payload})})),Object(p["a"])(s,"".concat(Vh),(function(e,t){return gf(gf({},e),{},{nextChannelJid:t.payload})})),Object(p["a"])(s,"".concat(Wh),(function(e,t){return gf(gf({},e),{},{emojiVoteCachePool:t.payload})})),Object(p["a"])(s,"".concat(Jh),(function(e,t){var n=e.emojiVoteCachePool;return gf(gf({},e),{},{emojiVoteCachePool:gf(gf({},n),t.payload)})})),Object(p["a"])(s,"".concat(Kh),(function(e,t){var n=e.emojiVoteCachePool,r=t.payload;return delete n[r],gf(gf({},e),{},{emojiVoteCachePool:n})})),Object(p["a"])(s,"".concat(Xh),(function(e,t){return gf(gf({},e),{},{editedMsgIdMap:t.payload})})),Object(p["a"])(s,"".concat(Gh),(function(e,t){var n=t.payload,r=e.editedMsgIdMap;return r=gf(gf({},r),{},Object(p["a"])({},n,!0)),gf(gf({},e),{},{editedMsgIdMap:r})})),Object(p["a"])(s,"".concat(Zh),(function(e,t){var n=t.payload,r=e.editedMsgIdMap;return delete r[n],gf(gf({},e),{},{editedMsgIdMap:r})})),Object(p["a"])(s,"".concat(Qh),(function(e,t){var n=e.channelMap,r=t.payload;return gf(gf({},e),{},{channelMap:gf(gf({},n),r)})})),Object(p["a"])(s,"".concat(ef),(function(e,t){var n=t.payload,r=n.jid,i=e.channelMap,o=i[r];if(o){var s=gf(gf({},o),n);i=gf(gf({},i),{},Object(p["a"])({},r,s))}return gf(gf({},e),{},{channelMap:i})})),Object(p["a"])(s,"".concat(tf),(function(e,t){var n=e.unreadChannelMap;return gf(gf({},e),{},{unreadChannelMap:gf(gf({},n),t.payload)})})),Object(p["a"])(s,"".concat(nf),(function(e,t){var n=t.payload;return n.isOfflineMsg?gf({},e):vf(e,t)})),Object(p["a"])(s,"".concat(rf),(function(e,t){return vf(e,t,!1)})),Object(p["a"])(s,"".concat(of),(function(e,t){var n=t.payload,r=n.sessionId,i=n.time,o=n.threadTime,s=e.unreadChannelMap,a=s[r];if(a){if(o){var u=a.threadMap,c=String(o),l=u[c];null!=l&&(l.lastReadTime=i,l.unreadMsgTimestamps.forEach((function(e){e<=i&&l.unreadMsgTimestamps.delete(e)})),l.unreadCount>0&&(l.unreadCount=l.unreadMsgTimestamps.size))}else a.lastReadTime=i,a.unreadMsgTimestamps.forEach((function(e){e<=i&&a.unreadMsgTimestamps.delete(e)}));a.unreadCount=a.unreadMsgTimestamps.size+zc(Object.values(a.threadMap),(function(e){var t=e.unreadCount;return null!==t&&void 0!==t?t:0}))}return gf(gf({},e),{},{unreadChannelMap:s})})),Object(p["a"])(s,"".concat(sf),(function(e,t){var n=t.payload,r=n.sessionId,i=n.time,o=n.threadTime,s=e.unreadChannelMap,a=s[r];if(a){var u=a.threadMap,c=a.lastReadTime,l=void 0===c?0:c,d={};if(o){var h=String(o);u[h]&&(d=u[h])}var f=d,p=f.lastReadTime,m=void 0===p?0:p,g=i>l&&!o,v=o&&i>m;if(g||v){var y,b,D=a.unreadCount-1;if(a.unreadCount=D>=0?D:0,g)null===(y=a.unreadMsgTimestamps)||void 0===y||y.delete(i);else null===(b=d.unreadMsgTimestamps)||void 0===b||b.delete(i)}v&&d.unreadCount>0&&(d.unreadCount-=1)}return gf(gf({},e),{},{unreadChannelMap:s})})),Object(p["a"])(s,"".concat(af),(function(e,t){var n=t.payload,r=e.unreadChannelMap,i=r[n];return i&&Object.assign(i,{unreadCount:0,lastReadTime:Date.now(),threadMap:{},markAsUnreadSet:new Set,unreadMsgTimestamps:new Set}),gf(gf({},e),{},{unreadChannelMap:r})})),Object(p["a"])(s,"".concat(uf),(function(e,t){var n,r=t.payload,i=r.channelJid,o=r.timestamps,s=i.split("@"),a=Object(f["a"])(s,1),u=a[0],c=e.unreadChannelMap,l=c[u]||{sessionId:u,unreadCount:0,threadMap:{},lastReadTime:Date.now(),markAsUnreadSet:new Set},d=null!==(n=l.markAsUnreadSet)&&void 0!==n?n:new Set;return o.forEach((function(e){return d.add(e)})),l.markAsUnreadSet=d,c[u]=l,gf(gf({},e),{},{unreadChannelMap:c})})),Object(p["a"])(s,"".concat(cf),(function(e,t){var n=t.payload,r=n.channelJid,i=n.timestamps,o=e.unreadChannelMap,s=r.split("@"),a=Object(f["a"])(s,1),u=a[0],c=o[u];return i.forEach((function(e){var t;null===c||void 0===c||null===(t=c.markAsUnreadSet)||void 0===t||t.delete(e)})),gf(gf({},e),{},{unreadChannelMap:o})})),Object(p["a"])(s,"".concat(lf),(function(e,t){var n=t.payload,r=n.path,i=n.keys,o=n.separator,s=void 0===o?".":o,a=r.split(s),u=Object(h["a"])(a),c=u[0],l=u.slice(1),d=gf({},e),f=or(e,c);if(!G(f))return d;f=Hd(f);var m=l.reduce((function(e,t){return G(e)&&t?or(e,t):null}),f);return G(m)?(z(i)?delete m[i]:R(i)&&i.forEach((function(e){delete m[e]})),gf(gf({},d),{},Object(p["a"])({},c,f))):d})),Object(p["a"])(s,"".concat(df),(function(e,t){var n=t.payload,r=n.jid,i=e.channelMap;return i[r]||(i=gf(gf({},i),{},Object(p["a"])({},r,n))),gf(gf({},e),{},{channelMap:i})})),Object(p["a"])(s,"".concat(hf),(function(e,t){var n=t.payload,r=e.channelMap;return null!==n&&void 0!==n&&n.length&&n.forEach((function(e){var t=e.jid;r[t]||(r=gf(gf({},r),{},Object(p["a"])({},t,e)))})),gf(gf({},e),{},{channelMap:r})})),Object(p["a"])(s,"".concat(ff),(function(e,t){var n=t.payload,r=n.presence,i=n.jid,o=e.presencesMap;return o.set(i,r),gf(gf({},e),{},{presencesMap:o})})),Object(p["a"])(s,"".concat(pf),(function(e,t){var n=t.payload,r=e.externalContacts;return r=n,gf(gf({},e),{},{externalContacts:r})})),s),bf=Pa(yf,cu),Df=Hs(bf);function _f(){var e=window.WebSocket;if("undefined"===typeof e)throw new Error("Your device does not support window.WebSocket");return e}var wf=_f();function Ef(){var e=window.DOMParser;if("undefined"===typeof e)throw new Error("Your device does not support window.DOMParser");return e}var Cf=Ef();function xf(){for(var e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],t=0;t<e.length;t++)try{var n=new ActiveXObject(e[t]);return n}catch(KD){}}function Af(){if("undefined"===typeof document)throw new Error("You cannot use Strophe in nodejs.");if(void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10){var e=xf();return e.appendChild(e.createElement("strophe")),e}return document.implementation.createDocument("jabber:client","strophe",null)}var kf=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n},Sf=function(e,t){return e<<t|e>>>32-t},Ff=function(e){if("string"!==typeof e)throw new Error("str2binl was passed a non-string");for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},Of=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},Mf=function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n},Tf=function(e,t,n,r,i,o){return kf(Sf(kf(kf(t,e),kf(r,o)),i),n)},jf=function(e,t,n,r,i,o,s){return Tf(t&n|~t&r,e,t,i,o,s)},Nf=function(e,t,n,r,i,o,s){return Tf(t&r|n&~r,e,t,i,o,s)},Bf=function(e,t,n,r,i,o,s){return Tf(t^n^r,e,t,i,o,s)},If=function(e,t,n,r,i,o,s){return Tf(n^(t|~r),e,t,i,o,s)},Lf=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n,r,i,o,s=1732584193,a=-271733879,u=-1732584194,c=271733878,l=0;l<e.length;l+=16)n=s,r=a,i=u,o=c,s=jf(s,a,u,c,e[l+0],7,-680876936),c=jf(c,s,a,u,e[l+1],12,-389564586),u=jf(u,c,s,a,e[l+2],17,606105819),a=jf(a,u,c,s,e[l+3],22,-1044525330),s=jf(s,a,u,c,e[l+4],7,-176418897),c=jf(c,s,a,u,e[l+5],12,1200080426),u=jf(u,c,s,a,e[l+6],17,-1473231341),a=jf(a,u,c,s,e[l+7],22,-45705983),s=jf(s,a,u,c,e[l+8],7,1770035416),c=jf(c,s,a,u,e[l+9],12,-1958414417),u=jf(u,c,s,a,e[l+10],17,-42063),a=jf(a,u,c,s,e[l+11],22,-1990404162),s=jf(s,a,u,c,e[l+12],7,1804603682),c=jf(c,s,a,u,e[l+13],12,-40341101),u=jf(u,c,s,a,e[l+14],17,-1502002290),a=jf(a,u,c,s,e[l+15],22,1236535329),s=Nf(s,a,u,c,e[l+1],5,-165796510),c=Nf(c,s,a,u,e[l+6],9,-1069501632),u=Nf(u,c,s,a,e[l+11],14,643717713),a=Nf(a,u,c,s,e[l+0],20,-373897302),s=Nf(s,a,u,c,e[l+5],5,-701558691),c=Nf(c,s,a,u,e[l+10],9,38016083),u=Nf(u,c,s,a,e[l+15],14,-660478335),a=Nf(a,u,c,s,e[l+4],20,-405537848),s=Nf(s,a,u,c,e[l+9],5,568446438),c=Nf(c,s,a,u,e[l+14],9,-1019803690),u=Nf(u,c,s,a,e[l+3],14,-187363961),a=Nf(a,u,c,s,e[l+8],20,1163531501),s=Nf(s,a,u,c,e[l+13],5,-1444681467),c=Nf(c,s,a,u,e[l+2],9,-51403784),u=Nf(u,c,s,a,e[l+7],14,1735328473),a=Nf(a,u,c,s,e[l+12],20,-1926607734),s=Bf(s,a,u,c,e[l+5],4,-378558),c=Bf(c,s,a,u,e[l+8],11,-2022574463),u=Bf(u,c,s,a,e[l+11],16,1839030562),a=Bf(a,u,c,s,e[l+14],23,-35309556),s=Bf(s,a,u,c,e[l+1],4,-1530992060),c=Bf(c,s,a,u,e[l+4],11,1272893353),u=Bf(u,c,s,a,e[l+7],16,-155497632),a=Bf(a,u,c,s,e[l+10],23,-1094730640),s=Bf(s,a,u,c,e[l+13],4,681279174),c=Bf(c,s,a,u,e[l+0],11,-358537222),u=Bf(u,c,s,a,e[l+3],16,-722521979),a=Bf(a,u,c,s,e[l+6],23,76029189),s=Bf(s,a,u,c,e[l+9],4,-640364487),c=Bf(c,s,a,u,e[l+12],11,-421815835),u=Bf(u,c,s,a,e[l+15],16,530742520),a=Bf(a,u,c,s,e[l+2],23,-995338651),s=If(s,a,u,c,e[l+0],6,-198630844),c=If(c,s,a,u,e[l+7],10,1126891415),u=If(u,c,s,a,e[l+14],15,-1416354905),a=If(a,u,c,s,e[l+5],21,-57434055),s=If(s,a,u,c,e[l+12],6,1700485571),c=If(c,s,a,u,e[l+3],10,-1894986606),u=If(u,c,s,a,e[l+10],15,-1051523),a=If(a,u,c,s,e[l+1],21,-2054922799),s=If(s,a,u,c,e[l+8],6,1873313359),c=If(c,s,a,u,e[l+15],10,-30611744),u=If(u,c,s,a,e[l+6],15,-1560198380),a=If(a,u,c,s,e[l+13],21,1309151649),s=If(s,a,u,c,e[l+4],6,-145523070),c=If(c,s,a,u,e[l+11],10,-1120210379),u=If(u,c,s,a,e[l+2],15,718787259),a=If(a,u,c,s,e[l+9],21,-343485551),s=kf(s,n),a=kf(a,r),u=kf(u,i),c=kf(c,o);return[s,a,u,c]},Rf={hexdigest:function(e){return Mf(Lf(Ff(e),8*e.length))},hash:function(e){return Of(Lf(Ff(e),8*e.length))}},Pf=function(){function e(t,n,r){Object(l["a"])(this,e),this.mechname=t,this.isClientFirst=n,this.priority=r}return Object(d["a"])(e,[{key:"test",value:function(){return!0}},{key:"onStart",value:function(e){this._connection=e}},{key:"onChallenge",value:function(e,t){throw new Error("You should implement challenge handling!")}},{key:"clientChallenge",value:function(e){if(!this.isClientFirst)throw new Error("clientChallenge should not be called if isClientFirst is false!");return this.onChallenge(e)}},{key:"onFailure",value:function(){this._connection=null}},{key:"onSuccess",value:function(){this._connection=null}}]),e}(),Hf=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ANONYMOUS",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return Object(l["a"])(this,n),t.call(this,e,r,i)}return Object(d["a"])(n,[{key:"test",value:function(e){return null===e.authcid}}]),n}(Pf),zf=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EXTERNAL",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(l["a"])(this,n),t.call(this,e,r,i)}return Object(d["a"])(n,[{key:"onChallenge",value:function(e){return e.authcid===e.authzid?"":e.authzid}}]),n}(Pf),$f={utf16to8:function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),n>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},addCookies:function(e){for(var t in e=e||{},e)if(Object.prototype.hasOwnProperty.call(e,t)){var n="",r="",i="",o=e[t],s="object"===Object(g["a"])(o),a=escape(unescape(s?o.value:o));s&&(n=o.expires?";expires="+o.expires:"",r=o.domain?";domain="+o.domain:"",i=o.path?";path="+o.path:""),document.cookie=t+"="+a+n+r+i}}},Uf=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OAUTHBEARER",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:40;return Object(l["a"])(this,n),t.call(this,e,r,i)}return Object(d["a"])(n,[{key:"test",value:function(e){return null!==e.pass}},{key:"onChallenge",value:function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="",t+="auth=Bearer ",t+=e.pass,t+="",t+="",$f.utf16to8(t)}}]),n}(Pf),qf=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PLAIN",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return Object(l["a"])(this,n),t.call(this,e,r,i)}return Object(d["a"])(n,[{key:"test",value:function(e){return null!==e.authcid}},{key:"onChallenge",value:function(e){var t=e.authcid,n=e.authzid,r=e.domain,i=e.pass;if(!r)throw new Error("SASLPlain onChallenge: domain is not defined!");var o=n!=="".concat(t,"@").concat(r)?n:"";return o+="\0",o+=t,o+="\0",o+=i,$f.utf16to8(o)}}]),n}(Pf);function Yf(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;var n,r,i,o,s,a,u,c,l=new Array(80),d=1732584193,h=-271733879,f=-1732584194,p=271733878,m=-1009589776;for(n=0;n<e.length;n+=16){for(o=d,s=h,a=f,u=p,c=m,r=0;r<80;r++)l[r]=r<16?e[n+r]:Xf(l[r-3]^l[r-8]^l[r-14]^l[r-16],1),i=Kf(Kf(Xf(d,5),Vf(r,h,f,p)),Kf(Kf(m,l[r]),Wf(r))),m=p,p=f,f=Xf(h,30),h=d,d=i;d=Kf(d,o),h=Kf(h,s),f=Kf(f,a),p=Kf(p,u),m=Kf(m,c)}return[d,h,f,p,m]}function Vf(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function Wf(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function Jf(e,t){var n=Gf(e);n.length>16&&(n=Yf(n,8*e.length));for(var r=new Array(16),i=new Array(16),o=0;o<16;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var s=Yf(r.concat(Gf(t)),512+8*t.length);return Yf(i.concat(s),672)}function Kf(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function Xf(e,t){return e<<t|e>>>32-t}function Gf(e){for(var t=[],n=255,r=0;r<8*e.length;r+=8)t[r>>5]|=(e.charCodeAt(r/8)&n)<<24-r%32;return t}function Zf(e){for(var t,n,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",o=0;o<4*e.length;o+=3)for(t=(e[o>>2]>>8*(3-o%4)&255)<<16|(e[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|e[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)8*o+6*n>32*e.length?i+="=":i+=r.charAt(t>>6*(3-n)&63);return i}function Qf(e){for(var t="",n=255,r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>24-r%32&n);return t}var ep={b64_hmac_sha1:function(e,t){return Zf(Jf(e,t))},b64_sha1:function(e){return Zf(Yf(Gf(e),8*e.length))},binb2str:Qf,core_hmac_sha1:Jf,str_hmac_sha1:function(e,t){return Qf(Jf(e,t))},str_sha1:function(e){return Qf(Yf(Gf(e),8*e.length))}},tp=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SCRAM-SHA-1",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return Object(l["a"])(this,n),t.call(this,e,r,i)}return Object(d["a"])(n,[{key:"test",value:function(e){return null!==e.authcid}},{key:"onChallenge",value:function(e,t){var n,r,i,o,s,a,u,c,l="c=biws,",d="".concat(e._sasl_data["client-first-message-bare"],",").concat(t,","),h=e._sasl_data.cnonce,f=/([a-z]+)=([^,]+)(,|$)/;while(t.match(f)){var p=t.match(f);switch(t=t.replace(p[0],""),p[1]){case"r":n=p[2];break;case"s":r=p[2];break;case"i":i=p[2];break}}if(n.substr(0,h.length)!==h)return e._sasl_data={},e._sasl_failure_cb();l+="r="+n,d+=l,r=atob(r),r+="\0\0\0";var m=$f.utf16to8(e.pass);for(o=a=ep.core_hmac_sha1(m,r),u=1;u<i;u++){for(s=ep.core_hmac_sha1(m,ep.binb2str(a)),c=0;c<5;c++)o[c]^=s[c];a=s}o=ep.binb2str(o);var g=ep.core_hmac_sha1(o,"Client Key"),v=ep.str_hmac_sha1(o,"Server Key"),y=ep.core_hmac_sha1(ep.str_sha1(ep.binb2str(g)),d);for(e._sasl_data["server-signature"]=ep.b64_hmac_sha1(v,d),c=0;c<5;c++)g[c]^=y[c];return l+=",p="+btoa(ep.binb2str(g)),l}},{key:"clientChallenge",value:function(e,t){var n=t||Rf.hexdigest(""+1234567890*Math.random()),r="n="+$f.utf16to8(e.authcid);return r+=",r=",r+=n,e._sasl_data.cnonce=n,e._sasl_data["client-first-message-bare"]=r,r="n,,"+r,r}}]),n}(Pf),np=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X-OAUTH2",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return Object(l["a"])(this,n),t.call(this,e,r,i)}return Object(d["a"])(n,[{key:"test",value:function(e){return null!==e.pass}},{key:"onChallenge",value:function(e){var t="\0";return null!==e.authcid&&(t+=e.authzid),t+="\0",t+=e.pass,$f.utf16to8(t)}}]),n}(Pf);function rp(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(e="".concat(e),e=e.replace(/[ \t\n\f\r]/g,""),e.length%4===0&&(e=e.replace(/==?$/,"")),e.length%4===1||/[^+/0-9A-Za-z]/.test(e))return null;for(var t="",n=0,r=0,i=0;i<e.length;i++)n<<=6,n|=op(e[i]),r+=6,24===r&&(t+=String.fromCharCode((16711680&n)>>16),t+=String.fromCharCode((65280&n)>>8),t+=String.fromCharCode(255&n),n=r=0);return 12===r?(n>>=4,t+=String.fromCharCode(n)):18===r&&(n>>=2,t+=String.fromCharCode((65280&n)>>8),t+=String.fromCharCode(255&n)),t}var ip="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function op(e){var t=ip.indexOf(e);return t<0?void 0:t}var sp=rp;function ap(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t;for(e="".concat(e),t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;var n="";for(t=0;t<e.length;t+=3){var r=[void 0,void 0,void 0,void 0];r[0]=e.charCodeAt(t)>>2,r[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(r[1]|=e.charCodeAt(t+1)>>4,r[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(r[2]|=e.charCodeAt(t+2)>>6,r[3]=63&e.charCodeAt(t+2));for(var i=0;i<r.length;i++)"undefined"===typeof r[i]?n+="=":n+=cp(r[i])}return n}var up="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function cp(e){if(e>=0&&e<64)return up[e]}var lp=ap,dp=sp,hp=lp,fp={atob:dp,btoa:hp};function pp(e,t){return new yp.Builder(e,t)}function mp(e){return new yp.Builder("message",e)}function gp(e){return new yp.Builder("iq",e)}function vp(e){return new yp.Builder("presence",e)}var yp={VERSION:"1.4.3",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<yp.XHTML.tags.length;t++)if(e===yp.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if("undefined"!==typeof yp.XHTML.attributes[e]&&yp.XHTML.attributes[e].length>0)for(var n=0;n<yp.XHTML.attributes[e].length;n++)if(t===yp.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<yp.XHTML.css.length;t++)if(e===yp.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10,BINDREQUIRED:11,ATTACHFAIL:12},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){yp.NS[e]=t},forEachChild:function(e,t,n){for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.nodeType!==yp.ElementType.NORMAL||t&&!this.isTagEqual(i,t)||n(i)}},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,xmlGenerator:function(){return yp._xmlGenerator||(yp._xmlGenerator=Af()),yp._xmlGenerator},xmlElement:function(e){if(!e)return null;for(var t=yp.xmlGenerator().createElement(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r)if("string"===typeof r||"number"===typeof r)t.appendChild(yp.xmlTextNode(r));else if("object"===Object(g["a"])(r)&&"function"===typeof r.sort)for(var i=0;i<r.length;i++){var o=r[i];"object"===Object(g["a"])(o)&&"function"===typeof o.sort&&void 0!==o[1]&&null!==o[1]&&t.setAttribute(o[0],o[1])}else if("object"===Object(g["a"])(r))for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s]&&null!==r[s]&&t.setAttribute(s,r[s])}return t},xmlescape:function(e){return e=e.replace(/\&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/'/g,"&apos;"),e=e.replace(/"/g,"&quot;"),e},xmlunescape:function(e){return e=e.replace(/\&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&apos;/g,"'"),e=e.replace(/&quot;/g,'"'),e},xmlTextNode:function(e){return yp.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;if(Cf){var n=new Cf;t=n.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===yp.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===yp.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return yp.xmlescape(t)},copyElement:function(e){var t;if(e.nodeType===yp.ElementType.NORMAL){t=yp.xmlElement(e.tagName);for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].nodeName,e.attributes[n].value);for(var r=0;r<e.childNodes.length;r++)t.appendChild(yp.copyElement(e.childNodes[r]))}else e.nodeType===yp.ElementType.TEXT&&(t=yp.xmlGenerator().createTextNode(e.nodeValue));return t},createHtml:function(e){var t;if(e.nodeType===yp.ElementType.NORMAL){var n=e.nodeName.toLowerCase();if(yp.XHTML.validTag(n))try{t=yp.xmlElement(n);for(var r=0;r<yp.XHTML.attributes[n].length;r++){var i=yp.XHTML.attributes[n][r],o=e.getAttribute(i);if("undefined"!==typeof o&&null!==o&&""!==o&&!1!==o&&0!==o)if("style"===i&&"object"===Object(g["a"])(o)&&"undefined"!==typeof o.cssText&&(o=o.cssText),"style"===i){for(var s=[],a=o.split(";"),u=0;u<a.length;u++){var c=a[u].split(":"),l=c[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(yp.XHTML.validCSS(l)){var d=c[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(l+": "+d)}}s.length>0&&(o=s.join("; "),t.setAttribute(i,o))}else t.setAttribute(i,o)}for(var h=0;h<e.childNodes.length;h++)t.appendChild(yp.createHtml(e.childNodes[h]))}catch(KD){t=yp.xmlTextNode("")}else{t=yp.xmlGenerator().createDocumentFragment();for(var f=0;f<e.childNodes.length;f++)t.appendChild(yp.createHtml(e.childNodes[f]))}}else if(e.nodeType===yp.ElementType.FRAGMENT){t=yp.xmlGenerator().createDocumentFragment();for(var p=0;p<e.childNodes.length;p++)t.appendChild(yp.createHtml(e.childNodes[p]))}else e.nodeType===yp.ElementType.TEXT&&(t=yp.xmlTextNode(e.nodeValue));return t},escapeNode:function(e){return"string"!==typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!==typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=yp.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){if(!e)return null;var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){"undefined"!==typeof e.stack&&yp.fatal(e.stack),e.sourceURL?yp.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?yp.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):yp.fatal("error: "+e.message)},log:function(e,t){var n;e===this.LogLevel.FATAL&&(null===(n=console)||void 0===n||n.error(t))},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){if(!e)return null;"function"===typeof e.tree&&(e=e.tree());var t=Object(a["a"])(Array(e.attributes.length).keys()).map((function(t){return e.attributes[t].nodeName}));t.sort();var n=t.reduce((function(t,n){return"".concat(t," ").concat(n,'="').concat(yp.xmlescape(e.attributes.getNamedItem(n).value),'"')}),"<".concat(e.nodeName));if(e.childNodes.length>0){n+=">";for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];switch(i.nodeType){case yp.ElementType.NORMAL:n+=yp.serialize(i);break;case yp.ElementType.TEXT:n+=yp.xmlescape(i.nodeValue);break;case yp.ElementType.CDATA:n+="<![CDATA["+i.nodeValue+"]]>"}}n+="</"+e.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){yp._connectionPlugins[e]=t}};yp.Builder=function(){function e(t,n){Object(l["a"])(this,e),"presence"!==t&&"message"!==t&&"iq"!==t||(n&&!n.xmlns?n.xmlns=yp.NS.CLIENT:n||(n={xmlns:yp.NS.CLIENT})),this.nodeTree=yp.xmlElement(t,n),this.node=this.nodeTree}return Object(d["a"])(e,[{key:"tree",value:function(){return this.nodeTree}},{key:"toString",value:function(){return yp.serialize(this.nodeTree)}},{key:"up",value:function(){return this.node=this.node.parentNode,this}},{key:"root",value:function(){return this.node=this.nodeTree,this}},{key:"attrs",value:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this}},{key:"c",value:function(e,t,n){var r=yp.xmlElement(e,t,n);return this.node.appendChild(r),"string"!==typeof n&&"number"!==typeof n&&(this.node=r),this}},{key:"cnode",value:function(e){var t,n=yp.xmlGenerator();try{t=void 0!==n.importNode}catch(KD){t=!1}var r=t?n.importNode(e,!0):yp.copyElement(e);return this.node.appendChild(r),this.node=r,this}},{key:"t",value:function(e){var t=yp.xmlTextNode(e);return this.node.appendChild(t),this}},{key:"h",value:function(e){var t=yp.xmlGenerator().createElement("body");t.innerHTML=e;var n=yp.createHtml(t);while(n.childNodes.length>0)this.node.appendChild(n.childNodes[0]);return this}}]),e}(),yp.Handler=function(e,t,n,r,i,o,s){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=i,this.options=s||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(yp.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=o?yp.getBareJidFromJid(o):null:this.from=o,this.user=!0},yp.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=this,n=!1;return!this.ns||(yp.forEachChild(e,null,(function(e){t.getNamespace(e)===t.ns&&(n=!0)})),n||this.getNamespace(e)===this.ns)},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=yp.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!yp.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(KD){throw yp._handleError(KD),KD}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},yp.TimedHandler=function(){function e(t,n){Object(l["a"])(this,e),this.period=t,this.handler=n,this.lastCalled=(new Date).getTime(),this.user=!0}return Object(d["a"])(e,[{key:"run",value:function(){return this.lastCalled=(new Date).getTime(),this.handler()}},{key:"reset",value:function(){this.lastCalled=(new Date).getTime()}},{key:"toString",value:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}}]),e}(),yp.Connection=function(){function e(t,n){var r=this;for(var i in Object(l["a"])(this,e),this.service=t,this.options=n||{},this.setProtocol(),this.secret="",this.serverTime=-1,this.featureOption=null,this.deviceId=null,this.deviceName=null,this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_bind=!1,this.do_session=!1,this.mechanisms={},this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout((function(){return r._onIdle()}),100),$f.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),yp._connectionPlugins)if(Object.prototype.hasOwnProperty.call(yp._connectionPlugins,i)){var o=function(){};o.prototype=yp._connectionPlugins[i],this[i]=new o,this[i].init(this)}}return Object(d["a"])(e,[{key:"setProtocol",value:function(){var e=this.options.protocol||"";this.options.worker?this._proto=new yp.WorkerWebsocket(this):0===this.service.indexOf("ws:")||0===this.service.indexOf("wss:")||0===e.indexOf("ws")?this._proto=new yp.Websocket(this):this._proto=new yp.Bosh(this)}},{key:"reset",value:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"getUniqueId",value:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}));return"string"===typeof e||"number"===typeof e?t+":"+e:t+""}},{key:"addProtocolErrorHandler",value:function(e,t,n){this.protocolErrorHandlers[e][t]=n}},{key:"connect",value:function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3e3,a=e.jid,u=e.pass,c=e.featureOption,l=e.deviceId,d=e.deviceName;this.jid=a,this.deviceId=l,this.deviceName=d,this.featureOption=null!=c?String(c):null,this.authzid=yp.getBareJidFromJid(this.jid),this.authcid=o||yp.getNodeFromJid(this.jid),this.pass=u,this.connect_callback=t,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.disconnection_timeout=s,this.domain=yp.getDomainFromJid(this.jid),this._changeConnectStatus(yp.Status.CONNECTING,null),this._proto._connect(n,r,i)}},{key:"attach",value:function(e,t,n,r,i,o,s){if(this._proto._attach)return this._proto._attach(e,t,n,r,i,o,s);var a=new Error('The "attach" method is not available for your connection protocol');throw a.name="StropheSessionError",a}},{key:"restore",value:function(e,t,n,r,i){if(!this._sessionCachingSupported()){var o=new Error('The "restore" method can only be used with a BOSH connection.');throw o.name="StropheSessionError",o}this._proto._restore(e,t,n,r,i)}},{key:"_sessionCachingSupported",value:function(){if(this._proto instanceof yp.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(KD){return!1}return!0}return!1}},{key:"xmlInput",value:function(e){}},{key:"xmlOutput",value:function(e){}},{key:"rawInput",value:function(e){}},{key:"rawOutput",value:function(e){}},{key:"nextValidRid",value:function(e){}},{key:"send",value:function(e){if(null!==e){if("function"===typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"===typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}}},{key:"flush",value:function(){clearTimeout(this._idleTimeout),this._onIdle()}},{key:"sendPresence",value:function(e,t,n,r){var i=this,o=null;"function"===typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendPresence"),e.setAttribute("id",s)),"function"===typeof t||"function"===typeof n){var a=this.addHandler((function(e){o&&i.deleteTimedHandler(o),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)}),null,"presence",null,s);r&&(o=this.addTimedHandler(r,(function(){return i.deleteHandler(a),n&&n(null),!1})))}return this.send(e),s}},{key:"sendIQ",value:function(e,t,n,r){var i=this,o=null;"function"===typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendIQ"),e.setAttribute("id",s)),"function"===typeof t||"function"===typeof n){var a=this.addHandler((function(e){o&&i.deleteTimedHandler(o);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r){var s=new Error("Got bad IQ type of ".concat(r));throw s.name="StropheError",s}n&&n(e)}}),null,"iq",["error","result"],s);r&&(o=this.addTimedHandler(r,(function(){return i.deleteHandler(a),n&&n(null),!1})))}return this.send(e),s}},{key:"_queueData",value:function(e){if(null===e||!e.tagName||!e.childNodes){var t=new Error("Cannot queue non-DOMElement.");throw t.name="StropheError",t}this._data.push(e)}},{key:"_sendRestart",value:function(){var e=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout((function(){return e._onIdle()}),100)}},{key:"addTimedHandler",value:function(e,t){var n=new yp.TimedHandler(e,t);return this.addTimeds.push(n),n}},{key:"deleteTimedHandler",value:function(e){this.removeTimeds.push(e)}},{key:"addHandler",value:function(e,t,n,r,i,o,s){var a=new yp.Handler(e,t,n,r,i,o,s);return this.addHandlers.push(a),a}},{key:"deleteHandler",value:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)}},{key:"registerSASLMechanisms",value:function(e){var t=this;this.mechanisms={},e=e||[yp.SASLAnonymous,yp.SASLExternal,yp.SASLOAuthBearer,yp.SASLXOAuth2,yp.SASLPlain,yp.SASLSHA1],e.forEach((function(e){return t.registerSASLMechanism(e)}))}},{key:"registerSASLMechanism",value:function(e){var t=new e;this.mechanisms[t.mechname]=t}},{key:"disconnect",value:function(e){if(this._changeConnectStatus(yp.Status.DISCONNECTING,e),e?yp.warn("Disconnect was called because: "+e):yp.info("Disconnect was called"),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=vp({xmlns:yp.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(this.disconnection_timeout,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else yp.warn("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()}},{key:"_changeConnectStatus",value:function(e,t,n){for(var r in yp._connectionPlugins)if(Object.prototype.hasOwnProperty.call(yp._connectionPlugins,r)){var i=this[r];if(i.statusChanged)try{i.statusChanged(e,t)}catch(o){yp.error("".concat(r," plugin caused an exception changing status: ").concat(o))}}if(this.connect_callback)try{this.connect_callback(e,t,n)}catch(KD){yp._handleError(KD),yp.error("User connection callback caused an exception: ".concat(KD))}}},{key:"_doDisconnect",value:function(e){"number"===typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),yp.debug("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(yp.Status.DISCONNECTED,e),this.connected=!1}},{key:"_dataRecv",value:function(e,t){var n=this,r=this._proto._reqToData(e);if(null!==r){this.xmlInput!==yp.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==yp.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(yp.serialize(r)));while(this.removeHandlers.length>0){var i=this.removeHandlers.pop(),o=this.handlers.indexOf(i);o>=0&&this.handlers.splice(o,1)}while(this.addHandlers.length>0)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var s=r.getAttribute("type");if(null!==s&&"terminate"===s){if(this.disconnecting)return;var a=r.getAttribute("condition"),u=r.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&u.length>0&&(a="conflict"),this._changeConnectStatus(yp.Status.CONNFAIL,a)):this._changeConnectStatus(yp.Status.CONNFAIL,yp.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}yp.forEachChild(r,null,(function(e){var t=n.handlers;n.handlers=[];for(var r=0;r<t.length;r++){var i=t[r];try{(!i.isMatch(e)||!n.authenticated&&i.user||i.run(e))&&n.handlers.push(i)}catch(KD){yp.warn("Removing Strophe handlers due to uncaught exception: "+KD.message)}}}))}}}},{key:"_connect_cb",value:function(e,t,n){var r,i=this;yp.debug("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(e)}catch(KD){if(KD.name!==yp.ErrorCondition.BAD_FORMAT)throw KD;this._changeConnectStatus(yp.Status.CONNFAIL,yp.ErrorCondition.BAD_FORMAT),this._doDisconnect(yp.ErrorCondition.BAD_FORMAT)}if(r){this.xmlInput!==yp.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==yp.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(yp.serialize(r)));var o,s=this._proto._connect_cb(r);if(s!==yp.Status.CONNFAIL)if(o=r.getElementsByTagNameNS?r.getElementsByTagNameNS(yp.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0,o){var a=Array.from(r.getElementsByTagName("mechanism")).map((function(e){return i.mechanisms[e.textContent]})).filter((function(e){return e}));0!==a.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(a):this._proto._no_auth_received(t)}else this._proto._no_auth_received(t)}}},{key:"sortMechanismsByPriority",value:function(e){for(var t=0;t<e.length-1;++t){for(var n=t,r=t+1;r<e.length;++r)e[r].priority>e[n].priority&&(n=r);if(n!==t){var i=e[t];e[t]=e[n],e[n]=i}}return e}},{key:"authenticate",value:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()}},{key:"_attemptSASLAuth",value:function(e){e=this.sortMechanismsByPriority(e||[]);for(var t=!1,n=0;n<e.length;++n)if(e[n].test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=e[n],this._sasl_mechanism.onStart(this);var r=pp("auth",{xmlns:yp.NS.SASL,mechanism:this._sasl_mechanism.mechname});if(this._sasl_mechanism.isClientFirst){var i=this._sasl_mechanism.clientChallenge(this);r.t(fp.btoa(i))}this.send(r.tree()),t=!0;break}return t}},{key:"_sasl_challenge_cb",value:function(e){var t=fp.atob(yp.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),r=pp("response",{xmlns:yp.NS.SASL});return""!==n&&r.t(fp.btoa(n)),this.send(r.tree()),!0}},{key:"_attemptLegacyAuth",value:function(){if(null===yp.getNodeFromJid(this.jid))this._changeConnectStatus(yp.Status.CONNFAIL,yp.ErrorCondition.MISSING_JID_NODE),this.disconnect(yp.ErrorCondition.MISSING_JID_NODE);else{this._changeConnectStatus(yp.Status.AUTHENTICATING,null);var e=this.jid,t=this.pass,n=this.deviceId,r=this.deviceName,i=this.featureOption,o="_auth_1",s=gp({type:"set",to:this.domain,id:o}).c("query",{xmlns:yp.NS.AUTH}).c("username",{}).t(yp.getNodeFromJid(e)).up().c("password",{}).t(t).up().c("resource",{}).t(yp.getResourceFromJid(e)).up();null!=i&&s.c("option",{}).t(i).up(),null!=n&&s.c("deviceid",{}).t(n).up(),null!=r&&s.c("dname",{}).t(r).up(),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,o),this.send(s.tree())}}},{key:"_onLegacyAuthIQResult",value:function(e){var t=gp({type:"set",id:"_auth_2"}).c("query",{xmlns:yp.NS.AUTH}).c("username",{}).t(yp.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return yp.getResourceFromJid(this.jid)||(this.jid=yp.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(yp.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1}},{key:"_sasl_success_cb",value:function(e){var t=this;if(this._sasl_data["server-signature"]){var n,r=fp.atob(yp.getText(e)),i=/([a-z]+)=([^,]+)(,|$)/,o=r.match(i);if("v"===o[1]&&(n=o[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}yp.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var s=[],a=function(e,n){while(e.length)t.deleteHandler(e.pop());return t._onStreamFeaturesAfterSASL(n),!1};return s.push(this._addSysHandler((function(e){return a(s,e)}),null,"stream:features",null,null)),s.push(this._addSysHandler((function(e){return a(s,e)}),yp.NS.STREAM,"features",null,null)),this._sendRestart(),!1}},{key:"_onStreamFeaturesAfterSASL",value:function(e){this.features=e;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}return this.do_bind?(this.options.explicitResourceBinding?this._changeConnectStatus(yp.Status.BINDREQUIRED,null):this.bind(),!1):(this._changeConnectStatus(yp.Status.AUTHFAIL,null),!1)}},{key:"bind",value:function(){if(this.do_bind){this._addSysHandler(this._onResourceBindResultIQ.bind(this),null,null,null,"_bind_auth_2");var e=yp.getResourceFromJid(this.jid);e?this.send(gp({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:yp.NS.BIND}).c("resource",{}).t(e).tree()):this.send(gp({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:yp.NS.BIND}).tree())}else yp.log(yp.LogLevel.INFO,'Strophe.Connection.prototype.bind called but "do_bind" is false')}},{key:"_onResourceBindResultIQ",value:function(e){if("error"===e.getAttribute("type")){yp.warn("Resource binding failed.");var t,n=e.getElementsByTagName("conflict");return n.length>0&&(t=yp.ErrorCondition.CONFLICT),this._changeConnectStatus(yp.Status.AUTHFAIL,t,e),!1}var r=e.getElementsByTagName("bind");if(!(r.length>0))return yp.warn("Resource binding failed."),this._changeConnectStatus(yp.Status.AUTHFAIL,null,e),!1;var i=r[0].getElementsByTagName("jid");i.length>0&&(this.authenticated=!0,this.jid=yp.getText(i[0]),this.do_session?this._establishSession():this._changeConnectStatus(yp.Status.CONNECTED,null))}},{key:"_establishSession",value:function(){if(!this.do_session)throw new Error("Strophe.Connection.prototype._establishSession "+"called but apparently ".concat(yp.NS.SESSION," wasn't advertised by the server"));this._addSysHandler(this._onSessionResultIQ.bind(this),null,null,null,"_session_auth_2"),this.send(gp({type:"set",id:"_session_auth_2"}).c("session",{xmlns:yp.NS.SESSION}).tree())}},{key:"_onSessionResultIQ",value:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(yp.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return this.authenticated=!1,yp.warn("Session creation failed."),this._changeConnectStatus(yp.Status.AUTHFAIL,null,e),!1;return!1}},{key:"_sasl_failure_cb",value:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(yp.Status.AUTHFAIL,null,e),!1}},{key:"_auth2_cb",value:function(e){if("result"===e.getAttribute("type")){this.authenticated=!0;var t=e.getElementsByTagName("query"),n=Object(f["a"])(t,1),r=n[0];if(r&&r.getAttribute){var i=r.getAttribute("secret");this.secret=i;var o=r.getElementsByTagName("utc"),s="-1";o.length>0&&(o=o[0],s=o.getAttribute("t")),this.serverTime=s}this._changeConnectStatus(yp.Status.CONNECTED,null)}else"error"===e.getAttribute("type")&&(this._changeConnectStatus(yp.Status.AUTHFAIL,null,e),this.disconnect("authentication failed"));return!1}},{key:"_addSysTimedHandler",value:function(e,t){var n=new yp.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n}},{key:"_addSysHandler",value:function(e,t,n,r,i){var o=new yp.Handler(e,t,n,r,i);return o.user=!1,this.addHandlers.push(o),o}},{key:"_onDisconnectTimeout",value:function(){return yp.debug("_onDisconnectTimeout was called"),this._changeConnectStatus(yp.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1}},{key:"_onIdle",value:function(){var e=this;while(this.addTimeds.length>0)this.timedHandlers.push(this.addTimeds.pop());while(this.removeTimeds.length>0){var t=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(t);n>=0&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),i=[],o=0;o<this.timedHandlers.length;o++){var s=this.timedHandlers[o];if(this.authenticated||!s.user){var a=s.lastCalled+s.period;a-r<=0?s.run()&&i.push(s):i.push(s)}}this.timedHandlers=i,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout((function(){return e._onIdle()}),100))}}]),e}(),yp.SASLMechanism=Pf,yp.SASLAnonymous=Hf,yp.SASLPlain=qf,yp.SASLSHA1=tp,yp.SASLOAuthBearer=Uf,yp.SASLExternal=zf,yp.SASLXOAuth2=np;var bp={Strophe:yp,$build:pp,$iq:gp,$msg:mp,$pres:vp,SHA1:ep,MD5:Rf,b64_hmac_sha1:ep.b64_hmac_sha1,b64_sha1:ep.b64_sha1,str_hmac_sha1:ep.str_hmac_sha1,str_sha1:ep.str_sha1};yp.Request=function(){function e(t,n,r,i){Object(l["a"])(this,e),this.id=++yp._requestId,this.xmlData=t,this.data=yp.serialize(t),this.origFunc=n,this.func=n,this.rid=r,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;var e=new Date;return(e-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var e=new Date;return(e-this.dead)/1e3},this.xhr=this._newXHR()}return Object(d["a"])(e,[{key:"getResponse",value:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(e=this.xhr.responseXML.documentElement,"parsererror"===e.tagName)throw yp.error("invalid response received"),yp.error("responseText: "+this.xhr.responseText),yp.error("responseXML: "+yp.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(yp.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),e=(new Cf).parseFromString(this.xhr.responseText,"application/xml").documentElement,!e)throw new Error("Parsing produced null node");if(e.querySelector("parsererror")){yp.error("invalid response received: "+e.querySelector("parsererror").textContent),yp.error("responseText: "+this.xhr.responseText);var t=new Error;throw t.name=yp.ErrorCondition.BAD_FORMAT,t}}return e}},{key:"_newXHR",value:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}}]),e}(),yp.Bosh=function(){function e(t){Object(l["a"])(this,e),this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]}return Object(d["a"])(e,[{key:"_buildBody",value:function(){var e=pp("body",{rid:this.rid++,xmlns:yp.NS.HTTPBIND});return null!==this.sid&&e.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),e}},{key:"_reset",value:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)}},{key:"_connect",value:function(e,t,n){this.wait=e||this.wait,this.hold=t||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":yp.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new yp.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()}},{key:"_attach",value:function(e,t,n,r,i,o,s){this._conn.jid=e,this.sid=t,this.rid=n,this._conn.connect_callback=r,this._conn.domain=yp.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=o||this.hold,this.window=s||this.window,this._conn._changeConnectStatus(yp.Status.ATTACHED,null)}},{key:"_restore",value:function(e,t,n,r,i){var o=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!("undefined"!==typeof o&&null!==o&&o.rid&&o.sid&&o.jid&&("undefined"===typeof e||null===e||yp.getBareJidFromJid(o.jid)===yp.getBareJidFromJid(e)||null===yp.getNodeFromJid(e)&&yp.getDomainFromJid(o.jid)===e))){var s=new Error("_restore: no restoreable session.");throw s.name="StropheSessionError",s}this._conn.restored=!0,this._attach(o.jid,o.sid,o.rid,t,n,r,i)}},{key:"_cacheSession",value:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")}},{key:"_connect_cb",value:function(e){var t=e.getAttribute("type");if(null!==t&&"terminate"===t){var n=e.getAttribute("condition");yp.error("BOSH-Connection failed: "+n);var r=e.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(yp.Status.CONNFAIL,n)):this._conn._changeConnectStatus(yp.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),yp.Status.CONNFAIL}this.sid||(this.sid=e.getAttribute("sid"));var i=e.getAttribute("requests");i&&(this.window=parseInt(i,10));var o=e.getAttribute("hold");o&&(this.hold=parseInt(o,10));var s=e.getAttribute("wait");s&&(this.wait=parseInt(s,10));var a=e.getAttribute("inactivity");a&&(this.inactivity=parseInt(a,10))}},{key:"_disconnect",value:function(e){this._sendTerminate(e)}},{key:"_doDisconnect",value:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)}},{key:"_emptyQueue",value:function(){return 0===this._requests.length}},{key:"_callProtocolErrorHandlers",value:function(t){var n=e._getRequestStatus(t),r=this._conn.protocolErrorHandlers.HTTP[n];r&&r.call(this,n)}},{key:"_hitError",value:function(e){this.errors++,yp.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()}},{key:"_no_auth_received",value:function(e){yp.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var t=this._buildBody();this._requests.push(new yp.Request(t.tree(),this._onRequestStateChange.bind(this,e),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}},{key:"_onDisconnectTimeout",value:function(){this._abortAllRequests()}},{key:"_abortAllRequests",value:function(){while(this._requests.length>0){var e=this._requests.pop();e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}}}},{key:"_onIdle",value:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(yp.debug("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var t=this._buildBody(),n=0;n<e.length;n++)null!==e[n]&&("restart"===e[n]?t.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":yp.NS.BOSH}):t.cnode(e[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new yp.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(yp.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(yp.TIMEOUT*this.wait)&&(yp.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(yp.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}}},{key:"_onRequestStateChange",value:function(t,n){if(yp.debug("request id "+n.id+"."+n.sends+" state changed to "+n.xhr.readyState),n.abort)n.abort=!1;else if(4===n.xhr.readyState){var r=e._getRequestStatus(n);if(this.lastResponseHeaders=n.xhr.getAllResponseHeaders(),this._conn.disconnecting&&r>=400)return this._hitError(r),void this._callProtocolErrorHandlers(n);var i=r>0&&r<500,o=n.sends>this._conn.maxRetries;if((i||o)&&(this._removeRequest(n),yp.debug("request id "+n.id+" should now be removed")),200===r){var s=this._requests[0]===n,a=this._requests[1]===n;(a||s&&this._requests.length>0&&this._requests[0].age()>Math.floor(yp.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(n.rid)+1),yp.debug("request id "+n.id+"."+n.sends+" got 200"),t(n),this.errors=0}else 0===r||r>=400&&r<600||r>=12e3?(yp.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),this._hitError(r),this._callProtocolErrorHandlers(n),r>=400&&r<500&&(this._conn._changeConnectStatus(yp.Status.DISCONNECTING,null),this._conn._doDisconnect())):yp.error("request id "+n.id+"."+n.sends+" error "+r+" happened");i||o?o&&!this._conn.connected&&this._conn._changeConnectStatus(yp.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}}},{key:"_processRequest",value:function(t){var n=this,r=this._requests[t],i=e._getRequestStatus(r,-1);if(r.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var o=r.age(),s=!isNaN(o)&&o>Math.floor(yp.TIMEOUT*this.wait),a=null!==r.dead&&r.timeDead()>Math.floor(yp.SECONDARY_TIMEOUT*this.wait),u=4===r.xhr.readyState&&(i<1||i>=500);if((s||a||u)&&(a&&yp.error("Request ".concat(this._requests[t].id," timed out (secondary), restarting")),r.abort=!0,r.xhr.abort(),r.xhr.onreadystatechange=function(){},this._requests[t]=new yp.Request(r.xmlData,r.origFunc,r.rid,r.sends),r=this._requests[t]),0===r.xhr.readyState){yp.debug("request id "+r.id+"."+r.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";r.xhr.open("POST",this._conn.service,!this._conn.options.sync),"undefined"!==typeof r.xhr.setRequestHeader&&r.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(r.xhr.withCredentials=!0)}catch(h){return yp.error("XHR open failed: "+h.toString()),this._conn.connected||this._conn._changeConnectStatus(yp.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var l=function(){if(r.date=new Date,n._conn.options.customHeaders){var e=n._conn.options.customHeaders;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.xhr.setRequestHeader(t,e[t])}r.xhr.send(r.data)};if(r.sends>1){var d=1e3*Math.min(Math.floor(yp.TIMEOUT*this.wait),Math.pow(r.sends,3));setTimeout((function(){l()}),d)}else l();r.sends++,this._conn.xmlOutput!==yp.Connection.prototype.xmlOutput&&(r.xmlData.nodeName===this.strip&&r.xmlData.childNodes.length?this._conn.xmlOutput(r.xmlData.childNodes[0]):this._conn.xmlOutput(r.xmlData)),this._conn.rawOutput!==yp.Connection.prototype.rawOutput&&this._conn.rawOutput(r.data)}else yp.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+r.xhr.readyState)}}},{key:"_removeRequest",value:function(e){yp.debug("removing request");for(var t=this._requests.length-1;t>=0;t--)e===this._requests[t]&&this._requests.splice(t,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()}},{key:"_restartRequest",value:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)}},{key:"_reqToData",value:function(e){try{return e.getResponse()}catch(KD){if("parsererror"!==KD.message)throw KD;this._conn.disconnect("strophe-parsererror")}}},{key:"_sendTerminate",value:function(e){yp.debug("_sendTerminate was called");var t=this._buildBody().attrs({type:"terminate"});e&&t.cnode(e.tree());var n=new yp.Request(t.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),t.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()}},{key:"_send",value:function(){var e=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout((function(){return e._conn._onIdle()}),100)}},{key:"_sendRestart",value:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)}},{key:"_throttledRequestHandler",value:function(){this._requests?yp.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):yp.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}}],[{key:"_getRequestStatus",value:function(e,t){var n;if(4===e.xhr.readyState)try{n=e.xhr.status}catch(KD){yp.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return"undefined"===typeof n&&(n="number"===typeof t?t:0),n}}]),e}(),yp.Bosh.prototype.strip=null,yp.Websocket=function(){function e(t){Object(l["a"])(this,e),this._conn=t,this.strip="wrapper";var n=t.service;if(0!==n.indexOf("ws:")&&0!==n.indexOf("wss:")){var r="";"ws"===t.options.protocol&&"https:"!==window.location.protocol?r+="ws":r+="wss",r+="://"+window.location.host,0!==n.indexOf("/")?r+=window.location.pathname+n:r+=n,t.service=r}}return Object(d["a"])(e,[{key:"_buildStream",value:function(){return pp("open",{xmlns:yp.NS.FRAMING,to:this._conn.domain,version:"1.0"})}},{key:"_checkStreamError",value:function(e,t,n){var r;if(r=e.getElementsByTagNameNS?e.getElementsByTagNameNS(yp.NS.STREAM,"error"):e.getElementsByTagName("stream:error"),0===r.length)return!1;for(var i=r[0],o="",s="",a="urn:ietf:params:xml:ns:xmpp-streams",u=0;u<i.childNodes.length;u++){var c=i.childNodes[u];if(c.getAttribute("xmlns")!==a)break;"text"===c.nodeName?s=c.textContent:o=c.nodeName}var l="WebSocket stream error: ";l+=o||"unknown",s&&(l+=" - "+s),yp.error(l);try{n&&n()}catch(c){}return this._conn._changeConnectStatus(t,o),this._conn._doDisconnect(),!0}},{key:"_reset",value:function(){}},{key:"_connect",value:function(){var e=this;this._closeSocket(),this.socket=new wf(this._conn.service,"xmpp"),this.socket.onopen=function(){return e._onOpen()},this.socket.onerror=function(t){return e._onError(t)},this.socket.onclose=function(t){return e._onClose(t)},this.socket.onmessage=function(t){return e._onInitialMessage(t)}}},{key:"_connect_cb",value:function(e){var t=this._checkStreamError(e,yp.Status.CONNFAIL);if(t)return yp.Status.CONNFAIL}},{key:"_handleStreamStart",value:function(e){var t=!1,n=e.getAttribute("xmlns");"string"!==typeof n?t="Missing xmlns in <open />":n!==yp.NS.FRAMING&&(t="Wrong xmlns in <open />: "+n);var r=e.getAttribute("version");return"string"!==typeof r?t="Missing version in <open />":"1.0"!==r&&(t="Wrong version in <open />: "+r),!t||(this._conn._changeConnectStatus(yp.Status.CONNFAIL,t),this._conn._doDisconnect(),!1)}},{key:"_onInitialMessage",value:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var t=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===t)return;var n=(new Cf).parseFromString(t,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(e.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===e.data.indexOf("<close ")){var r=(new Cf).parseFromString(e.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data);var i=r.getAttribute("see-other-uri");if(i){var o=this._conn.service,s=o.indexOf("wss:")>=0&&i.indexOf("wss:")>=0||o.indexOf("ws:")>=0;s&&(this._conn._changeConnectStatus(yp.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(yp.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{this._replaceMessageHandler();var a=this._streamWrap(e.data),u=(new Cf).parseFromString(a,"text/xml").documentElement;this._conn._connect_cb(u,null,e.data)}}},{key:"_replaceMessageHandler",value:function(){var e=this;this.socket.onmessage=function(t){return e._onMessage(t)}}},{key:"_disconnect",value:function(e){var t=this;if(this.socket&&this.socket.readyState!==wf.CLOSED){e&&this._conn.send(e);var n=pp("stream:stream");this._conn.xmlOutput(n.tree());var r=yp.serialize(n);this._conn.rawOutput(r);try{this.socket.send(r)}catch(KD){yp.warn("Couldn't send <close /> tag.")}}setTimeout((function(){return t._conn._doDisconnect}),0)}},{key:"_doDisconnect",value:function(){yp.debug("WebSockets _doDisconnect was called"),this._closeSocket()}},{key:"_streamWrap",value:function(e){return"<wrapper>"+e+"</wrapper>"}},{key:"_closeSocket",value:function(){if(this.socket)try{this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close()}catch(KD){yp.debug(KD.message)}this.socket=null}},{key:"_emptyQueue",value:function(){return!0}},{key:"_onClose",value:function(e){this._conn.connected&&!this._conn.disconnecting?(yp.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected&&this.socket?(yp.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(yp.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):yp.debug("Websocket closed")}},{key:"_no_auth_received",value:function(e){yp.error("Server did not offer a supported authentication mechanism"),this._conn._changeConnectStatus(yp.Status.CONNFAIL,yp.ErrorCondition.NO_AUTH_MECH),e&&e.call(this._conn),this._conn._doDisconnect()}},{key:"_onDisconnectTimeout",value:function(){}},{key:"_abortAllRequests",value:function(){}},{key:"_onError",value:function(e){yp.error("Websocket error "+JSON.stringify(e)),this._conn._changeConnectStatus(yp.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()}},{key:"_onIdle",value:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var t=0;t<e.length;t++)if(null!==e[t]){var n=void 0;n="restart"===e[t]?this._buildStream().tree():e[t];var r=yp.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}}},{key:"_onMessage",value:function(e){var t,n=this,r='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===r)return this._conn.rawInput(r),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(t=(new Cf).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(t))return}else{var i=this._streamWrap(e.data);t=(new Cf).parseFromString(i,"text/xml").documentElement}return this._checkStreamError(t,yp.Status.ERROR,(function(){n._conn._dataRecv(t,e.data)}))?void 0:this._conn.disconnecting&&"presence"===t.firstChild.nodeName&&"unavailable"===t.firstChild.getAttribute("type")?(this._conn.xmlInput(t),void this._conn.rawInput(yp.serialize(t))):void this._conn._dataRecv(t,e.data)}},{key:"_onOpen",value:function(){yp.debug("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var t=yp.serialize(e);this._conn.rawOutput(t),this.socket.send(t)}},{key:"_reqToData",value:function(e){return e}},{key:"_send",value:function(){this._conn.flush()}},{key:"_sendRestart",value:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}}]),e}();var Dp={};Dp["debug"]=yp.LogLevel.DEBUG,Dp["info"]=yp.LogLevel.INFO,Dp["warn"]=yp.LogLevel.WARN,Dp["error"]=yp.LogLevel.ERROR,Dp["fatal"]=yp.LogLevel.FATAL,yp.WorkerWebsocket=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(e){var r;return Object(l["a"])(this,n),r=t.call(this,e),r._conn=e,r.worker=new SharedWorker(r._conn.options.worker,"Strophe XMPP Connection"),r.worker.onerror=function(e){var t;null===(t=console)||void 0===t||t.error(e),yp.log(yp.LogLevel.ERROR,"Shared Worker Error: ".concat(e))},r}return Object(d["a"])(n,[{key:"socket",get:function(){var e=this;return{send:function(t){return e.worker.port.postMessage(["send",t])}}}},{key:"_connect",value:function(){var e=this;this._messageHandler=function(t){return e._onInitialMessage(t)},this.worker.port.start(),this.worker.port.onmessage=function(t){return e._onWorkerMessage(t)},this.worker.port.postMessage(["_connect",this._conn.service,this._conn.jid])}},{key:"_attach",value:function(e){var t=this;this._messageHandler=function(e){return t._onMessage(e)},this._conn.connect_callback=e,this.worker.port.start(),this.worker.port.onmessage=function(e){return t._onWorkerMessage(e)},this.worker.port.postMessage(["_attach",this._conn.service])}},{key:"_attachCallback",value:function(e,t){e===yp.Status.ATTACHED?(this._conn.jid=t,this._conn.authenticated=!0,this._conn.connected=!0,this._conn.restored=!0,this._conn._changeConnectStatus(yp.Status.ATTACHED)):e===yp.Status.ATTACHFAIL&&(this._conn.authenticated=!1,this._conn.connected=!1,this._conn.restored=!1,this._conn._changeConnectStatus(yp.Status.ATTACHFAIL))}},{key:"_disconnect",value:function(e,t){t&&this._conn.send(t);var n=pp("stream:stream");this._conn.xmlOutput(n.tree());var r=yp.serialize(n);this._conn.rawOutput(r),this.worker.port.postMessage(["send",r]),this._conn._doDisconnect()}},{key:"_onClose",value:function(e){this._conn.connected&&!this._conn.disconnecting?(yp.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):e&&1006===e.code&&!this._conn.connected?(yp.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(yp.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):yp.debug("Websocket closed")}},{key:"_closeSocket",value:function(){this.worker.port.postMessage(["_closeSocket"])}},{key:"_replaceMessageHandler",value:function(){var e=this;this._messageHandler=function(t){return e._onMessage(t)}}},{key:"_onWorkerMessage",value:function(e){var t=e.data,n=t[0];if("_onMessage"===n)this._messageHandler(t[1]);else if(n in this)try{this[n].apply(this,e.data.slice(1))}catch(KD){yp.log(yp.LogLevel.ERROR,KD)}else if("log"===n){var r=t[1],i=t[2];yp.log(Dp[r],i)}else yp.log(yp.LogLevel.ERROR,"Found unhandled service worker message: ".concat(t))}}]),n}(yp.Websocket),window.$build=bp.$build,window.$iq=bp.$iq,window.$msg=bp.$msg,window.$pres=bp.$pres,window.Strophe=bp.Strophe;var _p={exports:{}},wp={exports:{}},Ep={},Cp=Object.freeze({__proto__:null,default:Ep}),xp=ar(Cp);(function(e,t){(function(t,n){e.exports=n()})(0,(function(){var e=e||function(e,t){var n;if("undefined"!==typeof window&&window.crypto&&(n=window.crypto),"undefined"!==typeof self&&self.crypto&&(n=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!==typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&"undefined"!==typeof sr&&sr.crypto&&(n=sr.crypto),!n&&"function"===typeof ur)try{n=xp}catch(m){}var r=function(){if(n){if("function"===typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},a=s.Base=function(){return{extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=s.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new u.init(t,e)}}),c=o.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},h=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(KD){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=4*s,c=o/a;c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0);var l=c*s,d=e.min(4*l,o);if(l){for(var h=0;h<l;h+=s)this._doProcessBlock(i,h);n=i.splice(0,l),r.sigBytes-=d}return new u.init(n,d)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=f.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=o.algo={};return o}(Math);return e}))})(wp);var Ap={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,s=n.x64={};s.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),e}))})(Ap);var kp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(){if("function"==typeof ArrayBuffer){var t=e,n=t.lib,r=n.WordArray,i=r.init,o=r.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],r=0;r<t;r++)n[r>>>2]|=e[r]<<24-r%4*8;i.call(this,n,t)}else i.apply(this,arguments)};o.prototype=r}}(),e.lib.WordArray}))})(kp);var Sp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;function o(e){return e<<8&4278255360|e>>>8&16711935}i.Utf16=i.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,2*t)}},i.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return r.create(n,2*t)}}}(),e.enc.Utf16}))})(Sp);var Fp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;function o(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,u=n[e.charCodeAt(s)]>>>6-s%4*2,c=a|u;i[o>>>2]|=c<<24-o%4*8,o++}return r.create(i,o)}i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,c=s<<16|a<<8|u,l=0;l<4&&o+.75*l<n;l++)i.push(r.charAt(c>>>6*(3-l)&63));var d=r.charAt(64);if(d)while(i.length%4)i.push(d);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return o(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}))})(Fp);var Op={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;function o(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,u=n[e.charCodeAt(s)]>>>6-s%4*2,c=a|u;i[o>>>2]|=c<<24-o%4*8,o++}return r.create(i,o)}i.Base64url={stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<r;s+=3)for(var a=n[s>>>2]>>>24-s%4*8&255,u=n[s+1>>>2]>>>24-(s+1)%4*8&255,c=n[s+2>>>2]>>>24-(s+2)%4*8&255,l=a<<16|u<<8|c,d=0;d<4&&s+.75*d<r;d++)o.push(i.charAt(l>>>6*(3-d)&63));var h=i.charAt(64);if(h)while(o.length%4)o.push(h);return o.join("")},parse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length,r=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var u=e.indexOf(a);-1!==u&&(n=u)}return o(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url}))})(Op);var Mp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[];(function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0})();var u=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],u=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],y=e[t+7],b=e[t+8],D=e[t+9],_=e[t+10],w=e[t+11],E=e[t+12],C=e[t+13],x=e[t+14],A=e[t+15],k=o[0],S=o[1],F=o[2],O=o[3];k=c(k,S,F,O,s,7,a[0]),O=c(O,k,S,F,u,12,a[1]),F=c(F,O,k,S,f,17,a[2]),S=c(S,F,O,k,p,22,a[3]),k=c(k,S,F,O,m,7,a[4]),O=c(O,k,S,F,g,12,a[5]),F=c(F,O,k,S,v,17,a[6]),S=c(S,F,O,k,y,22,a[7]),k=c(k,S,F,O,b,7,a[8]),O=c(O,k,S,F,D,12,a[9]),F=c(F,O,k,S,_,17,a[10]),S=c(S,F,O,k,w,22,a[11]),k=c(k,S,F,O,E,7,a[12]),O=c(O,k,S,F,C,12,a[13]),F=c(F,O,k,S,x,17,a[14]),S=c(S,F,O,k,A,22,a[15]),k=l(k,S,F,O,u,5,a[16]),O=l(O,k,S,F,v,9,a[17]),F=l(F,O,k,S,w,14,a[18]),S=l(S,F,O,k,s,20,a[19]),k=l(k,S,F,O,g,5,a[20]),O=l(O,k,S,F,_,9,a[21]),F=l(F,O,k,S,A,14,a[22]),S=l(S,F,O,k,m,20,a[23]),k=l(k,S,F,O,D,5,a[24]),O=l(O,k,S,F,x,9,a[25]),F=l(F,O,k,S,p,14,a[26]),S=l(S,F,O,k,b,20,a[27]),k=l(k,S,F,O,C,5,a[28]),O=l(O,k,S,F,f,9,a[29]),F=l(F,O,k,S,y,14,a[30]),S=l(S,F,O,k,E,20,a[31]),k=d(k,S,F,O,g,4,a[32]),O=d(O,k,S,F,b,11,a[33]),F=d(F,O,k,S,w,16,a[34]),S=d(S,F,O,k,x,23,a[35]),k=d(k,S,F,O,u,4,a[36]),O=d(O,k,S,F,m,11,a[37]),F=d(F,O,k,S,y,16,a[38]),S=d(S,F,O,k,_,23,a[39]),k=d(k,S,F,O,C,4,a[40]),O=d(O,k,S,F,s,11,a[41]),F=d(F,O,k,S,p,16,a[42]),S=d(S,F,O,k,v,23,a[43]),k=d(k,S,F,O,D,4,a[44]),O=d(O,k,S,F,E,11,a[45]),F=d(F,O,k,S,A,16,a[46]),S=d(S,F,O,k,f,23,a[47]),k=h(k,S,F,O,s,6,a[48]),O=h(O,k,S,F,y,10,a[49]),F=h(F,O,k,S,x,15,a[50]),S=h(S,F,O,k,g,21,a[51]),k=h(k,S,F,O,E,6,a[52]),O=h(O,k,S,F,p,10,a[53]),F=h(F,O,k,S,_,15,a[54]),S=h(S,F,O,k,u,21,a[55]),k=h(k,S,F,O,b,6,a[56]),O=h(O,k,S,F,A,10,a[57]),F=h(F,O,k,S,v,15,a[58]),S=h(S,F,O,k,C,21,a[59]),k=h(k,S,F,O,m,6,a[60]),O=h(O,k,S,F,w,10,a[61]),F=h(F,O,k,S,f,15,a[62]),S=h(S,F,O,k,D,21,a[63]),o[0]=o[0]+k|0,o[1]=o[1]+S|0,o[2]=o[2]+F|0,o[3]=o[3]+O|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,r,i,o,s){var a=e+(t^n^r)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+i+s;return(a<<o|a>>>32-o)+t}n.MD5=o._createHelper(u),n.HmacMD5=o._createHmacHelper(u)}(Math),e.MD5}))})(Mp);var Tp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var l=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=l<<1|l>>>31}var d=(r<<5|r>>>27)+u+s[c];d+=c<20?1518500249+(i&o|~i&a):c<40?1859775393+(i^o^a):c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),e.SHA1}))})(Tp);var jp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];(function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}var r=2,i=0;while(i<64)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++})();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],d=n[6],h=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var p=c[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=c[f-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[f]=m+c[f-7]+v+c[f-16]}var y=a&l^~a&d,b=r&i^r&o^i&o,D=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),w=h+_+y+u[f]+c[f],E=D+b;h=d,d=l,l=a,a=s+w|0,s=o,o=i,i=r,r=w+E|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256}))})(jp);var Np={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,jp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.algo,o=i.SHA256,s=i.SHA224=o.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=o._createHelper(s),t.HmacSHA224=o._createHmacHelper(s)}(),e.SHA224}))})(Np);var Bp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Ap.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.Hasher,i=t.x64,o=i.Word,s=i.WordArray,a=t.algo;function u(){return o.create.apply(o,arguments)}var c=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],l=[];(function(){for(var e=0;e<80;e++)l[e]=u()})();var d=a.SHA512=r.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],d=n[6],h=n[7],f=r.high,p=r.low,m=i.high,g=i.low,v=o.high,y=o.low,b=s.high,D=s.low,_=a.high,w=a.low,E=u.high,C=u.low,x=d.high,A=d.low,k=h.high,S=h.low,F=f,O=p,M=m,T=g,j=v,N=y,B=b,I=D,L=_,R=w,P=E,H=C,z=x,$=A,U=k,q=S,Y=0;Y<80;Y++){var V,W,J=l[Y];if(Y<16)W=J.high=0|e[t+2*Y],V=J.low=0|e[t+2*Y+1];else{var K=l[Y-15],X=K.high,G=K.low,Z=(X>>>1|G<<31)^(X>>>8|G<<24)^X>>>7,Q=(G>>>1|X<<31)^(G>>>8|X<<24)^(G>>>7|X<<25),ee=l[Y-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=l[Y-7],se=oe.high,ae=oe.low,ue=l[Y-16],ce=ue.high,le=ue.low;V=Q+ae,W=Z+se+(V>>>0<Q>>>0?1:0),V+=ie,W=W+re+(V>>>0<ie>>>0?1:0),V+=le,W=W+ce+(V>>>0<le>>>0?1:0),J.high=W,J.low=V}var de=L&P^~L&z,he=R&H^~R&$,fe=F&M^F&j^M&j,pe=O&T^O&N^T&N,me=(F>>>28|O<<4)^(F<<30|O>>>2)^(F<<25|O>>>7),ge=(O>>>28|F<<4)^(O<<30|F>>>2)^(O<<25|F>>>7),ve=(L>>>14|R<<18)^(L>>>18|R<<14)^(L<<23|R>>>9),ye=(R>>>14|L<<18)^(R>>>18|L<<14)^(R<<23|L>>>9),be=c[Y],De=be.high,_e=be.low,we=q+ye,Ee=U+ve+(we>>>0<q>>>0?1:0),Ce=(we=we+he,Ee=Ee+de+(we>>>0<he>>>0?1:0),we=we+_e,Ee=Ee+De+(we>>>0<_e>>>0?1:0),we=we+V,Ee=Ee+W+(we>>>0<V>>>0?1:0),ge+pe),xe=me+fe+(Ce>>>0<ge>>>0?1:0);U=z,q=$,z=P,$=H,P=L,H=R,R=I+we|0,L=B+Ee+(R>>>0<I>>>0?1:0)|0,B=j,I=N,j=M,N=T,M=F,T=O,O=we+Ce|0,F=Ee+xe+(O>>>0<we>>>0?1:0)|0}p=r.low=p+O,r.high=f+F+(p>>>0<O>>>0?1:0),g=i.low=g+T,i.high=m+M+(g>>>0<T>>>0?1:0),y=o.low=y+N,o.high=v+j+(y>>>0<N>>>0?1:0),D=s.low=D+I,s.high=b+B+(D>>>0<I>>>0?1:0),w=a.low=w+R,a.high=_+L+(w>>>0<R>>>0?1:0),C=u.low=C+H,u.high=E+P+(C>>>0<H>>>0?1:0),A=d.low=A+$,d.high=x+z+(A>>>0<$>>>0?1:0),S=h.low=S+q,h.high=k+U+(S>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process();var i=this._hash.toX32();return i},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(d),t.HmacSHA512=r._createHmacHelper(d)}(),e.SHA512}))})(Bp);var Ip={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Ap.exports,Bp.exports)})(0,(function(e){return function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384}))})(Ip);var Lp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Ap.exports)})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.x64,a=s.Word,u=n.algo,c=[],l=[],d=[];(function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=t%5,i=(2*e+3*t)%5;e=r,t=i}for(e=0;e<5;e++)for(t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,s=0;s<24;s++){for(var u=0,h=0,f=0;f<7;f++){if(1&o){var p=(1<<f)-1;p<32?h^=1<<p:u^=1<<p-32}128&o?o=o<<1^113:o<<=1}d[s]=a.create(u,h)}})();var h=[];(function(){for(var e=0;e<25;e++)h[e]=a.create()})();var f=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);var a=n[i];a.high^=s,a.low^=o}for(var u=0;u<24;u++){for(var f=0;f<5;f++){for(var p=0,m=0,g=0;g<5;g++){a=n[f+5*g];p^=a.high,m^=a.low}var v=h[f];v.high=p,v.low=m}for(f=0;f<5;f++){var y=h[(f+4)%5],b=h[(f+1)%5],D=b.high,_=b.low;for(p=y.high^(D<<1|_>>>31),m=y.low^(_<<1|D>>>31),g=0;g<5;g++){a=n[f+5*g];a.high^=p,a.low^=m}}for(var w=1;w<25;w++){a=n[w];var E=a.high,C=a.low,x=c[w];x<32?(p=E<<x|C>>>32-x,m=C<<x|E>>>32-x):(p=C<<x-32|E>>>64-x,m=E<<x-32|C>>>64-x);var A=h[l[w]];A.high=p,A.low=m}var k=h[0],S=n[0];k.high=S.high,k.low=S.low;for(f=0;f<5;f++)for(g=0;g<5;g++){w=f+5*g,a=n[w];var F=h[w],O=h[(f+1)%5+5*g],M=h[(f+2)%5+5*g];a.high=F.high^~O.high&M.high,a.low=F.low^~O.low&M.low}a=n[0];var T=d[u];a.high^=T.high,a.low^=T.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var r=8*e.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,c=[],l=0;l<u;l++){var d=s[l],h=d.high,f=d.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c.push(f),c.push(h)}return new i.init(c,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(f),n.HmacSHA3=o._createHmacHelper(f)}(Math),e.SHA3}))})(Lp);var Rp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,f,D,_,w,E,C,x,A,k,S=this._hash.words,F=d.words,O=h.words,M=a.words,T=u.words,j=c.words,N=l.words;w=o=S[0],E=s=S[1],C=f=S[2],x=D=S[3],A=_=S[4];for(n=0;n<80;n+=1)k=o+e[t+M[n]]|0,k+=n<16?p(s,f,D)+F[0]:n<32?m(s,f,D)+F[1]:n<48?g(s,f,D)+F[2]:n<64?v(s,f,D)+F[3]:y(s,f,D)+F[4],k|=0,k=b(k,j[n]),k=k+_|0,o=_,_=D,D=b(f,10),f=s,s=k,k=w+e[t+T[n]]|0,k+=n<16?y(E,C,x)+O[0]:n<32?v(E,C,x)+O[1]:n<48?g(E,C,x)+O[2]:n<64?m(E,C,x)+O[3]:p(E,C,x)+O[4],k|=0,k=b(k,N[n]),k=k+A|0,w=A,A=x,x=b(C,10),C=E,E=k;k=S[1]+f+x|0,S[1]=S[2]+D+A|0,S[2]=S[3]+_+w|0,S[3]=S[4]+o+E|0,S[4]=S[0]+s+C|0,S[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}n.RIPEMD160=o._createHelper(f),n.HmacRIPEMD160=o._createHmacHelper(f)}(),e.RIPEMD160}))})(Rp);var Pp={exports:{}};(function(e,t){(function(t,n){e.exports=n(wp.exports)})(0,(function(e){(function(){var t=e,n=t.lib,r=n.Base,i=t.enc,o=i.Utf8,s=t.algo;s.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})})()}))})(Pp);var Hp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Tp.exports,Pp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,s=o.SHA1,a=o.HMAC,u=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,r=a.create(n.hasher,e),o=i.create(),s=i.create([1]),u=o.words,c=s.words,l=n.keySize,d=n.iterations;while(u.length<l){var h=r.update(t).finalize(s);r.reset();for(var f=h.words,p=f.length,m=h,g=1;g<d;g++){m=r.finalize(m),r.reset();for(var v=m.words,y=0;y<p;y++)f[y]^=v[y]}o.concat(h),c[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(e,t,n){return u.create(n).compute(e,t)}}(),e.PBKDF2}))})(Hp);var zp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Tp.exports,Pp.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n,r=this.cfg,o=r.hasher.create(),s=i.create(),a=s.words,u=r.keySize,c=r.iterations;while(a.length<u){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var l=1;l<c;l++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*u,s}});t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),e.EvpKDF}))})(zp);var $p={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,zp.exports)})(0,(function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=n.enc;a.Utf8;var u=a.Base64,c=n.algo,l=c.EvpKDF,d=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:D}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()});r.StreamCipher=d.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1});var h=n.mode={},f=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=h.CBC=function(){var e=f.extend();function n(e,n,r){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<r;s++)e[n+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),e}(),m=n.pad={},g=m.Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(i);var u=o.create(s,r);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:p,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var v=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=n.format={},b=y.OpenSSL={stringify:function(e){var t,n=e.ciphertext,r=e.salt;return t=r?o.create([1398893684,1701076831]).concat(r).concat(n):n,t.toString(u)},parse:function(e){var t,n=u.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=o.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:t})}},D=r.SerializableCipher=i.extend({cfg:i.extend({format:b}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),s=i.cfg;return v.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=e.createDecryptor(n,r).finalize(t.ciphertext);return i},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=n.kdf={},w=_.OpenSSL={execute:function(e,t,n,r){r||(r=o.random(8));var i=l.create({keySize:t+n}).compute(e,r),s=o.create(i.words.slice(t),4*n);return i.sigBytes=4*t,v.create({key:i,iv:s,salt:r})}},E=r.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:w}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=D.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=i.iv;var o=D.decrypt.call(this,e,t,i.key,r);return o}})}()}))})($p);var Up={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=o}}),t}(),e.mode.CFB}))})(Up);var qp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}});return t.Decryptor=n,t}(),e.mode.CTR}))})(qp);var Yp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function r(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),r(s);var a=s.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)e[t+u]^=a[u]}});return t.Decryptor=i,t}(),e.mode.CTRGladman}))})(Yp);var Vp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}});return t.Decryptor=n,t}(),e.mode.OFB}))})(Vp);var Wp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB}))})(Wp);var Jp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}))})(Jp);var Kp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}))})(Kp);var Xp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}))})(Xp);var Gp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding}))})(Gp);var Zp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}))})(Zp);var Qp={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,$p.exports)})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.CipherParams,o=n.enc,s=o.Hex,a=n.format;a.Hex={stringify:function(e){return e.ciphertext.toString(s)},parse:function(e){var t=s.parse(e);return i.create({ciphertext:t})}}}(),e.format.Hex}))})(Qp);var em={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Fp.exports,Mp.exports,zp.exports,$p.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.BlockCipher,i=t.algo,o=[],s=[],a=[],u=[],c=[],l=[],d=[],h=[],f=[],p=[];(function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var i=r^r<<1^r<<2^r<<3^r<<4;i=i>>>8^255&i^99,o[n]=i,s[i]=n;var m=e[n],g=e[m],v=e[g],y=257*e[i]^16843008*i;a[n]=y<<24|y>>>8,u[n]=y<<16|y>>>16,c[n]=y<<8|y>>>24,l[n]=y;y=16843009*v^65537*g^257*m^16843008*n;d[i]=y<<24|y>>>8,h[i]=y<<16|y>>>16,f[i]=y<<8|y>>>24,p[i]=y,n?(n=m^e[e[e[v^m]]],r^=e[e[r]]):n=r=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=this._nRounds=n+6,i=4*(r+1),s=this._keySchedule=[],a=0;a<i;a++)a<n?s[a]=t[a]:(l=s[a-1],a%n?n>6&&a%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=l<<8|l>>>24,l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=m[a/n|0]<<24),s[a]=s[a-n]^l);for(var u=this._invKeySchedule=[],c=0;c<i;c++){a=i-c;if(c%4)var l=s[a];else l=s[a-4];u[c]=c<4||a<=4?l:d[o[l>>>24]]^h[o[l>>>16&255]]^f[o[l>>>8&255]]^p[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,u,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,h,f,p,s);n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var u=this._nRounds,c=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],h=e[t+3]^n[3],f=4,p=1;p<u;p++){var m=r[c>>>24]^i[l>>>16&255]^o[d>>>8&255]^s[255&h]^n[f++],g=r[l>>>24]^i[d>>>16&255]^o[h>>>8&255]^s[255&c]^n[f++],v=r[d>>>24]^i[h>>>16&255]^o[c>>>8&255]^s[255&l]^n[f++],y=r[h>>>24]^i[c>>>16&255]^o[l>>>8&255]^s[255&d]^n[f++];c=m,l=g,d=v,h=y}m=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^n[f++],g=(a[l>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^n[f++],v=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^n[f++],y=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&d])^n[f++];e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=y},keySize:8});t.AES=r._createHelper(g)}(),e.AES}))})(em);var tm={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Fp.exports,Mp.exports,zp.exports,$p.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var e=this._key,t=e.words,n=[],r=0;r<56;r++){var i=s[r]-1;n[r]=t[i>>>5]>>>31-i%32&1}for(var o=this._subKeys=[],c=0;c<16;c++){var l=o[c]=[],d=u[c];for(r=0;r<24;r++)l[r/6|0]|=n[(a[r]-1+d)%28]<<31-r%6,l[4+(r/6|0)]|=n[28+(a[r+24]-1+d)%28]<<31-r%6;l[0]=l[0]<<1|l[0]>>>31;for(r=1;r<7;r++)l[r]=l[r]>>>4*(r-1)+3;l[7]=l[7]<<5|l[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=o[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=c[u][((s^i[u])&l[u])>>>0];this._lBlock=s,this._rBlock=o^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,h.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(d);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key,t=e.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var n=t.slice(0,2),i=t.length<4?t.slice(0,2):t.slice(2,4),o=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=d.createEncryptor(r.create(n)),this._des2=d.createEncryptor(r.create(i)),this._des3=d.createEncryptor(r.create(o))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),e.TripleDES}))})(tm);var nm={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Fp.exports,Mp.exports,zp.exports,$p.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.StreamCipher,i=t.algo,o=i.RC4=r.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var u=r[i];r[i]=r[o],r[o]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=s.call(this)},keySize:8,ivSize:0});function s(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){t=(t+1)%256,n=(n+e[t])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}t.RC4=r._createHelper(o);var a=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)s.call(this)}});t.RC4Drop=r._createHelper(a)}(),e.RC4}))})(nm);var rm={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Fp.exports,Mp.exports,zp.exports,$p.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.StreamCipher,i=t.algo,o=[],s=[],a=[],u=i.Rabbit=r.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=u>>>16|4294901760&l,h=l<<16|65535&u;i[0]^=u,i[1]^=d,i[2]^=l,i[3]^=h,i[4]^=u,i[5]^=d,i[6]^=l,i[7]^=h;for(n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,o=r>>>16,u=((i*i>>>17)+i*o>>>15)+o*o,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=u^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=r._createHelper(u)}(),e.Rabbit}))})(rm);var im={exports:{}};(function(e,t){(function(t,n,r){e.exports=n(wp.exports,Fp.exports,Mp.exports,zp.exports,$p.exports)})(0,(function(e){return function(){var t=e,n=t.lib,r=n.StreamCipher,i=t.algo,o=[],s=[],a=[],u=i.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=u>>>16|4294901760&l,h=l<<16|65535&u;r[0]^=u,r[1]^=d,r[2]^=l,r[3]^=h,r[4]^=u,r[5]^=d,r[6]^=l,r[7]^=h;for(i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),o[0]=n[0]^n[5]>>>16^n[3]<<16,o[1]=n[2]^n[7]>>>16^n[5]<<16,o[2]=n[4]^n[1]>>>16^n[7]<<16,o[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)o[r]=16711935&(o[r]<<8|o[r]>>>24)|4278255360&(o[r]<<24|o[r]>>>8),e[t+r]^=o[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)s[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<s[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<s[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<s[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<s[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<s[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<s[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<s[6]>>>0?1:0)|0,this._b=t[7]>>>0<s[7]>>>0?1:0;for(n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,o=r>>>16,u=((i*i>>>17)+i*o>>>15)+o*o,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=u^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=r._createHelper(u)}(),e.RabbitLegacy}))})(im),function(e,t){(function(t,n,r){e.exports=n(wp.exports,Ap.exports,kp.exports,Sp.exports,Fp.exports,Op.exports,Mp.exports,Tp.exports,jp.exports,Np.exports,Bp.exports,Ip.exports,Lp.exports,Rp.exports,Pp.exports,Hp.exports,zp.exports,$p.exports,Up.exports,qp.exports,Yp.exports,Vp.exports,Wp.exports,Jp.exports,Kp.exports,Xp.exports,Gp.exports,Zp.exports,Qp.exports,em.exports,tm.exports,nm.exports,rm.exports,im.exports)})(0,(function(e){return e}))}(_p);var om={exports:{}},sm=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},am=sm,um=Object.prototype.toString;function cm(e){return Array.isArray(e)}function lm(e){return"undefined"===typeof e}function dm(e){return null!==e&&!lm(e)&&null!==e.constructor&&!lm(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function hm(e){return"[object ArrayBuffer]"===um.call(e)}function fm(e){return"[object FormData]"===um.call(e)}function pm(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&hm(e.buffer),t}function mm(e){return"string"===typeof e}function gm(e){return"number"===typeof e}function vm(e){return null!==e&&"object"===Object(g["a"])(e)}function ym(e){if("[object Object]"!==um.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function bm(e){return"[object Date]"===um.call(e)}function Dm(e){return"[object File]"===um.call(e)}function _m(e){return"[object Blob]"===um.call(e)}function wm(e){return"[object Function]"===um.call(e)}function Em(e){return vm(e)&&wm(e.pipe)}function Cm(e){return"[object URLSearchParams]"===um.call(e)}function xm(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Am(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function km(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==Object(g["a"])(e)&&(e=[e]),cm(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Sm(){var e={};function t(t,n){ym(e[n])&&ym(t)?e[n]=Sm(e[n],t):ym(t)?e[n]=Sm({},t):cm(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)km(arguments[n],t);return e}function Fm(e,t,n){return km(t,(function(t,r){e[r]=n&&"function"===typeof t?am(t,n):t})),e}function Om(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var Mm={isArray:cm,isArrayBuffer:hm,isBuffer:dm,isFormData:fm,isArrayBufferView:pm,isString:mm,isNumber:gm,isObject:vm,isPlainObject:ym,isUndefined:lm,isDate:bm,isFile:Dm,isBlob:_m,isFunction:wm,isStream:Em,isURLSearchParams:Cm,isStandardBrowserEnv:Am,forEach:km,merge:Sm,extend:Fm,trim:xm,stripBOM:Om},Tm=Mm;function jm(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Nm=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Tm.isURLSearchParams(t))r=t.toString();else{var i=[];Tm.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(Tm.isArray(e)?t+="[]":e=[e],Tm.forEach(e,(function(e){Tm.isDate(e)?e=e.toISOString():Tm.isObject(e)&&(e=JSON.stringify(e)),i.push(jm(t)+"="+jm(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},Bm=Mm;function Im(){this.handlers=[]}Im.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Im.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Im.prototype.forEach=function(e){Bm.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Lm=Im,Rm=Mm,Pm=function(e,t){Rm.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Hm=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},zm=Hm,$m=function(e,t,n,r,i){var o=new Error(e);return zm(o,t,n,r,i)},Um=$m,qm=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Um("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},Ym=Mm,Vm=Ym.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),Ym.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ym.isString(r)&&s.push("path="+r),Ym.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Wm=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Jm=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},Km=Wm,Xm=Jm,Gm=function(e,t){return e&&!Km(t)?Xm(e,t):t},Zm=Mm,Qm=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],eg=function(e){var t,n,r,i={};return e?(Zm.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=Zm.trim(e.substr(0,r)).toLowerCase(),n=Zm.trim(e.substr(r+1)),t){if(i[t]&&Qm.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i},tg=Mm,ng=tg.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=tg.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}();function rg(e){this.message=e}rg.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},rg.prototype.__CANCEL__=!0;var ig=rg,og=Mm,sg=qm,ag=Vm,ug=Nm,cg=Gm,lg=eg,dg=ng,hg=$m,fg=Cg,pg=ig,mg=function(e){return new Promise((function(t,n){var r,i=e.data,o=e.headers,s=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}og.isFormData(i)&&delete o["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(c+":"+l)}var d=cg(e.baseURL,e.url);function h(){if(u){var r="getAllResponseHeaders"in u?lg(u.getAllResponseHeaders()):null,i=s&&"text"!==s&&"json"!==s?u.response:u.responseText,o={data:i,status:u.status,statusText:u.statusText,headers:r,config:e,request:u};sg((function(e){t(e),a()}),(function(e){n(e),a()}),o),u=null}}if(u.open(e.method.toUpperCase(),ug(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(hg("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){n(hg("Network Error",e,null,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||fg.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(hg(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},og.isStandardBrowserEnv()){var f=(e.withCredentials||dg(d))&&e.xsrfCookieName?ag.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}"setRequestHeader"in u&&og.forEach(o,(function(e,t){"undefined"===typeof i&&"content-type"===t.toLowerCase()?delete o[t]:u.setRequestHeader(t,e)})),og.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){u&&(n(!e||e&&e.type?new pg("canceled"):e),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),i||(i=null),u.send(i)}))},gg=Mm,vg=Pm,yg=Hm,bg={"Content-Type":"application/x-www-form-urlencoded"};function Dg(e,t){!gg.isUndefined(e)&&gg.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function _g(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof i&&"[object process]"===Object.prototype.toString.call(i))&&(e=mg),e}function wg(e,t,n){if(gg.isString(e))try{return(t||JSON.parse)(e),gg.trim(e)}catch(KD){if("SyntaxError"!==KD.name)throw KD}return(n||JSON.stringify)(e)}var Eg={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:_g(),transformRequest:[function(e,t){return vg(t,"Accept"),vg(t,"Content-Type"),gg.isFormData(e)||gg.isArrayBuffer(e)||gg.isBuffer(e)||gg.isStream(e)||gg.isFile(e)||gg.isBlob(e)?e:gg.isArrayBufferView(e)?e.buffer:gg.isURLSearchParams(e)?(Dg(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):gg.isObject(e)||t&&"application/json"===t["Content-Type"]?(Dg(t,"application/json"),wg(e)):e}],transformResponse:[function(e){var t=this.transitional||Eg.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&gg.isString(e)&&e.length)try{return JSON.parse(e)}catch(KD){if(i){if("SyntaxError"===KD.name)throw yg(KD,this,"E_JSON_PARSE");throw KD}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};gg.forEach(["delete","get","head"],(function(e){Eg.headers[e]={}})),gg.forEach(["post","put","patch"],(function(e){Eg.headers[e]=gg.merge(bg)}));var Cg=Eg,xg=Mm,Ag=Cg,kg=function(e,t,n){var r=this||Ag;return xg.forEach(n,(function(n){e=n.call(r,e,t)})),e},Sg=function(e){return!(!e||!e.__CANCEL__)},Fg=Mm,Og=kg,Mg=Sg,Tg=Cg,jg=ig;function Ng(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jg("canceled")}var Bg=function(e){Ng(e),e.headers=e.headers||{},e.data=Og.call(e,e.data,e.headers,e.transformRequest),e.headers=Fg.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Fg.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||Tg.adapter;return t(e).then((function(t){return Ng(e),t.data=Og.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Mg(t)||(Ng(e),t&&t.response&&(t.response.data=Og.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ig=Mm,Lg=function(e,t){t=t||{};var n={};function r(e,t){return Ig.isPlainObject(e)&&Ig.isPlainObject(t)?Ig.merge(e,t):Ig.isPlainObject(t)?Ig.merge({},t):Ig.isArray(t)?t.slice():t}function i(n){return Ig.isUndefined(t[n])?Ig.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!Ig.isUndefined(t[e]))return r(void 0,t[e])}function s(n){return Ig.isUndefined(t[n])?Ig.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function a(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return Ig.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,r=t(e);Ig.isUndefined(r)&&t!==a||(n[e]=r)})),n},Rg={version:"0.25.0"},Pg=Rg.version,Hg={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Hg[e]=function(n){return Object(g["a"])(n)===e||"a"+(t<1?"n ":" ")+e}}));var zg={};function $g(e,t,n){if("object"!==Object(g["a"])(e))throw new TypeError("options must be an object");var r=Object.keys(e),i=r.length;while(i-- >0){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}}Hg.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Pg+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new Error(r(i," has been removed"+(t?" in "+t:"")));return t&&!zg[i]&&(zg[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var Ug={assertOptions:$g,validators:Hg},qg=Mm,Yg=Nm,Vg=Lm,Wg=Bg,Jg=Lg,Kg=Ug,Xg=Kg.validators;function Gg(e){this.defaults=e,this.interceptors={request:new Vg,response:new Vg}}Gg.prototype.request=function(e,t){if("string"===typeof e?(t=t||{},t.url=e):t=e||{},!t.url)throw new Error("Provided config url is not valid");t=Jg(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&Kg.assertOptions(n,{silentJSONParsing:Xg.transitional(Xg.boolean),forcedJSONParsing:Xg.transitional(Xg.boolean),clarifyTimeoutError:Xg.transitional(Xg.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!i){var a=[Wg,void 0];Array.prototype.unshift.apply(a,r),a=a.concat(s),o=Promise.resolve(t);while(a.length)o=o.then(a.shift(),a.shift());return o}var u=t;while(r.length){var c=r.shift(),l=r.shift();try{u=c(u)}catch(d){l(d);break}}try{o=Wg(u)}catch(d){return Promise.reject(d)}while(s.length)o=o.then(s.shift(),s.shift());return o},Gg.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=Jg(this.defaults,e),Yg(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},qg.forEach(["delete","get","head","options"],(function(e){Gg.prototype[e]=function(t,n){return this.request(Jg(n||{},{method:e,url:t,data:(n||{}).data}))}})),qg.forEach(["post","put","patch"],(function(e){Gg.prototype[e]=function(t,n,r){return this.request(Jg(r||{},{method:e,url:t,data:n}))}}));var Zg=Gg,Qg=ig;function ev(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new Qg(e),t(n.reason))}))}ev.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},ev.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},ev.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},ev.source=function(){var e,t=new ev((function(t){e=t}));return{token:t,cancel:e}};var tv=ev,nv=function(e){return function(t){return e.apply(null,t)}},rv=Mm,iv=function(e){return rv.isObject(e)&&!0===e.isAxiosError},ov=Mm,sv=sm,av=Zg,uv=Lg,cv=Cg;function lv(e){var t=new av(e),n=sv(av.prototype.request,t);return ov.extend(n,av.prototype,t),ov.extend(n,t),n.create=function(t){return lv(uv(e,t))},n}var dv=lv(cv);dv.Axios=av,dv.Cancel=ig,dv.CancelToken=tv,dv.isCancel=Sg,dv.VERSION=Rg.version,dv.all=function(e){return Promise.all(e)},dv.spread=nv,dv.isAxiosError=iv,om.exports=dv,om.exports.default=dv,"undefined"!==typeof TextDecoder&&new TextDecoder("utf8"),"function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder&&new TextEncoder;var hv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",fv=Array.prototype.slice.call(hv);function pv(e){return void 0===e}function mv(e){var t=Object.prototype.toString,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return n[t.call(e)]}function gv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!G(e))return e;var n={};for(var r in e){var i=e[r];void 0!==i&&(t.length>0&&t.includes(i)||(n[r]=i))}return n}function vv(e){return String.fromCharCode.apply(String,Object(a["a"])(e))}function yv(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=e.length,i=0;i<r;i++)n[i]=e.charCodeAt(i);return n}function bv(e){return e.getElementsByTagName("parsererror").length>0}function Dv(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return R(e)?e:t&&pv(e)?[]:[e]}function _v(e){return z(e)?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2F;/g,"/").replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&amp;/g,"&"):e}function wv(e){return z(e)?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;"):e}function Ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ev(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xv(e){return{toBe:e}}function Av(){return{type:"object",properties:{item:{type:["array","object"],properties:{"#text":{type:"any"},"@displayName":{type:"any"},"@role":{type:"number"}},items:{type:"object",properties:{"#text":{type:"any"},"@displayName":{type:"any"},"@role":{type:"number"}},required:["@role","@displayName","#text"]},required:["@role","@displayName","#text"]}},required:[],nullable:!0}}function kv(){return{type:"object",properties:{item:{type:["array","object"],properties:{"@t":{type:"number"},"@msgid":{type:"string"},"@type":{type:"number"},"@pinner":{type:"string"},"@pin_t":{type:"number"},"@thread":{type:"string"},"@thread_t":{type:"number"}},items:{type:"object",properties:{"@t":{type:"number"},"@msgid":{type:"string"},"@type":{type:"number"},"@pinner":{type:"string"},"@pin_t":{type:"number"},"@thread":{type:"string"},"@thread_t":{type:"number"}},required:["@t","@msgid","@pinner","@thread","@thread_t"]},required:["@t","@msgid","@pinner","@thread","@thread_t"]}},required:[],nullable:!0}}function Sv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["create","quit","invite","kick","subject","pin","unpin","remove_pin"],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:"object",properties:{message:{type:"object",properties:{"@type":{type:"string",notToBe:["error"]},zmext:{type:"object",properties:Cv(Cv({"@action":xv(e),operator:{type:"object",properties:{"#text":{type:"any"},"@displayName":{type:"any"}}},room:{type:"object"}},t?{buddylist:Av()}:{}),n?{pins:kv()}:{}),required:["@action","room"]}},required:["zmext"]}},required:["message"],additionalProperties:!1}}function Fv(e){var t={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},sns:{type:"object",properties:{args:{type:"object",properties:{arg:{type:["array"],items:{type:"any"}}}}}},zmext:{type:"object",properties:{"@id":{type:"string"},"@t":{type:"number"},msg_feature:{type:"number",enum:[4,12]},at:{type:"object",properties:{user:{type:["array","object"],properties:{"@jid":{type:"string"},"@s":{type:"number"},"@e":{type:"number"},"@t":{type:"number"}},items:{type:"object",properties:{"@jid":{type:"string"},"@s":{type:"number"},"@e":{type:"number"},"@t":{type:"number"}},required:["@jid","@s","@e","@t"]},required:["@jid","@s","@e","@t"]}}},rt:{type:"object",properties:{"@b":{type:"string"}}},from:{type:"object",properties:{"@n":{type:"any"},"@res":{type:"string"}}},reply:{type:"object",properties:{"@msg_id":{type:"string"},"@owner":{type:"string"},"@thread_t":{type:"number"}}}}}},required:["body"]}},required:["message"],additionalProperties:!1};return le(e)?e(t):t}(function(e){var t={};e.forEach((function(e,n){return t[e]=n}))})(fv),String.fromCharCode.bind(String),"function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),Sv(),Sv(["pin","unpin","remove_pin"],!1,!0),Sv(["invite"],!0,!1);var Ov=Fv();Fv((function(e){var t=or(e,"properties.message"),n=t.required,r=t.properties;return r.delay={type:"object"},n.push("delay"),e}));var Mv={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string"},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},sns:{type:"object",properties:{args:{type:"object",properties:{arg:{type:["array"],items:{type:"any"}}}}}},zmext:{type:"object",properties:{"@t":{type:"number"},from:{type:"object",properties:{"@n":{type:"any"},"@res":{type:"string"}}},deleted:{type:["array","object"],properties:{"@deleter":{type:"any"}},items:{type:"object",properties:{"@deleter":{type:"any"}}}}},required:["deleted"]}},required:["zmext"]}},required:["message"],additionalProperties:!1};Hd(Ov.properties.message);var Tv={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},giphyv2:{type:"object",properties:{"@id":{type:"string"},"@tags":{type:"any"},"@url":{type:"string"},pcInfo:{type:"object",properties:{"@size":{type:"number"},"@url":{type:"string"}}},mobileInfo:{type:"object",properties:{"@size":{type:"number"},"@url":{type:"string"}}},bigPicInfo:{type:"object",properties:{"@size":{type:"number"},"@url":{type:"string"}}}}}},required:["giphyv2"]}},required:["message"],additionalProperties:!1},jv={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},zmext:{type:"object",properties:{"@t":{type:"number"},msg_feature:{type:"number"},msg_type:{type:"number",enum:[1,6,5,81]},obj:{type:"object",properties:{"@id":{type:"string"},"@s":{type:"number"},"@nm":{type:"any"},"@f":{type:"number"},"@st":{type:"number"}}}},required:["obj","msg_type"]}}}},required:["message"],additionalProperties:!1},Nv={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},sns:{type:"object",properties:{args:{type:"object",properties:{arg:{type:"any"}}},format:{type:"string"}}},thread:{type:"string"},zmext:{type:"object",properties:{"@expire_t":{type:"number"},"@t":{type:"number"},msg_feature:{type:"number",enum:[32768,32780]},msg_type:{type:"number"},obj:{type:"object",properties:{"@f":{type:"number"},"@fs":{type:"number"},"@st":{type:"number"}}},rt:{type:"object",properties:{"@b":{type:"string"}}},from:{type:"object",properties:{"@n":{type:"any"},"@res":{type:"string"}}}}}},required:["body"]}},required:["message"],additionalProperties:!1},Bv="[object Number]";function Iv(e){return"number"==typeof e||P(e)&&I(e)==Bv}function Lv(e,t,n){return{keyword:e,message:"[Validator Error]: ".concat(t),instancePath:"/".concat(n.join("/"))}}function Rv(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=n.length,i=!r,o=0;o<r;o++){if(t=n[o],z(t)&&null!=e[t])return!0;if(R(t)&&(i=t.every((function(t){return null!=e[t]})),i))return!0}return i}function Pv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!G(t))return!0;var r=t.type,i=t.toBe,o=t.notToBe,s=t.items,u=void 0===s?[]:s,c=t.properties,l=void 0===c?{}:c,d=t.required,h=void 0===d?[]:d,f=t.oneRequired,p=void 0===f?[]:f,m=t.additionalProperties,g=void 0===m||m,v=t.nullable,y=void 0===v||v,b=t.enum,D=t.exclude,_=void 0===D?[]:D,w=mv(e);if(!y&&null==e)throw Lv("nullable","Cannot be null or undefined",n);if(R(r)){var E=r.some((function(e){return w===e}))||y&&null==e;if(!E)throw Lv("type","must be ".concat(r.join(" or "),". Actual value type: ").concat(w),n)}else if(z(r)&&w!==r&&"any"!==r&&(!y||null!=e))throw Lv("type","must be ".concat(r,". Actual value type: ").concat(w),n);if(G(e)){for(var C,x=0;x<h.length;x++)if(C=h[x],null==e[C])throw Lv("required","must have required property '".concat(C,"'"),n);for(var A,k=0;k<_.length;k++)if(A=_[k],null!=e[A])throw Lv("exclude","must not have exclude property '".concat(A,"'"),n);if(!Rv(e,p)){var S=p.map((function(e,t){return"".concat(++t,". ").concat(e.toString(),"\n")}));throw Lv("required","must choose one required property: \n".concat(S.toString().replace(",","")),n)}if(!g)for(var F,O,M=Object.keys(e),T=Object.keys(l),j=0;j<M.length;j++)if(F=M[j],O=T.includes(F),!O)throw Lv("additionalProperties","must NOT have additional properties, additional property: ".concat(F),n);for(var N in e){var B=e[N],I=l[N];try{Pv(B,I,[].concat(Object(a["a"])(n),[N]))}catch(KD){throw KD}}}else if(R(e))for(var L,P=0;P<e.length;P++){L=e[P];try{Pv(L,u,[].concat(Object(a["a"])(n),["item[".concat(P,"]")]))}catch(KD){throw KD}}else if(null!=i){var H=Lv("toBe","The value must be equal with ".concat(String(i)),n);if(R(i)){var $=i.some((function(t){return t===e}));if(!$)throw H}else if(e!==i)throw H}else if(null!=o){var U=Lv("notToBe","The value cannot be equal with ".concat(String(o)),n);if(R(o)){var q=o.some((function(t){return t===e}));if(q)throw U}else if(e===o)throw U}else if(Iv(e)&&R(b)){var Y=b.includes(e);if(!Y)throw Lv("enum","must be equal to one of the allowed values",n)}return!0}function Hv(e){return function(t){return Pv(t,e)}}var zv=Hv(Tv),$v=Hv(jv),Uv=Hv(Nv),qv=Hv(Mv),Yv={},Vv={},Wv={};(function(e){var t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+t+"]["+n+"]*",i=new RegExp("^"+r+"$"),o=function(e,t){var n=[],r=t.exec(e);while(r){var i=[];i.startIndex=t.lastIndex-r[0].length;for(var o=r.length,s=0;s<o;s++)i.push(r[s]);n.push(i),r=t.exec(e)}return n},s=function(e){var t=i.exec(e);return!(null===t||"undefined"===typeof t)};e.isExist=function(e){return"undefined"!==typeof e},e.isEmptyObject=function(e){return 0===Object.keys(e).length},e.merge=function(e,t,n){if(t)for(var r=Object.keys(t),i=r.length,o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(e,t,n){var r={};if(!e)return t;for(var i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},e.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"===typeof t?!!t(e,n):"strict"===t)},e.isName=s,e.getAllMatches=o,e.nameRegexp=r})(Wv);var Jv=Wv,Kv=function e(t,n,r){var i={};if(!n.alwaysCreateTextNode&&(!t.child||Jv.isEmptyObject(t.child))&&(!t.attrsMap||Jv.isEmptyObject(t.attrsMap)))return Jv.isExist(t.val)?t.val:"";if(Jv.isExist(t.val)&&("string"!==typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)){var o=Jv.isTagNameInArrayMode(t.tagname,n.arrayMode,r);i[n.textNodeName]=o?[t.val]:t.val}Jv.merge(i,t.attrsMap,n.arrayMode);for(var s=Object.keys(t.child),a=0;a<s.length;a++){var u=s[a];if(t.child[u]&&t.child[u].length>1)for(var c in i[u]=[],t.child[u])t.child[u].hasOwnProperty(c)&&i[u].push(e(t.child[u][c],n,u));else{var l=e(t.child[u][0],n,u),d=!0===n.arrayMode&&"object"===Object(g["a"])(l)||Jv.isTagNameInArrayMode(u,n.arrayMode,r);i[u]=d?[l]:l}}return i};Vv.convertToJson=Kv;var Xv={},Gv=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}},Zv=/^[-+]?0x[a-fA-F0-9]+$/,Qv=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var ey={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Object.assign({},ey,t),!e||"string"!==typeof e)return e;var n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&Zv.test(n))return Number.parseInt(n,16);var r=Qv.exec(n);if(r){var i=r[1],o=r[2],s=ny(r[3]),a=r[4]||r[6];if(!t.leadingZeros&&o.length>0&&i&&"."!==n[2])return e;if(!t.leadingZeros&&o.length>0&&!i&&"."!==n[1])return e;var u=Number(n),c=""+u;return-1!==c.search(/[eE]/)||a?t.eNotation?u:e:-1!==n.indexOf(".")?"0"===c&&""===s||c===s||i&&c==="-"+s?u:e:o?s===c||i+s===c?u:e:n===c||n===i+c?u:e}return e}function ny(e){return e&&-1!==e.indexOf(".")?(e=e.replace(/0+$/,""),"."===e?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e):e}var ry=ty,iy=Wv,oy=Wv.buildOptions,sy=Gv,ay=ry;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,iy.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var uy={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};Xv.defaultOptions=uy;var cy=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function ly(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=n.tagValueProcessor(t,e),t=hy(t,n.parseNodeValue,n.numParseOptions)),t}function dy(e,t){if(t.ignoreNameSpace){var n=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===n[0])return"";2===n.length&&(e=r+n[1])}return e}function hy(e,t,n){if(t&&"string"===typeof e){var r=e.trim();return"true"===r||"false"!==r&&ay(e,n)}return iy.isExist(e)?e:""}Xv.props=cy;var fy=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function py(e,t){if(!t.ignoreAttributes&&"string"===typeof e){e=e.replace(/\r?\n/g," ");for(var n=iy.getAllMatches(e,fy),r=n.length,i={},o=0;o<r;o++){var s=dy(n[o][1],t);s.length&&(void 0!==n[o][4]?(t.trimValues&&(n[o][4]=n[o][4].trim()),n[o][4]=t.attrValueProcessor(n[o][4],s),i[t.attributeNamePrefix+s]=hy(n[o][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+s]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){var a={};return a[t.attrNodeName]=i,a}return i}}var my=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=oy(t,uy,cy);for(var n=new sy("!xml"),r=n,i="",o=0;o<e.length;o++){var s=e[o];if("<"===s)if("/"===e[o+1]){var a=vy(e,">",o,"Closing Tag is not closed."),u=e.substring(o+2,a).trim();if(t.ignoreNameSpace){var c=u.indexOf(":");-1!==c&&(u=u.substr(c+1))}r&&(r.val?r.val=iy.getValue(r.val)+""+ly(u,i,t):r.val=ly(u,i,t)),t.stopNodes.length&&t.stopNodes.includes(r.tagname)&&(r.child=[],void 0==r.attrsMap&&(r.attrsMap={}),r.val=e.substr(r.startIndex+1,o-r.startIndex-1)),r=r.parent,i="",o=a}else if("?"===e[o+1])o=vy(e,"?>",o,"Pi Tag is not closed.");else if("!--"===e.substr(o+1,3))o=vy(e,"--\x3e",o,"Comment is not closed.");else if("!D"===e.substr(o+1,2)){var l=vy(e,">",o,"DOCTYPE is not closed."),d=e.substring(o,l);o=d.indexOf("[")>=0?e.indexOf("]>",o)+1:l}else if("!["===e.substr(o+1,2)){var h=vy(e,"]]>",o,"CDATA is not closed.")-2,f=e.substring(o+9,h);if(i&&(r.val=iy.getValue(r.val)+""+ly(r.tagname,i,t),i=""),t.cdataTagName){var p=new sy(t.cdataTagName,r,f);r.addChild(p),r.val=iy.getValue(r.val)+t.cdataPositionChar,f&&(p.val=f)}else r.val=(r.val||"")+(f||"");o=h+2}else{var m=gy(e,o+1),g=m.data,v=m.index,y=g.indexOf(" "),b=g,D=!0;if(-1!==y&&(b=g.substr(0,y).replace(/\s\s*$/,""),g=g.substr(y+1)),t.ignoreNameSpace){var _=b.indexOf(":");-1!==_&&(b=b.substr(_+1),D=b!==m.data.substr(_+1))}if(r&&i&&"!xml"!==r.tagname&&(r.val=iy.getValue(r.val)+""+ly(r.tagname,i,t)),g.length>0&&g.lastIndexOf("/")===g.length-1){"/"===b[b.length-1]?(b=b.substr(0,b.length-1),g=b):g=g.substr(0,g.length-1);var w=new sy(b,r,"");b!==g&&(w.attrsMap=py(g,t)),r.addChild(w)}else{var E=new sy(b,r);t.stopNodes.length&&t.stopNodes.includes(E.tagname)&&(E.startIndex=v),b!==g&&D&&(E.attrsMap=py(g,t)),r.addChild(E),r=E}i="",o=v}else i+=e[o]}return n};function gy(e,t){for(var n,r="",i=t;i<e.length;i++){var o=e[i];if(n)o===n&&(n="");else if('"'===o||"'"===o)n=o;else{if(">"===o)return{data:r,index:i};"\t"===o&&(o=" ")}r+=o}}function vy(e,t,n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}Xv.getTraversalObj=my;var yy={},by=Wv,Dy={allowBooleanAttributes:!1},_y=["allowBooleanAttributes"];function wy(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return My("InvalidXml","XML declaration allowed only at the start of the document.",Ny(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function Ey(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}yy.validate=function(e,t){t=by.buildOptions(t,Dy,_y);var n=[],r=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=wy(e,o),o.err)return o}else{if("<"!==e[o]){if(" "===e[o]||"\t"===e[o]||"\n"===e[o]||"\r"===e[o])continue;return My("InvalidChar","char '"+e[o]+"' is not expected.",Ny(e,o))}var s=o;if(o++,"!"===e[o]){o=Ey(e,o);continue}var a=!1;"/"===e[o]&&(a=!0,o++);for(var u="";o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)u+=e[o];if(u=u.trim(),"/"===u[u.length-1]&&(u=u.substring(0,u.length-1),o--),!jy(u)){var c=void 0;return c=0===u.trim().length?"Invalid space after '<'.":"Tag '"+u+"' is an invalid name.",My("InvalidTag",c,Ny(e,o))}var l=Ay(e,o);if(!1===l)return My("InvalidAttr","Attributes for '"+u+"' have open quote.",Ny(e,o));var d=l.value;if(o=l.index,"/"===d[d.length-1]){var h=o-d.length;d=d.substring(0,d.length-1);var f=Sy(d,t);if(!0!==f)return My(f.err.code,f.err.msg,Ny(e,h+f.err.line));r=!0}else if(a){if(!l.tagClosed)return My("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",Ny(e,o));if(d.trim().length>0)return My("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",Ny(e,s));var p=n.pop();if(u!==p.tagName){var m=Ny(e,p.tagStartPos);return My("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+u+"'.",Ny(e,s))}0==n.length&&(i=!0)}else{var g=Sy(d,t);if(!0!==g)return My(g.err.code,g.err.msg,Ny(e,o-d.length+g.err.line));if(!0===i)return My("InvalidXml","Multiple possible root nodes found.",Ny(e,o));n.push({tagName:u,tagStartPos:s}),r=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=Ey(e,o);continue}if("?"!==e[o+1])break;if(o=wy(e,++o),o.err)return o}else if("&"===e[o]){var v=Oy(e,o);if(-1==v)return My("InvalidChar","char '&' is not expected.",Ny(e,o));o=v}"<"===e[o]&&o--}return r?1==n.length?My("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Ny(e,n[0].tagStartPos)):!(n.length>0)||My("InvalidXml","Invalid '"+JSON.stringify(n.map((function(e){return e.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):My("InvalidXml","Start tag expected.",1)};var Cy='"',xy="'";function Ay(e,t){for(var n="",r="",i=!1;t<e.length;t++){if(e[t]===Cy||e[t]===xy)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}var ky=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Sy(e,t){for(var n=by.getAllMatches(e,ky),r={},i=0;i<n.length;i++){if(0===n[i][1].length)return My("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",By(n[i]));if(void 0===n[i][3]&&!t.allowBooleanAttributes)return My("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",By(n[i]));var o=n[i][2];if(!Ty(o))return My("InvalidAttr","Attribute '"+o+"' is an invalid name.",By(n[i]));if(r.hasOwnProperty(o))return My("InvalidAttr","Attribute '"+o+"' is repeated.",By(n[i]));r[o]=1}return!0}function Fy(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}function Oy(e,t){if(t++,";"===e[t])return-1;if("#"===e[t])return t++,Fy(e,t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function My(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function Ty(e){return by.isName(e)}function jy(e){return by.isName(e)}function Ny(e,t){var n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function By(e){return e.startIndex+e[1].length}var Iy={},Ly=function(e){return String.fromCharCode(e)},Ry={nilChar:Ly(176),missingChar:Ly(201),nilPremitive:Ly(175),missingPremitive:Ly(200),emptyChar:Ly(178),emptyValue:Ly(177),boundryChar:Ly(179),objStart:Ly(198),arrStart:Ly(204),arrayEnd:Ly(185)},Py=[Ry.nilChar,Ry.nilPremitive,Ry.missingChar,Ry.missingPremitive,Ry.boundryChar,Ry.emptyChar,Ry.emptyValue,Ry.arrayEnd,Ry.objStart,Ry.arrStart],Hy=function e(t,n,r){if("string"===typeof n)return t&&t[0]&&void 0!==t[0].val?zy(t[0].val):zy(t);var i=qy(t);if(!0===i){var o="";if(Array.isArray(n)){o+=Ry.arrStart;var s=n[0],a=t.length;if("string"===typeof s)for(var u=0;u<a;u++){var c=zy(t[u].val);o=$y(o,c)}else for(var l=0;l<a;l++){var d=e(t[l],s,r);o=$y(o,d)}o+=Ry.arrayEnd}else{o+=Ry.objStart;var h=Object.keys(n);for(var f in Array.isArray(t)&&(t=t[0]),h){var p=h[f],m=void 0;m=!r.ignoreAttributes&&t.attrsMap&&t.attrsMap[p]?e(t.attrsMap[p],n[p],r):p===r.textNodeName?e(t.val,n[p],r):e(t.child[p],n[p],r),o=$y(o,m)}}return o}return i},zy=function(e){switch(e){case void 0:return Ry.missingPremitive;case null:return Ry.nilPremitive;case"":return Ry.emptyValue;default:return e}},$y=function(e,t){return Uy(t[0])||Uy(e[e.length-1])||(e+=Ry.boundryChar),e+t},Uy=function(e){return-1!==Py.indexOf(e)};function qy(e){return void 0===e?Ry.missingChar:null===e?Ry.nilChar:!(e.child&&0===Object.keys(e.child).length&&(!e.attrsMap||0===Object.keys(e.attrsMap).length))||Ry.emptyChar}var Yy=Xv,Vy=Wv.buildOptions,Wy=function(e,t,n){return n=Vy(n,Yy.defaultOptions,Yy.props),Hy(e,t,n)};Iy.convert2nimn=Wy;var Jy={},Ky=Wv,Xy=Wv.buildOptions,Gy=Xv,Zy=function(e,t){return t=Xy(t,Gy.defaultOptions,Gy.props),t.indentBy=t.indentBy||"",Qy(e,t)},Qy=function e(t,n,r){for(var i="{",o=Object.keys(t.child),s=0;s<o.length;s++){var a=o[s];if(t.child[a]&&t.child[a].length>1){for(var u in i+='"'+a+'" : [ ',t.child[a])i+=e(t.child[a][u],n)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+a+'" : '+e(t.child[a][0],n)+" ,"}return Ky.merge(i,t.attrsMap),Ky.isEmptyObject(i)?Ky.isExist(t.val)?t.val:"":(Ky.isExist(t.val)&&("string"!==typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&(i+='"'+n.textNodeName+'" : '+eb(t.val)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}")};function eb(e){return!0!==e&&!1!==e&&isNaN(e)?'"'+e+'"':e}Jy.convertToJsonString=Zy;var tb=Wv.buildOptions,nb={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},rb=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function ib(e){this.options=tb(e,nb,rb),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=fb),this.options.cdataTagName?this.isCDATA=pb:this.isCDATA=function(){return!1},this.replaceCDATAstr=sb,this.replaceCDATAarr=ab,this.processTextOrObjNode=ob,this.options.format?(this.indentate=hb,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=db,this.buildObjNode=cb):(this.buildTextNode=lb,this.buildObjNode=ub),this.buildTextValNode=lb,this.buildObjectNode=ub}function ob(e,t,n){var r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function sb(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function ab(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function ub(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function cb(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function lb(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function db(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function hb(e){return this.options.indentBy.repeat(e)}function fb(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function pb(e){return e===this.options.cdataTagName}ib.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e=Object(p["a"])({},this.options.rootNodeName,e)),this.j2x(e,0).val},ib.prototype.j2x=function(e,t){var n="",r="";for(var i in e)if("undefined"===typeof e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!==Object(g["a"])(e[i])){var o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else for(var s=e[i].length,a=0;a<s;a++){var u=e[i][a];"undefined"===typeof u||(null===u?r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"===Object(g["a"])(u)?r+=this.processTextOrObjNode(u,i,t):r+=this.buildTextNode(u,i,"",t))}else if(this.options.attrNodeName&&i===this.options.attrNodeName)for(var c=Object.keys(e[i]),l=c.length,d=0;d<l;d++)n+=" "+c[d]+'="'+this.options.attrValueProcessor(""+e[i][c[d]])+'"';else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}};var mb=ib;function gb(e){return Iv(e)&&e!=+e}function vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vb(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(function(e){var t=Vv,n=Xv,r=Xv,i=Wv.buildOptions,o=yy;e.parse=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(a){!0===a&&(a={});var u=o.validate(e,a);if(!0!==u)throw Error(u.err.msg)}s.parseTrueNumberOnly&&!1!==s.parseNodeValue&&!s.numParseOptions&&(s.numParseOptions={leadingZeros:!1});var c=i(s,r.defaultOptions,r.props),l=n.getTraversalObj(e,c);return t.convertToJson(l,c)},e.convertTonimn=Iy.convert2nimn,e.getTraversalObj=n.getTraversalObj,e.convertToJson=t.convertToJson,e.convertToJsonString=Jy.convertToJsonString,e.validate=o.validate,e.j2xParser=mb,e.parseToNimn=function(t,n,r){return e.convertTonimn(e.getTraversalObj(t,r),n,r)}})(Yv);var bb={attributeNamePrefix:"@",textNodeName:"#text",parseNodeValue:!0,parseAttributeValue:!0,parseTrueNumberOnly:!1,selfClosingEmptyTagValue:null,stopNodes:[]},Db="__parent__",_b="__tagName__";function wb(e){return/^<\/[^<\/>\s]+>$/.test(e)}function Eb(e){if(z(e)){if("<"!==e[0])return e;if("?"!==e[1]&&"!--"!==e.substring(1,4)&&"!D"!==e.substring(1,3)&&"!["!==e.substring(1,3))return e}}function Cb(e,t,n){if(!z(e)||!z(t)||!z(n))return null;var r=Tb(t),i=Tb(n),o=wb(n);return r===i&&o?e:""===e?null:e}function xb(e){for(var t,n,r,i=e.match(/<[^>]+>/g)||[],o=(e.match(/>[^<>]*</g)||[]).map((function(e){return e.replace(/<|>/g,"")})),s=[],a=0;a<i.length;a++)n=Eb(i[a]),r=Eb(i[a+1]),t=Cb(o[a],n,r),n&&s.push(n),n&&null!=t&&s.push(t);return s}function Ab(e,t){t=G(t)?yb(yb({},bb),t):bb;for(var n,r=xb(e),i={},o=i,s=r.length,a=[],u=0;u<s;u++){n=r[u];var c=Fb(n,o,a,t);o=c}if(a.length>0){var l=a[a.length-1];throw new Error("XML elements must be closed. Unclosed tag: ".concat(l))}return i}function kb(e,t){if(G(e)){var n=e[_b],r=e[Db],i=r[n];R(i)?i.forEach((function(e,n){Sb(e,t,n)})):Sb(e,t)}}function Sb(e,t,n){if(G(e)){var r=t.textNodeName,i=t.selfClosingEmptyTagValue,o=e[_b],s=e[Db],a=Object.keys(e).filter((function(e){return e!==Db&&e!==_b})),u=e[r],c=0===a.length,l=a.toString()===r;c?null!=n?s[o][n]=i:s[o]=i:l&&(null!=n?s[o][n]=u:s[o]=u),delete e[_b],delete e[Db]}}function Fb(e,t,n,r){var i=r.textNodeName,o=r.stopNodes,s=r.parseNodeValue,a=r.parseTrueNumberOnly,u=r.tagValueProcessor,c=Tb(e);if(/^(<[^<>\/]{1}>|<[^<>\/]{1}[^<>]*[^<>\/]{1}>)$/.test(e)){var l=Ob(e,t,r);return n.push(l[_b]),l}if(/^<[^<>]+\/>$/.test(e)){var d=Ob(e,t,r);return kb(d,r),t}if(/^<\/[^<>]+>$/.test(e)){var h=t,f=h[_b],p=n[n.length-1];return t=h[Db],p===f&&c===f&&n.pop(),kb(h,r),t}if(0===n.length)return t;var m=t[i];if(null!=m)t[i]=m.toString()+e;else{var g=t[_b],v=null===o||void 0===o?void 0:o.includes(g),y=s&&!v?Nb(e,a):e;!v&&le(u)&&(y=u(y,g)),t[i]=y}return t}function Ob(e,t,n){var r=Tb(e);if(!r)return t;var i=n.alwaysbeArrayTagPaths,o=e.replace(new RegExp("(<".concat(r,"|>|/>)"),"g"),""),s=jb(r,o,t,n);s[_b]=r,s[Db]=t;var u=t[r],c=Mb(r,t);return R(u)?t[r]=[].concat(Object(a["a"])(u),[s]):void 0!==u?t[r]=[u,s]:R(i)&&i.includes(c)?t[r]=[s]:t[r]=s,s}function Mb(e,t){try{var n=[e];while(G(t[Db])&&t[_b])n.push(t[_b]),t=t[Db];return n.reverse(),n.join(".")}catch(KD){return""}}function Tb(e){if(!z(e))return null;var t=e.match(/([^<>\/\s]+)([\s\/]|>$)/)||[],n=Object(f["a"])(t,2),r=n[1];return r}function jb(e,t,n,r){var i=t.match(/([^'"\s<>=]+=("[^"<>]*"|'[^'<>]*')|[^'"\s<>=]+)/g),o=r.stopAttrPaths,s=r.attributeNamePrefix,a=r.attrValueProcessor,u=r.parseAttributeValue,c=r.parseTrueNumberOnly,l={};if(R(i))for(var d=0;d<i.length;d++){var h=i[d],p=!1,m="",g="",v=null;if(/[^'"\s<>=]+=("[^"<>]*"|'[^'<>]*')/g.test(h)){var y=h.match(/([^'"\s<>=]+)=("[^"<>]*"|'[^'<>]*')/)||[],b=Object(f["a"])(y,3);if(g=b[1],v=b[2],null==g||null==v)continue;m=Mb("".concat(e,".").concat(s).concat(g),n),p=R(o)&&o.includes(m),v=v.replace(/["']([\s\S]*)["']/g,"$1"),v=u&&!p?Nb(v,c):v}else g=h,m=Mb("".concat(e,".").concat(s).concat(g),n),p=R(o)&&o.includes(m),v=!0;!p&&le(a)?l["".concat(s).concat(g)]=a(v,g):l["".concat(s).concat(g)]=v}return l}function Nb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("true"===e)return!0;if("false"===e)return!1;var n=Number(e);return t&&!/^[+0]\d+$/g.test(e)?e:/^\s*$/g.test(e)||!Iv(n)||gb(n)?e.toString():n}function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ib(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lb=Yv.j2xParser,Rb={attributeNamePrefix:"@",textNodeName:"#text",parseNodeValue:!0,parseAttributeValue:!0,parseTrueNumberOnly:!1,selfClosingEmptyTagValue:void 0,tagValueProcessor:function(e){return zb(e)},attrValueProcessor:function(e){return zb(e)},stopNodes:["body"]},Pb={attributeNamePrefix:"@",textNodeName:"#text",ignoreAttributes:!1,format:!1,indentBy:"  ",supressEmptyNode:!0,tagValueProcessor:function(e){return $b(e)},attrValueProcessor:function(e){return $b(e)}},Hb=new Lb(Pb);function zb(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return z(e)?(t&&(e=_v(e)),e):e}function $b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!z(e))return e;var n=/[\b\f\r\v\0]/g;return t&&(e=wv(e)),n.test(e)&&(e=e.replace(n,"")),e}function Ub(e,t){if(!z(e))try{var n=new XMLSerializer;e=n.serializeToString(e)}catch(KD){throw KD}t=G(t)?Ib(Ib({},Rb),t):Rb;try{return Ab(e,t)}catch(KD){throw KD}}function qb(e){try{return Hb.parse(e)}catch(KD){throw KD}}var Yb=function(){function e(t,n){Object(l["a"])(this,e),this.errorCode=void 0,this.errorInfo=void 0,this.errorCode=t||null,this.errorInfo=n||null}return Object(d["a"])(e,null,[{key:"createError",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n instanceof e){if(r){var i=n.errorInfo;return new e(t,i)}return n}return new e(t,n)}}]),e}();function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jb(e){return{toBe:e}}function Kb(){return{type:"object",properties:{item:{type:["array","object"],properties:{"#text":{type:"any"},"@displayName":{type:"any"},"@role":{type:"number"}},items:{type:"object",properties:{"#text":{type:"any"},"@displayName":{type:"any"},"@role":{type:"number"}},required:["@role","@displayName","#text"]},required:["@role","@displayName","#text"]}},required:[],nullable:!0}}function Xb(){return{type:"object",properties:{item:{type:["array","object"],properties:{"@t":{type:"number"},"@msgid":{type:"string"},"@type":{type:"number"},"@pinner":{type:"string"},"@pin_t":{type:"number"},"@thread":{type:"string"},"@thread_t":{type:"number"}},items:{type:"object",properties:{"@t":{type:"number"},"@msgid":{type:"string"},"@type":{type:"number"},"@pinner":{type:"string"},"@pin_t":{type:"number"},"@thread":{type:"string"},"@thread_t":{type:"number"}},required:["@t","@msgid","@pinner","@thread","@thread_t"]},required:["@t","@msgid","@pinner","@thread","@thread_t"]}},required:[],nullable:!0}}function Gb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["create","quit","invite","kick","subject","pin","unpin","remove_pin","transfer","assign","edit","delete"],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"object",properties:{message:{type:"object",properties:{"@type":{type:"string",notToBe:["error"]},zmext:{type:"object",properties:Wb(Wb({"@action":Jb(e),operator:{type:"object",properties:{"#text":{type:"any"},"@displayName":{type:"any"}}},room:{type:"object"}},t?{buddylist:Kb()}:{}),n?{pins:Xb()}:{}),required:["@action","room"]}},required:["zmext"]}},required:["message"],additionalProperties:!1}}var Zb=Gb();Gb(["pin","unpin","remove_pin"],!1,!0),Gb(["invite"],!0,!1);var Qb={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},composing:{type:"object",properties:{xmlns:"string"}}},required:["@from","@xmlns","@to","@type","composing"]}},required:["message"]},eD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},inactive:{type:"object",properties:{xmlns:"string"}}},required:["@from","@xmlns","@to","@type","inactive"]}},required:["message"]},tD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},zmext:{type:"object",properties:{"@t":{type:"number"},msg_feature:{type:"number"},msg_type:{type:"number",enum:[10]},obj:{type:"object",properties:{"@id":{type:"string"},"@s":{type:"number"},"@nm":{type:"any"},"@f":{type:"number"},"@st":{type:"number"}}}},required:["obj","msg_type"]}},required:["@from","@id","@to","@type","zmext"]}},required:["message"],additionalProperties:!1},nD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},gone:{type:"object",properties:{xmlns:"string"}}},required:["@from","@xmlns","@to","@type","gone"]}},required:["message"]},rD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},active:{type:"object",properties:{xmlns:"string"}}},exclude:["body","zmext"],required:["@from","@xmlns","@to","@type","active"]}},required:["message"]},iD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},zmext:{type:"object",properties:{"@t":{type:"number"},msg_type:{type:"number"},msg_feature:{type:"number",enum:[1036,1026,1038,1024,128,140,130,142,2048,2060,2050,2062,4096,4108,32768,32780]}},required:["obj","msg_feature"]}},required:["@from","@id","@to","@type","zmext"]}},required:["message"],additionalProperties:!1},oD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},zmext:{type:"object",properties:{"@t":{type:"number"},msg_type:{type:"number",enum:[51,52,53,54,55,56,57]}},required:["msg_type"]},zext_call:{type:"object",properties:{action:{type:"string"},raw:{type:"string"},src_deviceid:{type:"string"},caption:{type:"string"},notify_other_devices:{type:"number"},group_name:{type:"string"},group_member_count:{type:"number"},mid:{type:"string"}}}},required:["@from","@id","@to","@type","zmext","zext_call"]}},required:["message"],additionalProperties:!1};function sD(){var e=Hd(Ov.properties.message);try{e.properties.zmext.properties.msg_feature.enum.push(32768,0)}catch(KD){}return e}function aD(e){var t={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},sns:{type:"object",properties:{args:{type:"object",properties:{arg:{type:["array"],items:{type:"any"}}}}}},zmext:{type:"object",properties:{"@id":{type:"string"},"@t":{type:"number"},msg_feature:{type:"number",enum:[4,12,33554436,33554432,0]},at:{type:"object",properties:{user:{type:["array","object"],properties:{"@jid":{type:"string"},"@s":{type:"number"},"@e":{type:"number"},"@t":{type:"number"}},items:{type:"object",properties:{"@jid":{type:"string"},"@s":{type:"number"},"@e":{type:"number"},"@t":{type:"number"}},required:["@jid","@s","@e","@t"]},required:["@jid","@s","@e","@t"]}}},rt:{type:"object",properties:{"@b":{type:"string"}}},from:{type:"object",properties:{"@n":{type:"any"},"@res":{type:"string"}}},reply:{type:"object",properties:{"@msg_id":{type:"string"},"@owner":{type:"string"},"@thread_t":{type:"number"}}}}}},required:["body"]}},required:["message"],additionalProperties:!1};return le(e)?e(t):t}sD();var uD=aD();aD((function(e){var t=or(e,"properties.message"),n=t.required,r=t.properties;return r.delay={type:"object"},n.push("delay"),e}));var cD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},notify:{type:"object",properties:{payload:{type:"object",properties:{pmc:{type:"string"}},required:["pmc"]}},required:["payload"]}},required:["@from","@to","@type","notify"]}},required:["message"]},lD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@id":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},body:{type:"any",nullable:!1},zmext:{type:"object",properties:{"@t":{type:"number"},msg_feature:{type:"number"},msg_type:{type:"number",enum:[81]},obj:{type:"object",properties:{"@id":{type:"string"},"@s":{type:"number"},"@nm":{type:"any"},"@f":{type:"number"},"@st":{type:"number"}}}},required:["obj","msg_type"]}}}},required:["message"],additionalProperties:!1},dD={type:"object",properties:{message:{type:"object",properties:{"@from":{type:"string"},"@to":{type:"string"},"@type":{type:"string",notToBe:["error"]},"@xmlns":{type:"string"},notify:{type:"object",properties:{payload:{type:"object",properties:{reminder:{type:"string"}},required:["reminder"]}},required:["payload"]}},required:["@from","@to","@type","notify"]}},required:["message"]},hD=Hv(uD),fD=Hv(cD),pD=Hv(Zb),mD=Hv(Qb),gD=Hv(eD),vD=Hv(tD),yD=Hv(nD),bD=Hv(rD),DD=Hv(iD),_D=Hv(oD),wD=Hv(lD),ED=Hv(dD),CD=function(){function e(){Object(l["a"])(this,e)}return Object(d["a"])(e,null,[{key:"userFormatToChat",value:function(e){var t=[];return null!==e&&void 0!==e&&e.length?(t=e.map((function(e){return{jid:e.jid,accountID:e.orgUnit||"",email:e.email,name:e.name,type:0,firstname:e.firstname,lastname:e.lastname,nickname:e.nickname,avatar:e.avatar||"",sType:lo.chat}})),t):[]}},{key:"getChannelTypeByOption",value:function(e){var t=Fo.kMUCFlag_Room,n=Fo.kMUCFlag_Normal;return t&+e?2:n&+e?3:2}},{key:"getFileType",value:function(e){var t;return Qo.some((function(n){return!!(e&+n[1])&&(t=n[0],!0)})),t}},{key:"getMixMsgFileType",value:function(e){if(!e)return 0;var t=e.toLowerCase(),n=0;return Qo.some((function(e){return String(e[0]).toLowerCase()===t&&(n=parseInt(e[1]),!0)})),n}}]),e}(),xD=function(){function e(){Object(l["a"])(this,e)}return Object(d["a"])(e,null,[{key:"convertFontStyte2Base64",value:function(e){if(null==e)return null;var t={item:[]};t.item=e;var n=Lo.encode(t).finish(),r=btoa(vv(n));return r}},{key:"_getFontStyte",value:function(e){try{var t=or(e,"message.zmext.rt.@b");if(!t)return;var n=atob(t),r=yv(n),i=Lo.decode(r),o=i.item;return o}catch(KD){return}}}]),e}();function AD(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}function kD(e){return e!==e}function SD(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function FD(e,t,n){return t===t?SD(e,t,n):AD(e,kD,n)}function OD(e,t){var n=null==e?0:e.length;return!!n&&FD(e,t,0)>-1}function MD(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}function TD(){}var jD=1/0,ND=Be&&1/Fu(new Be([,-0]))[1]==jD?function(e){return new Be(e)}:TD,BD=ND,ID=200;function LD(e,t,n){var r=-1,i=OD,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=MD;else if(o>=ID){var c=t?null:BD(e);if(c)return Fu(c);s=!1,i=wu,u=new Du}else u=t?[]:a;e:while(++r<o){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,s&&d===d){var h=u.length;while(h--)if(u[h]===d)continue e;t&&u.push(d),a.push(l)}else i(u,d,n)||(u!==a&&u.push(d),a.push(l))}return a}function RD(e){return e&&e.length?LD(e):[]}var PD={COMMON_SELF:"You",XML_BODY_SENDYOUIMG:"{0} has sent you an image",XML_BODY_SENDYOUFILE:"{0} has sent you a file",XML_BODY_SENDYOUIMGS:"{0} sent you images",XML_BODY_SENDYOUFILES:"{0} sent you files",XML_FORMAT_SENDMSGINCHANNEL:"%1$@ in %2$@: %3$@",XML_FORMAT_SENDIMGINCHANNEL:"%1$@ sent you an image",XML_FORMAT_SENDFILEINCHANNEL:"%1$@ sent you a file",XML_FORMAT_SENDIMGINCHANNELS:"%1$@ in %2$@ sent you images",XML_FORMAT_SENDFILEINCHANNELS:"%1$@ in %2$@ sent you files",SYSTEM_CREATECHANNEL:"{0} created the channel",SYSTEM_MSGREVOKED:"This message has been revoked",SYSTEM_JOINCHANNEL:"{0} joined the channel",SYSTEM_QUITCHANNEL:"{0} quit this channel",SYSTEM_INVITE:"{0} invited {1}",SYSTEM_KICKOUT:"{0} was kicked out of the channel by {1}",SYSTEM_RENAME:"The channel was renamed {0}",SYSTEM_PIN:"{0} pinned a message to this channel",SYSTEM_UNPIN:"{0} unpinned a message to this channel"},HD={COMMON_SELF:"self",XML_BODY_SENDYOUIMG:"send_image",SYSTEM_CREATECHANNEL:"create_channel",SYSTEM_MSGREVOKED:"message_revoke",SYSTEM_JOINCHANNEL:"join_channel",SYSTEM_QUITCHANNEL:"exit_channel",SYSTEM_INVITE:"invite",SYSTEM_KICKOUT:"kick_out",SYSTEM_PIN:"pinMsg",SYSTEM_UNPIN:"unpinMsg"},zD=RD([].concat(Object(a["a"])(Object.keys(PD)),Object(a["a"])(Object.keys(HD)))).reduce((function(e,t){return e[t]=t,e}),{});function $D(e,t){var n=PD[e];if(R(t)){for(var r=0;r<t.length;r++)n=n.replace("{".concat(r,"}"),t[r]);return n}return n}function UD(e,t){var n;if(le(null===(n=window.__i18n__)||void 0===n?void 0:n.t)){var r,i=null===(r=window.__i18n__)||void 0===r?void 0:r.t(HD[e],t);return i||$D(e,t)}return $D(e,t)}var qD={UnknownError:"UnknownError",LoginError:"LoginError",ZckError:"ZckError",TokenError:"TokenError",CodeError:"CodeError",ParametersError:"ParametersError",TypeError:"TypeError",MessageTypeError:"MessageTypeError",XmlParsedError:"XmlParsedError",XmlDescribeJsonTransformError:"XmlDescribeJsonTransformError",XmppXmlMsgFormatError:"XmppXmlMsgFormatError",XmppXmlDataMissingError:"XmppXmlDataMissingError",XmppConnectionConflictError:"XmppConnectionConflictError",XmppConnectionRevokeToken:"XmppConnectionRevokeToken",FailedToMarkReaded:"FailedToMarkReaded",CancelHttpRequest:"CancelHttpRequest",InstanceDestroyedError:"InstanceDestroyedError",ImageUploadError:"ImageUploadError",ImageDownloadError:"ImageDownloadError",GiphyDownloadError:"GiphyDownloadError",FileDownloadError:"FileDownloadError",FileFormatError:"FileFormatError",FetchGiphyListError:"FetchGiphyListError",UnshareFileError:"UnshareFileError",FunctionCallError:"FunctionCallError",ConfigError:"ConfigError",UserInfoFetchError:"UserInfoFetchError",FetchZckFailed:"FetchZckFailed",FetchHistoryMsgError:"FetchHistoryMsgError",FetchRecentChatError:"FetchRecentChatError",FetchTopPinError:"FetchTopPinError",FetchVcardError:"FetchVcardError",FetchChannelError:"FetchChannelError",ChangeChannelError:"ChangeChannelError",PluginMixinError:"PluginMixinError",EmptyFileError:"EmptyFileError",TopPinError:"TopPinError",BlockError:"BlockError",UnblockError:"UnblockError",ContactBlocked:"ContactBlocked",SendMsgError:"SendMsgError",EditMsgError:"EditMsgError",RevokeMsgError:"RevokeMsgError",FetchBlockListError:"FetchBlockListError",NoPermission:"NoPermission",NotAuthorized:"NotAuthorized",InvalidMessage:"InvalidMessage",InvalidGiphyUrl:"InvalidGiphyUrl",XmppConnectionUnready:"xmppConnectionUnready",XmppConnectFail:"XmppConnectFail",UnknownXmppError:"UnknownXmppError",FetchMemberError:"FetchMemberError",ChannelIsNotExist:"ChannelIsNotExist",NotSupportIndexedDb:"NotSupportIndexedDb",OpenIndexedDbError:"OpenIndexedDbError",IndexedDbQueryFail:"IndexedDbQueryFail",IndexedDbSaveFail:"IndexedDbSaveFail",IndexedDbUpdateFail:"IndexedDbUpdateFail",IndexedDbDeleteFail:"IndexedDbDeleteFail",MultiInstanceError:"MultiInstanceError",MultiConnectionError:"MultiConnectionError",NoNetwork:"NoNetwork",NetworkError:"NetworkError",searchContactsError:"searchContactsError",searchChannelError:"searchChannelError",searchMessageError:"searchMessageError",Timeout:"Timeout",401:"XmppNotAuthorized",404:"XmppNotFound",405:"XmppNotAllowed",503:"XmppServiceUnavailable"};function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var WD=Yb.createError,JD=function(e){Object(u["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(d["a"])(n,null,[{key:"xml2Json",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return Ub(e,t)}catch(KD){throw WD(qD.XmlParsedError,KD)}}},{key:"xmlStr2Elem",value:function(e){if(!z(e))throw WD(qD.XmlParsedError,"Parameter must be xml string");if(0===e.indexOf("<?xml")&&(e=e.replace(/^(<\?.*?\?>\s*)*/,""),""===e))throw WD(qD.XmlParsedError,"Parameter must be valid xml string");var t=(new DOMParser).parseFromString(e,"text/xml").documentElement;if(bv(t)){var n=new XMLSerializer;throw WD(qD.XmlParsedError,{parameter:e,parseErrorXml:n.serializeToString(t)})}return t}},{key:"json2Elem",value:function(e){if(!G(e))throw WD(qD.ParametersError);try{var t=qb(e);return this.xmlStr2Elem(t)}catch(KD){throw WD(qD.XmlParsedError,KD)}}},{key:"_generateBasicInfo",value:function(e,t,n,r){var i=Df.getState(),o=i.usersMap,s=or(e,"message.zmedit");if(G(s)){var a=or(e,"message"),u=a["@from"],c=a["@to"];e.message=VD(VD({},s.message),{},{"@from":u,"@to":c}),t=this.json2Elem(e)}var l=or(e,"message.zmext.reply",{}),d=l["@msg_id"],h=l["@thread_t"],f=or(e,"message",{}),p=f["@id"],m=yp.serialize(t),g=or(e,"message.zmext.obj",{}),v=g["@id"],y=g["@nm"],b=g["@s"];y=String(y);var D,_=v&&y&&b?{fileId:v,fileName:y,size:b}:void 0,w=or(e,"message.zmext.@t"),E=or(e,"message.zmext.from.@n"),C=or(e,"message.sns.args");null!==C&&void 0!==C&&C.arg&&Array.isArray(C.arg)&&(D=C.arg[1]||void 0);var x=this._getOperType(e),A=or(e,"message.zmext.@fb"),k=this._getJid(e,n),S=k.channelJid,F=k.senderJid,O=k.senderJidIntact,M=k.receiverJid;F=this.getCorrectJid(F,lo.chat);var T=this._getMessageType(e);if(!T||Ns.includes(T))return null;var j=o[F]||{},N=j.avatar,B=this._getActionInfo(e,t),I=this._getMeetChat(e),L=null!=T&&T!==ls.info&&!n,R=this.getCallInfo(e,T),P=this._getFontStyte(e),H=this._getAllFiles(P,T),z=this._getPmcMsgInfo(e),$=this._getReminderMsgInfo(e),U=gv({id:p,replyId:d,emojiVotes:{},replyThreadTime:h,senderJid:F,senderJidIntact:O,senderAvatar:N,senderName:E,message:this._getBaseContent(e),fontStyte:P,mention:this._getMention(e),time:w,operType:x,isOfflineMsg:r,actionInfo:B,isUnreadMsg:L,channelJid:S,channelName:D,messageXmlStr:m,messageType:T,file:_,receiverJid:M,callInfo:R,allFiles:H,failureBody:A,meetChat:I,pmcMsgInfo:z,reminderInfo:$});return U}},{key:"_getOperType",value:function(e){var t=Df.getState(),n=t.editedMsgIdMap,r=or(e,"message",{}),i=r["@id"],o=or(e,"message.zmext.deleted"),s=null!=o?cs.revoke:cs.new;return tn(n)||n[i]&&s===cs.new&&(s=cs.edit),s}},{key:"getCorrectJid",value:function(e,t){if(!z(e))return"";var n=Df.getState(),r=n.xmppDomain;return e.includes("@")||t!==lo.groupchat||(e+="@conference.".concat(r)),e.includes("@")||t!==lo.chat||(e+="@".concat(r)),e}},{key:"_getMessageType",value:function(e){var t,n=(t={},Object(p["a"])(t,ls.gone,yD),Object(p["a"])(t,ls.active,bD),Object(p["a"])(t,ls.inactive,gD),Object(p["a"])(t,ls.composing,mD),Object(p["a"])(t,ls.call,_D),Object(p["a"])(t,ls.file,[vD]),Object(p["a"])(t,ls.screenshot,[wD]),Object(p["a"])(t,ls.image,[$v]),Object(p["a"])(t,ls.text,[hD,qv]),Object(p["a"])(t,ls.info,pD),Object(p["a"])(t,ls.giphy,zv),Object(p["a"])(t,ls.mix,Uv),Object(p["a"])(t,ls.unknown,DD),Object(p["a"])(t,ls.pmc,fD),Object(p["a"])(t,ls.reminder,ED),t);for(var r in n)if(R(n[r])){var i=n[r].some((function(t){try{return t(e)}catch(KD){return!1}}));if(i)return r}else{var o=n[r];try{if(o(e))return r}catch(KD){}}return null}},{key:"_getActionInfo",value:function(e,t){var n,r=this,i=or(e,"message.zmext.operator",{}),o=i["#text"],s=i["@displayName"],a=or(e,"message.zmext.@action"),u=or(e,"message.zmext.room",{}),c=u["@jid"],l=(null===t||void 0===t||null===(n=t.querySelector("message>zmext>room"))||void 0===n?void 0:n.getAttribute("subject"))||"",d=u["@jid"],h=u["@subject"],f=u["@option"],p=u["@diff"],m=u["@desc"],g=void 0===m?"":m,v=u["@info"];l=l||h;var y=or(u,"payload.changed.@descAction","");if(a in fo){var b,D,_=or(e,"message.zmext.buddylist.item"),w=or(e,"message.zmext.pins"),E=or(e,"message",{}),C=E["@type"];if(_&&(b=Dv(_).map((function(e){return{name:e["@displayName"],jid:e["#text"]}}))),G(w)){var x=Dv(w.item),A=w["@option"];D={option:A,pinList:x.map((function(e){return{channelJid:c,msgId:e["@msgid"],msgTimestamp:e["@t"],type:e["@type"],pinner:{jid:r.getCorrectJid(e["@pinner"],C)},pinTimestamp:e["@pin_t"],mainMsgId:e["@thread"],mainMsgTimestamp:e["@thread_t"]}}))}}var k={type:y?"".concat(y,"Desc"):a,operator:{name:s,jid:o},room:{jid:d,name:l,option:f,diff:p,descAction:y,desc:or(this.xml2Json(g),"desc.text.@v",""),info:v?JSON.parse(v):void 0}};return D&&(k.pins=D),b&&(k.buddyList=b),k}}},{key:"_getMeetChat",value:function(e){var t=or(e,"message.meetchat");if(t){var n={from:or(t,"@from"),isGuset:or(t,"@is_guest"),ct:or(t,"@ct"),meetid:or(t,"@meetid")};return n}}},{key:"_getPmcMsgInfo",value:function(e){var t=or(e,"message.notify.payload.pmc");if(t)try{var n=JSON.parse(atob(t));return n}catch(KD){return}}},{key:"_getReminderMsgInfo",value:function(e){var t=or(e,"message.notify.payload.reminder");if(t)try{var n=JSON.parse(atob(t));return n}catch(KD){return}}},{key:"getCallInfo",value:function(e,t){if(t&&t===ls.call){var n={raw:{},action:or(e,"message.zext_call.action"),srcDeviceid:or(e,"message.zext_call.srcDeviceid"),caption:or(e,"message.zext_call.caption"),notify_other_devices:or(e,"message.zext_call.notify_other_devices"),group_name:or(e,"message.zext_call.group_name"),group_member_count:or(e,"message.zext_call.group_member_count"),mid:or(e,"message.zext_call.mid"),subtype:or(e,"message.zext_call.subtype")},r=or(e,"message.zext_call.raw");if(!r||0===r.length)return n;r=r.substring(2);var i=r.split(";"),o=Object(f["a"])(i,16),s=o[0],a=o[1],u=o[2],c=o[3],l=o[4],d=o[5],h=o[6],p=o[7],m=o[8],g=o[9],v=o[10],y=o[11],b=o[12],D=o[13],_=o[14],w=o[15];return n.raw={meetingNo:s,meetingOption:a,NSCommand:u,UserID:c,DeviceID:l,ScreenName:d,password:h,scheduleOption:p,isPhoneCall:m,callID:g,groupName:v,groupMemberCount:y,groupID:b,iak:D,credential:_,senderResouceId:w},n}}},{key:"_getAllFiles",value:function(e,t){if(t&&t===ls.mix&&e&&0!==e.length){var n=[];return e.forEach((function(e){e.fileid&&e.filename&&e.filesize&&n.push({fileId:e.fileid,fileName:e.filename,size:e.filesize,type:e.type||0,defaultImage:"",imageSize:e.imagesize,fileType:CD.getFileType(e.type||0),startpos:e.startpos||0,endpos:e.endpos||0})})),n}}},{key:"_getMention",value:function(e){var t=Dv(or(e,"message.zmext.at.user"),!0).map((function(e){var t=e["@jid"],n=e["@s"],r=e["@e"],i=e["@t"];return{jid:i===vs.all&&".atall"===t.slice(-6)?t.slice(0,-6):t,start:n,end:r,type:i}}));return t.length?t:void 0}},{key:"_getBaseContent",value:function(e){var t=Df.getState(),n=t.settings.decodeHtmlWhenReceiveMsg,r=or(e,"message.zmext.deleted");if(r)return UD(zD.SYSTEM_MSGREVOKED);var i=or(e,"message.body");return n&&(i=_v(i)),i=null!=i?String(i):"",i}},{key:"_getJid",value:function(e,t){var n,r=Df.getState(),i=r.xmppDomain,o=r.userInfo,s=o.jid,a=o.jidIntact,u="",c=or(e,"message",{}),l=c["@from"],d=c["@to"],h=c["@type"],p=or(e,"message.zmext.@realto","");d.indexOf("/")>0&&(d=null===(n=d)||void 0===n?void 0:n.substring(0,d.indexOf("/")));var m=d,g=(null===l||void 0===l?void 0:l.split("/"))||[],v=Object(f["a"])(g,2),y=v[0],b=v[1];u=y,t&&(b=y,u=d),h===lo.chat&&(b=y,u=d),d===s&&(u=y),d.includes(b)&&p&&(u="".concat(p,"@").concat(i),m="".concat(p,"@").concat(i)),b=this.getCorrectJid(b,lo.chat);var D=b===s;return{channelJid:u,senderJid:b,senderJidIntact:D?a:void 0,receiverJid:m}}}]),n}(xD)}).call(this,n("7d15"),n("7326")(e),n("07d9"))},"5e10":function(e,t,n){"use strict";var r=n("6b1d"),i=n("b546");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},"5ecb":function(e,t,n){var r=n("31c3");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"5fe7":function(e,t,n){},6009:function(e,t,n){var r=n("d4cb"),i=n("70b7"),o=n("0c47"),s=n("378c"),a=n("e129").f,u=i(a),c=i([].push),l=function(e){return function(t){var n,i=s(t),a=o(i),l=a.length,d=0,h=[];while(l>d)n=a[d++],r&&!u(i,n)||c(h,e?[n,i[n]]:i[n]);return h}};e.exports={entries:l(!0),values:l(!1)}},6156:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r}))},6559:function(e,t,n){var r=n("6b1d"),i=n("6009").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"65dd":function(e,t,n){"use strict";var r=n("6b1d"),i=n("8081"),o=n("b07c");r({target:"String",proto:!0,forced:o("italics")},{italics:function(){return i(this,"i","","")}})},"66b7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("df3f"),i=n("d23d"),o=n("04b7"),s=n("a2a2");function a(e){return Object(r["a"])(e)||Object(i["a"])(e)||Object(o["a"])(e)||Object(s["a"])()}},6708:function(e,t,n){var r=n("31c3");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"67d9":function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"vi",weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"}};return n.default.locale(r,null,!0),r}))},"6ad9":function(e,t,n){"use strict";var r=n("6c2f"),i=n("4f66"),o=n("0ffc");e.exports.text=r,e.exports.html=i,e.exports.defaultOptions=o.defaultOptions},"6c2f":function(e,t,n){"use strict";var r=n("1b70"),i=n("8b32"),o=n("5141"),s=n("0ffc"),a=n("3dfd"),u=function(e,t,n){var r=new RegExp(t,"gi");return e=e.replace(r,n),e};e.exports=function(e,t,n){if(!t){var c={text:e,indices:[]};return c}n=s(n);var l=a[n.language];if(!l)throw new Error("No language data for language '"+n.language+"'");var d=i(t,l);d.forEach((function(e){return e.original=e.token,e.stopword||(e.token=r(e.token,l)),e.token}));for(var h=[],f=function(e,t,n,r){return h.push(n),t+"@"+(h.length-1)+"@"+r},p=o(d),m=l.alpha_range,g=0;g<p.length;g+=1){var v="([^"+m+"]|^)("+p[g]+")([^"+m+"]|$)";e=u(e,v,f)}var y=function(e,t,n,r){var i=h[t]+n+h[r];return h.push(i),"@"+(h.length-1)+"@"},b="(?:"+l.stopwords.join("|")+")",D=new RegExp("(?:@([0-9]+)@)(\\s+(?:"+b+"\\s+)*)(?:@([0-9]+)@)","i");e=e.replace(D,y);var _=[],w=0,E=function(e,t,r){var i=h[t];return _.push({startIndex:r+w,endIndex:r+i.length+w,content:i}),w+=i.length-e.length,n.before+i+n.after};e=e.replace(new RegExp("@([0-9]+)@","ig"),E);c={text:e,indices:_};return c}},"6cb5":function(e,t,n){},"6d23":function(e,t,n){},"6dc2":function(e,t,n){"use strict";n("6d23")},"6dec":function(e,t,n){},"6feb":function(e,t,n){"use strict";n("6cb5")},"74b7":function(e,t,n){var r=n("6b1d"),i=n("4243");r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},7557:function(e,t,n){},"7a3c":function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return n.default.locale(r,null,!0),r}))},"7a40":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));n("33ef"),n("ef1f"),n("fa8c");function r(e){var t=!1;return function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,i),t=!1})))}}function i(e){var t=Array.prototype.slice.call(arguments,1);t.forEach((function(t){e[t]=e[t].bind(e)}))}},"7ada":function(e,t,n){(function(n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){u(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=s.URL||s.webkitURL,u=document.createElement("a");t=t||e.name||"download",u.download=t,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?o(u):i(u.href)?r(e,t,n):o(u,u.target="_blank")):(u.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))r(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,t,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,u=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&u||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,h=d.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});s.saveAs=u.saveAs=u,e.exports=u}))}).call(this,n("7d15"))},8328:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(e){return e<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return n.default.locale(r,null,!0),r}))},"83a3":function(e,t,n){},8563:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n("de79"),i=(n("ef1f"),n("918c"),n("bdf7"),n("2d6d"),n("841a"),n("9ce4")),o=n("eec4"),s={handleKeydown:function(e){this.useKeyboard=!0;var t=e.keyCode,n=o["a"].keys;switch(t){case n.down:this.handleArrowDown();break;case n.up:this.handleArrowUp();break;case n.tab:this.useKeyboard=!1,this.activeIndex="";break;default:break}},handleArrowDown:function(){var e;if(this.currFocusedMsgId){var t=this.getMessageIdx(this.currFocusedMsgId);e=this.getMessages()[t+1]}else e=this.findInitialMessage();e&&(this.currFocusedMsgId&&this.disableFocus(this.currFocusedMsgId),this.enableFocus(e.id),this.focusMessage(e.id),this.currFocusedMsgId=e.id,this.activeIndex=e.id)},handleArrowUp:function(){if(this.currFocusedMsgId){var e=this.getMessageIdx(this.currFocusedMsgId),t=this.getMessages()[e-1];t&&(this.disableFocus(this.currFocusedMsgId),this.enableFocus(t.id),this.focusMessage(t.id),this.currFocusedMsgId=t.id,this.activeIndex=t.id)}},getMessageIdx:function(e){return this.getMessages().findIndex((function(t){return t.id===e}))},focusMessage:function(e){var t=this.getMessageElement(e);t&&(t.tabIndex=0,t.focus())},getMessageElement:function(e){return document.getElementById("message_".concat(e))},enableFocus:function(e){var t=this.getMessageElement(e);t&&(t.tabIndex=0)},disableFocus:function(e){var t=this.getMessageElement(e);t&&(t.tabIndex=-1)},clearFocusedMsgId:function(e){var t=this.getListElement();this.currFocusedMsgId&&t&&!t.contains(e.relatedTarget)&&(this.disableFocus(this.currFocusedMsgId),this.currFocusedMsgId=null)}},a={data:function(){return{currFocusedMsgId:null}},computed:Object(r["a"])({},Object(i["c"])(["messages"])),methods:Object(r["a"])(Object(r["a"])({},s),{},{getMessages:function(){return this.messages.filter((function(e){var t=e.messageType;return"info"!==t}))},getListElement:function(){return this.$refs.chatList},findInitialMessage:function(){return this.findFirstInViewMessage()},findFirstInViewMessage:function(){var e=this,t=this.$el.querySelector(".zm-scrollbar__wrap");return t?this.messages.find((function(n){var r=n.id,i=e.getMessageElement(r);return!!i&&i.offsetTop>=t.scrollTop})):null}})},u={data:function(){return{currFocusedMsgId:null}},props:{list:{type:Array,default:function(){return[]}}},methods:Object(r["a"])(Object(r["a"])({},s),{},{getMessages:function(){return this.list},getListElement:function(){return this.$refs.replyList},findInitialMessage:function(){return this.getMessages()[0]}})}},"8b32":function(e,t,n){"use strict";var r="internalEmailPlaceholder";e.exports=function(e,t){var n={};e=e.replace(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}/i,(function(e){var t=r+Object.keys(n).length;return n[t]=e,t}));var i="["+t.alpha_range+"0-9]",o="[^"+t.alpha_range+"0-9]",s=new RegExp("("+i+"+)("+o+"|$)","ig"),a=[];return e.replace(s,(function(e,r){n[r]&&(r=n[r]);var i={token:r.toLowerCase(),stopword:-1!==t.stopwords.indexOf(r.toLowerCase())};return a.push(i),""})),a}},"8b83":function(e,t,n){var r=n("31c3");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},"8db5":function(e,t,n){var r=n("5428"),i=n("fa46"),o="DOMException";i(r(o),o)},"907d":function(e,t,n){var r=n("6b1d");r({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},9396:function(e,t,n){var r=n("6b1d"),i=n("72df"),o=n("ee58").f,s=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:s},{getOwnPropertyNames:o})},"96be":function(e,t){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},"96f5":function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function i(e,t,n){var i=r[n];return Array.isArray(i)&&(i=i[t?0:1]),i.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i}};return n.default.locale(o,null,!0),o}))},9869:function(e,t,n){"use strict";(function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function l(e){return"[object Object]"===c.call(e)}function d(e){return"[object RegExp]"===c.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function f(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function D(e,t){return b.call(e,t)}function _(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var w=/-(\w)/g,E=_((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))})),C=_((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),x=/\B([A-Z])/g,A=_((function(e){return e.replace(x,"-$1").toLowerCase()}));function k(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function S(e,t){return e.bind(t)}var F=Function.prototype.bind?S:k;function O(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function M(e,t){for(var n in t)e[n]=t[n];return e}function T(e){for(var t={},n=0;n<e.length;n++)e[n]&&M(t,e[n]);return t}function j(e,t,n){}var N=function(e,t,n){return!1},B=function(e){return e};function I(e,t){if(e===t)return!0;var n=u(e),r=u(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return I(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return I(e[n],t[n])}))}catch(c){return!1}}function L(e,t){for(var n=0;n<e.length;n++)if(I(e[n],t))return n;return-1}function R(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var P="data-server-rendered",H=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:j,parsePlatformTagName:B,mustUseProp:N,async:!0,_lifecycleHooks:z},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Y(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var V=new RegExp("[^"+U.source+".$_\\d]");function W(e){if(!V.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var J,K="__proto__"in{},X="undefined"!==typeof window,G="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=G&&WXEnvironment.platform.toLowerCase(),Q=X&&window.navigator.userAgent.toLowerCase(),ee=Q&&/msie|trident/.test(Q),te=Q&&Q.indexOf("msie 9.0")>0,ne=Q&&Q.indexOf("edge/")>0,re=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===Z),ie=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),oe={}.watch,se=!1;if(X)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){se=!0}}),window.addEventListener("test-passive",null,ae)}catch(Es){}var ue=function(){return void 0===J&&(J=!X&&!G&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),J},ce=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var de,he="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);de="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var fe=j,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){y(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},me.target=null;var ge=[];function ve(e){ge.push(e),me.target=e}function ye(){ge.pop(),me.target=ge[ge.length-1]}var be=function(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},De={child:{configurable:!0}};De.child.get=function(){return this.componentInstance},Object.defineProperties(be.prototype,De);var _e=function(e){void 0===e&&(e="");var t=new be;return t.text=e,t.isComment=!0,t};function we(e){return new be(void 0,void 0,void 0,String(e))}function Ee(e){var t=new be(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ce=Array.prototype,xe=Object.create(Ce),Ae=["push","pop","shift","unshift","splice","sort","reverse"];Ae.forEach((function(e){var t=Ce[e];Y(xe,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var ke=Object.getOwnPropertyNames(xe),Se=!0;function Fe(e){Se=e}var Oe=function(e){this.value=e,this.dep=new me,this.vmCount=0,Y(e,"__ob__",this),Array.isArray(e)?(K?Me(e,xe):Te(e,xe,ke),this.observeArray(e)):this.walk(e)};function Me(e,t){e.__proto__=t}function Te(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];Y(e,o,t[o])}}function je(e,t){var n;if(u(e)&&!(e instanceof be))return D(e,"__ob__")&&e.__ob__ instanceof Oe?n=e.__ob__:Se&&!ue()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Oe(e)),t&&n&&n.vmCount++,n}function Ne(e,t,n,r,i){var o=new me,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=e[t]);var c=!i&&je(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return me.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Le(t))),t},set:function(t){var r=a?a.call(e):n;t===r||t!==t&&r!==r||a&&!u||(u?u.call(e,t):n=t,c=!i&&je(t),o.notify())}})}}function Be(e,t,n){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Ne(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function Ie(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||D(e,t)&&(delete e[t],n&&n.dep.notify())}}function Le(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Le(t)}Oe.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Ne(e,t[n])},Oe.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)je(e[t])};var Re=$.optionMergeStrategies;function Pe(e,t){if(!t)return e;for(var n,r,i,o=he?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=e[n],i=t[n],D(e,n)?r!==i&&l(r)&&l(i)&&Pe(r,i):Be(e,n,i));return e}function He(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,i="function"===typeof e?e.call(n,n):e;return r?Pe(r,i):i}:t?e?function(){return Pe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function ze(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?$e(n):n}function $e(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Ue(e,t,n,r){var i=Object.create(e||null);return t?M(i,t):i}Re.data=function(e,t,n){return n?He(e,t,n):t&&"function"!==typeof t?e:He(e,t)},z.forEach((function(e){Re[e]=ze})),H.forEach((function(e){Re[e+"s"]=Ue})),Re.watch=function(e,t,n,r){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in M(i,e),t){var s=i[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},Re.props=Re.methods=Re.inject=Re.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return M(i,e),t&&M(i,t),i},Re.provide=He;var qe=function(e,t){return void 0===t?e:t};function Ye(e,t){var n=e.props;if(n){var r,i,o,s={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=E(i),s[o]={type:null})}else if(l(n))for(var a in n)i=n[a],o=E(a),s[o]=l(i)?i:{type:i};else 0;e.props=s}}function Ve(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var s=n[o];r[o]=l(s)?M({from:o},s):{from:s}}else 0}}function We(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function Je(e,t,n){if("function"===typeof t&&(t=t.options),Ye(t,n),Ve(t,n),We(t),!t._base&&(t.extends&&(e=Je(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Je(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)D(e,o)||a(o);function a(r){var i=Re[r]||qe;s[r]=i(e[r],t[r],n,r)}return s}function Ke(e,t,n,r){if("string"===typeof n){var i=e[t];if(D(i,n))return i[n];var o=E(n);if(D(i,o))return i[o];var s=C(o);if(D(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Xe(e,t,n,r){var i=t[e],o=!D(n,e),s=n[e],a=et(Boolean,i.type);if(a>-1)if(o&&!D(i,"default"))s=!1;else if(""===s||s===A(e)){var u=et(String,i.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=Ge(r,i,e);var c=Se;Fe(!0),je(s),Fe(c)}return s}function Ge(e,t,n){if(D(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Ze(t.type)?r.call(e):r}}function Ze(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Qe(e,t){return Ze(e)===Ze(t)}function et(e,t){if(!Array.isArray(t))return Qe(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Qe(t[n],e))return n;return-1}function tt(e,t,n){ve();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(Es){rt(Es,r,"errorCaptured hook")}}}rt(e,t,n)}finally{ye()}}function nt(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(e){return tt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(Es){tt(Es,r,i)}return o}function rt(e,t,n){if($.errorHandler)try{return $.errorHandler.call(null,e,t,n)}catch(Es){Es!==e&&it(Es,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!X&&!G||"undefined"===typeof console)throw e;console.error(e)}var ot,st=!1,at=[],ut=!1;function ct(){ut=!1;var e=at.slice(0);at.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var lt=Promise.resolve();ot=function(){lt.then(ct),re&&setTimeout(j)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(ct)}:function(){setTimeout(ct,0)};else{var dt=1,ht=new MutationObserver(ct),ft=document.createTextNode(String(dt));ht.observe(ft,{characterData:!0}),ot=function(){dt=(dt+1)%2,ft.data=String(dt)},st=!0}function pt(e,t){var n;if(at.push((function(){if(e)try{e.call(t)}catch(Es){tt(Es,t,"nextTick")}else n&&n(t)})),ut||(ut=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var mt=new de;function gt(e){vt(e,mt),mt.clear()}function vt(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!u(e)||Object.isFrozen(e)||e instanceof be)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){n=e.length;while(n--)vt(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)vt(e[r[n]],t)}}}var yt=_((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function bt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)nt(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function Dt(e,t,n,i,s,a){var u,c,l,d;for(u in e)c=e[u],l=t[u],d=yt(u),r(c)||(r(l)?(r(c.fns)&&(c=e[u]=bt(c,a)),o(d.once)&&(c=e[u]=s(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==l&&(l.fns=c,e[u]=l));for(u in t)r(e[u])&&(d=yt(u),i(d.name,t[u],d.capture))}function _t(e,t,n){var s;e instanceof be&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function u(){n.apply(this,arguments),y(s.fns,u)}r(a)?s=bt([u]):i(a.fns)&&o(a.merged)?(s=a,s.fns.push(u)):s=bt([a,u]),s.merged=!0,e[t]=s}function wt(e,t,n){var o=t.options.props;if(!r(o)){var s={},a=e.attrs,u=e.props;if(i(a)||i(u))for(var c in o){var l=A(c);Et(s,u,c,l,!0)||Et(s,a,c,l,!1)}return s}}function Et(e,t,n,r,o){if(i(t)){if(D(t,n))return e[n]=t[n],o||delete t[n],!0;if(D(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function Ct(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function xt(e){return a(e)?[we(e)]:Array.isArray(e)?kt(e):void 0}function At(e){return i(e)&&i(e.text)&&s(e.isComment)}function kt(e,t){var n,s,u,c,l=[];for(n=0;n<e.length;n++)s=e[n],r(s)||"boolean"===typeof s||(u=l.length-1,c=l[u],Array.isArray(s)?s.length>0&&(s=kt(s,(t||"")+"_"+n),At(s[0])&&At(c)&&(l[u]=we(c.text+s[0].text),s.shift()),l.push.apply(l,s)):a(s)?At(c)?l[u]=we(c.text+s):""!==s&&l.push(we(s)):At(s)&&At(c)?l[u]=we(c.text+s.text):(o(e._isVList)&&i(s.tag)&&r(s.key)&&i(t)&&(s.key="__vlist"+t+"_"+n+"__"),l.push(s)));return l}function St(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Ft(e){var t=Ot(e.$options.inject,e);t&&(Fe(!1),Object.keys(t).forEach((function(n){Ne(e,n,t[n])})),Fe(!0))}function Ot(e,t){if(e){for(var n=Object.create(null),r=he?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from,a=t;while(a){if(a._provided&&D(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in e[o]){var u=e[o].default;n[o]="function"===typeof u?u.call(t):u}else 0}}return n}}function Mt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Tt)&&delete n[c];return n}function Tt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function jt(e,t,r){var i,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&r&&r!==n&&a===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},e)e[u]&&"$"!==u[0]&&(i[u]=Nt(t,u,e[u]))}else i={};for(var c in t)c in i||(i[c]=Bt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=i),Y(i,"$stable",s),Y(i,"$key",a),Y(i,"$hasNormal",o),i}function Nt(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:xt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Bt(e,t){return function(){return e[t]}}function It(e,t){var n,r,o,s,a;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(u(e))if(he&&e[Symbol.iterator]){n=[];var c=e[Symbol.iterator](),l=c.next();while(!l.done)n.push(t(l.value,n.length)),l=c.next()}else for(s=Object.keys(e),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=t(e[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function Lt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=M(M({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Rt(e){return Ke(this.$options,"filters",e,!0)||B}function Pt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ht(e,t,n,r,i){var o=$.keyCodes[t]||n;return i&&r&&!$.keyCodes[t]?Pt(i,r):o?Pt(o,e):r?A(r)!==t:void 0}function zt(e,t,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=T(n));var s=function(s){if("class"===s||"style"===s||v(s))o=e;else{var a=e.attrs&&e.attrs.type;o=r||$.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=E(s),c=A(s);if(!(u in o)&&!(c in o)&&(o[s]=n[s],i)){var l=e.on||(e.on={});l["update:"+s]=function(e){n[s]=e}}};for(var a in n)s(a)}else;return e}function $t(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),qt(r,"__static__"+e,!1)),r}function Ut(e,t,n){return qt(e,"__once__"+t+(n?"_"+n:""),!0),e}function qt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Yt(e[r],t+"_"+r,n);else Yt(e,t,n)}function Yt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Vt(e,t){if(t)if(l(t)){var n=e.on=e.on?M({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Wt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Wt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Jt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Kt(e,t){return"string"===typeof e?t+e:e}function Xt(e){e._o=Ut,e._n=m,e._s=p,e._l=It,e._t=Lt,e._q=I,e._i=L,e._m=$t,e._f=Rt,e._k=Ht,e._b=zt,e._v=we,e._e=_e,e._u=Wt,e._g=Vt,e._d=Jt,e._p=Kt}function Gt(e,t,r,i,s){var a,u=this,c=s.options;D(i,"_uid")?(a=Object.create(i),a._original=i):(a=i,i=i._original);var l=o(c._compiled),d=!l;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=Ot(c.inject,i),this.slots=function(){return u.$slots||jt(e.scopedSlots,u.$slots=Mt(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return jt(e.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=jt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){var o=dn(a,e,t,n,r,d);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return dn(a,e,t,n,r,d)}}function Zt(e,t,r,o,s){var a=e.options,u={},c=a.props;if(i(c))for(var l in c)u[l]=Xe(l,c,t||n);else i(r.attrs)&&en(u,r.attrs),i(r.props)&&en(u,r.props);var d=new Gt(r,u,s,o,e),h=a.render.call(null,d._c,d);if(h instanceof be)return Qt(h,r,d.parent,a,d);if(Array.isArray(h)){for(var f=xt(h)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Qt(f[m],r,d.parent,a,d);return p}}function Qt(e,t,n,r,i){var o=Ee(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function en(e,t){for(var n in t)e[E(n)]=t[n]}Xt(Gt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,On);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Bn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Pn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Zn(n):Ln(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Rn(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,s,a){if(!r(e)){var c=n.$options._base;if(u(e)&&(e=c.extend(e)),"function"===typeof e){var l;if(r(e.cid)&&(l=e,e=_n(l,c),void 0===e))return Dn(l,t,n,s,a);t=t||{},_r(e),i(t.model)&&un(e.options,t);var d=wt(t,e,a);if(o(e.options.functional))return Zt(e,d,t,n,s);var h=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}sn(t);var p=e.options.name||a,m=new be("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:d,listeners:h,tag:a,children:s},l);return m}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function sn(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=t[r],o=tn[r];i===o||i&&i._merged||(t[r]=i?an(o,i):o)}}function an(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function un(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),s=o[r],a=t.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}var cn=1,ln=2;function dn(e,t,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=ln),hn(e,t,n,r,i)}function hn(e,t,n,r,o){if(i(n)&&i(n.__ob__))return _e();if(i(n)&&i(n.is)&&(t=n.is),!t)return _e();var s,a,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ln?r=xt(r):o===cn&&(r=Ct(r)),"string"===typeof t)?(a=e.$vnode&&e.$vnode.ns||$.getTagNamespace(t),s=$.isReservedTag(t)?new be($.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(u=Ke(e.$options,"components",t))?new be(t,n,r,void 0,void 0,e):rn(u,n,e,r,t)):s=rn(t,n,e,r);return Array.isArray(s)?s:i(s)?(i(a)&&fn(s,a),i(n)&&pn(n),s):_e()}function fn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var s=0,a=e.children.length;s<a;s++){var u=e.children[s];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&fn(u,t,n)}}function pn(e){u(e.style)&&gt(e.style),u(e.class)&&gt(e.class)}function mn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=Mt(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return dn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return dn(e,t,n,r,i,!0)};var o=r&&r.data;Ne(e,"$attrs",o&&o.attrs||n,null,!0),Ne(e,"$listeners",t._parentListeners||n,null,!0)}var gn,vn=null;function yn(e){Xt(e.prototype),e.prototype.$nextTick=function(e){return pt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=jt(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{vn=t,e=r.call(t._renderProxy,t.$createElement)}catch(Es){tt(Es,t,"render"),e=t._vnode}finally{vn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof be||(e=_e()),e.parent=i,e}}function bn(e,t){return(e.__esModule||he&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function Dn(e,t,n,r,i){var o=_e();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function _n(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=vn;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var s=e.owners=[n],a=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return y(s,n)}));var d=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},h=R((function(n){e.resolved=bn(n,t),a?s.length=0:d(!0)})),p=R((function(t){i(e.errorComp)&&(e.error=!0,d(!0))})),m=e(h,p);return u(m)&&(f(m)?r(e.resolved)&&m.then(h,p):f(m.component)&&(m.component.then(h,p),i(m.error)&&(e.errorComp=bn(m.error,t)),i(m.loading)&&(e.loadingComp=bn(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,d(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&p(null)}),m.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function wn(e){return e.isComment&&e.asyncFactory}function En(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||wn(n)))return n}}function Cn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Sn(e,t)}function xn(e,t){gn.$on(e,t)}function An(e,t){gn.$off(e,t)}function kn(e,t){var n=gn;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function Sn(e,t,n){gn=e,Dt(t,n||{},xn,An,kn,e),gn=void 0}function Fn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;var a=s.length;while(a--)if(o=s[a],o===t||o.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?O(n):n;for(var r=O(arguments,1),i='event handler for "'+e+'"',o=0,s=n.length;o<s;o++)nt(n[o],t,r,t,i)}return t}}var On=null;function Mn(e){var t=On;return On=e,function(){On=t}}function Tn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function jn(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Mn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Pn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Pn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Nn(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=_e),Pn(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,j,{before:function(){e._isMounted&&!e._isDestroyed&&Pn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Pn(e,"mounted")),e}function Bn(e,t,r,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,u=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key),c=!!(o||e.$options._renderChildren||u);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Fe(!1);for(var l=e._props,d=e.$options._propKeys||[],h=0;h<d.length;h++){var f=d[h],p=e.$options.props;l[f]=Xe(f,p,t,e)}Fe(!0),e.$options.propsData=t}r=r||n;var m=e.$options._parentListeners;e.$options._parentListeners=r,Sn(e,r,m),c&&(e.$slots=Mt(o,i.context),e.$forceUpdate())}function In(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Ln(e,t){if(t){if(e._directInactive=!1,In(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Ln(e.$children[n]);Pn(e,"activated")}}function Rn(e,t){if((!t||(e._directInactive=!0,!In(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Rn(e.$children[n]);Pn(e,"deactivated")}}function Pn(e,t){ve();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)nt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var Hn=[],zn=[],$n={},Un=!1,qn=!1,Yn=0;function Vn(){Yn=Hn.length=zn.length=0,$n={},Un=qn=!1}var Wn=0,Jn=Date.now;if(X&&!ee){var Kn=window.performance;Kn&&"function"===typeof Kn.now&&Jn()>document.createEvent("Event").timeStamp&&(Jn=function(){return Kn.now()})}function Xn(){var e,t;for(Wn=Jn(),qn=!0,Hn.sort((function(e,t){return e.id-t.id})),Yn=0;Yn<Hn.length;Yn++)e=Hn[Yn],e.before&&e.before(),t=e.id,$n[t]=null,e.run();var n=zn.slice(),r=Hn.slice();Vn(),Qn(n),Gn(r),ce&&$.devtools&&ce.emit("flush")}function Gn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Pn(r,"updated")}}function Zn(e){e._inactive=!1,zn.push(e)}function Qn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ln(e[t],!0)}function er(e){var t=e.id;if(null==$n[t]){if($n[t]=!0,qn){var n=Hn.length-1;while(n>Yn&&Hn[n].id>e.id)n--;Hn.splice(n+1,0,e)}else Hn.push(e);Un||(Un=!0,pt(Xn))}}var tr=0,nr=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new de,this.newDepIds=new de,this.expression="","function"===typeof t?this.getter=t:(this.getter=W(t),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;ve(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Es){if(!this.user)throw Es;tt(Es,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&gt(e),ye(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Es){tt(Es,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:j,set:j};function ir(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function or(e){e._watchers=[];var t=e.$options;t.props&&sr(e,t.props),t.methods&&pr(e,t.methods),t.data?ar(e):je(e._data={},!0),t.computed&&lr(e,t.computed),t.watch&&t.watch!==oe&&mr(e,t.watch)}function sr(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||Fe(!1);var s=function(o){i.push(o);var s=Xe(o,t,n,e);Ne(r,o,s),o in e||ir(e,"_props",o)};for(var a in t)s(a);Fe(!0)}function ar(e){var t=e.$options.data;t=e._data="function"===typeof t?ur(t,e):t||{},l(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&D(r,o)||q(o)||ir(e,"_data",o)}je(t,!0)}function ur(e,t){ve();try{return e.call(t,t)}catch(Es){return tt(Es,t,"data()"),{}}finally{ye()}}var cr={lazy:!0};function lr(e,t){var n=e._computedWatchers=Object.create(null),r=ue();for(var i in t){var o=t[i],s="function"===typeof o?o:o.get;0,r||(n[i]=new nr(e,s||j,j,cr)),i in e||dr(e,i,o)}}function dr(e,t,n){var r=!ue();"function"===typeof n?(rr.get=r?hr(t):fr(n),rr.set=j):(rr.get=n.get?r&&!1!==n.cache?hr(t):fr(n.get):j,rr.set=n.set||j),Object.defineProperty(e,t,rr)}function hr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function fr(e){return function(){return e.call(this,this)}}function pr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?j:F(t[n],e)}function mr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)gr(e,n,r[i]);else gr(e,n,r)}}function gr(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function vr(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Be,e.prototype.$delete=Ie,e.prototype.$watch=function(e,t,n){var r=this;if(l(t))return gr(r,e,t,n);n=n||{},n.user=!0;var i=new nr(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(o){tt(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function br(e){e.prototype._init=function(e){var t=this;t._uid=yr++,t._isVue=!0,e&&e._isComponent?Dr(t,e):t.$options=Je(_r(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Tn(t),Cn(t),mn(t),Pn(t,"beforeCreate"),Ft(t),or(t),St(t),Pn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Dr(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function _r(e){var t=e.options;if(e.super){var n=_r(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=wr(e);i&&M(e.extendOptions,i),t=e.options=Je(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function wr(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function Er(e){this._init(e)}function Cr(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=O(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function xr(e){e.mixin=function(e){return this.options=Je(this.options,e),this}}function Ar(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Je(n.options,e),s["super"]=n,s.options.props&&kr(s),s.options.computed&&Sr(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,H.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=M({},s.options),i[r]=s,s}}function kr(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function Sr(e){var t=e.options.computed;for(var n in t)dr(e.prototype,n,t[n])}function Fr(e){H.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Or(e){return e&&(e.Ctor.options.name||e.tag)}function Mr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function Tr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=Or(s.componentOptions);a&&!t(a)&&jr(n,o,r,i)}}}function jr(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,y(n,t)}br(Er),vr(Er),Fn(Er),jn(Er),yn(Er);var Nr=[String,RegExp,Array],Br={name:"keep-alive",abstract:!0,props:{include:Nr,exclude:Nr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)jr(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Tr(e,(function(e){return Mr(t,e)}))})),this.$watch("exclude",(function(t){Tr(e,(function(e){return!Mr(t,e)}))}))},render:function(){var e=this.$slots.default,t=En(e),n=t&&t.componentOptions;if(n){var r=Or(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Mr(o,r))||s&&r&&Mr(s,r))return t;var a=this,u=a.cache,c=a.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;u[l]?(t.componentInstance=u[l].componentInstance,y(c,l),c.push(l)):(u[l]=t,c.push(l),this.max&&c.length>parseInt(this.max)&&jr(u,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Ir={KeepAlive:Br};function Lr(e){var t={get:function(){return $}};Object.defineProperty(e,"config",t),e.util={warn:fe,extend:M,mergeOptions:Je,defineReactive:Ne},e.set=Be,e.delete=Ie,e.nextTick=pt,e.observable=function(e){return je(e),e},e.options=Object.create(null),H.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,M(e.options.components,Ir),Cr(e),xr(e),Ar(e),Fr(e)}Lr(Er),Object.defineProperty(Er.prototype,"$isServer",{get:ue}),Object.defineProperty(Er.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Er,"FunctionalRenderContext",{value:Gt}),Er.version="2.6.11";var Rr=g("style,class"),Pr=g("input,textarea,option,select,progress"),Hr=function(e,t,n){return"value"===n&&Pr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},zr=g("contenteditable,draggable,spellcheck"),$r=g("events,caret,typing,plaintext-only"),Ur=function(e,t){return Jr(t)||"false"===t?"false":"contenteditable"===e&&$r(t)?t:"true"},qr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Yr="http://www.w3.org/1999/xlink",Vr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Wr=function(e){return Vr(e)?e.slice(6,e.length):""},Jr=function(e){return null==e||!1===e};function Kr(e){var t=e.data,n=e,r=e;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Xr(r.data,t));while(i(n=n.parent))n&&n.data&&(t=Xr(t,n.data));return Gr(t.staticClass,t.class)}function Xr(e,t){return{staticClass:Zr(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Gr(e,t){return i(e)||i(t)?Zr(e,Qr(t)):""}function Zr(e,t){return e?t?e+" "+t:e:t||""}function Qr(e){return Array.isArray(e)?ei(e):u(e)?ti(e):"string"===typeof e?e:""}function ei(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Qr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ti(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(e){return ri(e)||ii(e)};function si(e){return ii(e)?"svg":"math"===e?"math":void 0}var ai=Object.create(null);function ui(e){if(!X)return!0;if(oi(e))return!1;if(e=e.toLowerCase(),null!=ai[e])return ai[e];var t=document.createElement(e);return e.indexOf("-")>-1?ai[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ai[e]=/HTMLUnknownElement/.test(t.toString())}var ci=g("text,number,password,search,email,tel,url");function li(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function di(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function hi(e,t){return document.createElementNS(ni[e],t)}function fi(e){return document.createTextNode(e)}function pi(e){return document.createComment(e)}function mi(e,t,n){e.insertBefore(t,n)}function gi(e,t){e.removeChild(t)}function vi(e,t){e.appendChild(t)}function yi(e){return e.parentNode}function bi(e){return e.nextSibling}function Di(e){return e.tagName}function _i(e,t){e.textContent=t}function wi(e,t){e.setAttribute(t,"")}var Ei=Object.freeze({createElement:di,createElementNS:hi,createTextNode:fi,createComment:pi,insertBefore:mi,removeChild:gi,appendChild:vi,parentNode:yi,nextSibling:bi,tagName:Di,setTextContent:_i,setStyleScope:wi}),Ci={create:function(e,t){xi(t)},update:function(e,t){e.data.ref!==t.data.ref&&(xi(e,!0),xi(t))},destroy:function(e){xi(e,!0)}};function xi(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?y(s[n],o):s[n]===o&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var Ai=new be("",{},[]),ki=["create","activate","update","remove","destroy"];function Si(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&Fi(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Fi(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||ci(r)&&ci(o)}function Oi(e,t,n){var r,o,s={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(s[o]=r);return s}function Mi(e){var t,n,s={},u=e.modules,c=e.nodeOps;for(t=0;t<ki.length;++t)for(s[ki[t]]=[],n=0;n<u.length;++n)i(u[n][ki[t]])&&s[ki[t]].push(u[n][ki[t]]);function l(e){return new be(c.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function n(){0===--n.listeners&&h(e)}return n.listeners=t,n}function h(e){var t=c.parentNode(e);i(t)&&c.removeChild(t,e)}function f(e,t,n,r,s,a,u){if(i(e.elm)&&i(a)&&(e=a[u]=Ee(e)),e.isRootInsert=!s,!p(e,t,n,r)){var l=e.data,d=e.children,h=e.tag;i(h)?(e.elm=e.ns?c.createElementNS(e.ns,h):c.createElement(h,e),w(e),b(e,d,t),i(l)&&_(e,t),y(n,e.elm,r)):o(e.isComment)?(e.elm=c.createComment(e.text),y(n,e.elm,r)):(e.elm=c.createTextNode(e.text),y(n,e.elm,r))}}function p(e,t,n,r){var s=e.data;if(i(s)){var a=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return m(e,t),y(n,e.elm,r),o(a)&&v(e,t,n,r),!0}}function m(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,D(e)?(_(e,t),w(e)):(xi(e),t.push(e))}function v(e,t,n,r){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Ai,a);t.push(a);break}y(n,e.elm,r)}function y(e,t,n){i(e)&&(i(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function b(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r)}else a(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function D(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function _(e,n){for(var r=0;r<s.create.length;++r)s.create[r](Ai,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(Ai,e),i(t.insert)&&n.push(e))}function w(e){var t;if(i(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var n=e;while(n)i(t=n.context)&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent}i(t=On)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function E(e,t,n,r,i,o){for(;r<=i;++r)f(n[r],o,e,t,!1,n,r)}function C(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)C(e.children[n])}function x(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(A(r),C(r)):h(r.elm))}}function A(e,t){if(i(t)||i(e.data)){var n,r=s.remove.length+1;for(i(t)?t.listeners+=r:t=d(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&A(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else h(e.elm)}function k(e,t,n,o,s){var a,u,l,d,h=0,p=0,m=t.length-1,g=t[0],v=t[m],y=n.length-1,b=n[0],D=n[y],_=!s;while(h<=m&&p<=y)r(g)?g=t[++h]:r(v)?v=t[--m]:Si(g,b)?(F(g,b,o,n,p),g=t[++h],b=n[++p]):Si(v,D)?(F(v,D,o,n,y),v=t[--m],D=n[--y]):Si(g,D)?(F(g,D,o,n,y),_&&c.insertBefore(e,g.elm,c.nextSibling(v.elm)),g=t[++h],D=n[--y]):Si(v,b)?(F(v,b,o,n,p),_&&c.insertBefore(e,v.elm,g.elm),v=t[--m],b=n[++p]):(r(a)&&(a=Oi(t,h,m)),u=i(b.key)?a[b.key]:S(b,t,h,m),r(u)?f(b,o,e,g.elm,!1,n,p):(l=t[u],Si(l,b)?(F(l,b,o,n,p),t[u]=void 0,_&&c.insertBefore(e,l.elm,g.elm)):f(b,o,e,g.elm,!1,n,p)),b=n[++p]);h>m?(d=r(n[y+1])?null:n[y+1].elm,E(e,d,n,p,y,o)):p>y&&x(t,h,m)}function S(e,t,n,r){for(var o=n;o<r;o++){var s=t[o];if(i(s)&&Si(e,s))return o}}function F(e,t,n,a,u,l){if(e!==t){i(t.elm)&&i(a)&&(t=a[u]=Ee(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?T(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var h,f=t.data;i(f)&&i(h=f.hook)&&i(h=h.prepatch)&&h(e,t);var p=e.children,m=t.children;if(i(f)&&D(t)){for(h=0;h<s.update.length;++h)s.update[h](e,t);i(h=f.hook)&&i(h=h.update)&&h(e,t)}r(t.text)?i(p)&&i(m)?p!==m&&k(d,p,m,n,l):i(m)?(i(e.text)&&c.setTextContent(d,""),E(d,null,m,0,m.length-1,n)):i(p)?x(p,0,p.length-1):i(e.text)&&c.setTextContent(d,""):e.text!==t.text&&c.setTextContent(d,t.text),i(f)&&i(h=f.hook)&&i(h=h.postpatch)&&h(e,t)}}}function O(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var M=g("attrs,class,staticClass,staticStyle,key");function T(e,t,n,r){var s,a=t.tag,u=t.data,c=t.children;if(r=r||u&&u.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(s=u.hook)&&i(s=s.init)&&s(t,!0),i(s=t.componentInstance)))return m(t,n),!0;if(i(a)){if(i(c))if(e.hasChildNodes())if(i(s=u)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var l=!0,d=e.firstChild,h=0;h<c.length;h++){if(!d||!T(d,c[h],n,r)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else b(t,c,n);if(i(u)){var f=!1;for(var p in u)if(!M(p)){f=!0,_(t,n);break}!f&&u["class"]&&gt(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a){if(!r(t)){var u=!1,d=[];if(r(e))u=!0,f(t,d);else{var h=i(e.nodeType);if(!h&&Si(e,t))F(e,t,d,null,null,a);else{if(h){if(1===e.nodeType&&e.hasAttribute(P)&&(e.removeAttribute(P),n=!0),o(n)&&T(e,t,d))return O(t,d,!0),e;e=l(e)}var p=e.elm,m=c.parentNode(p);if(f(t,d,p._leaveCb?null:m,c.nextSibling(p)),i(t.parent)){var g=t.parent,v=D(t);while(g){for(var y=0;y<s.destroy.length;++y)s.destroy[y](g);if(g.elm=t.elm,v){for(var b=0;b<s.create.length;++b)s.create[b](Ai,g);var _=g.data.hook.insert;if(_.merged)for(var w=1;w<_.fns.length;w++)_.fns[w]()}else xi(g);g=g.parent}}i(m)?x([e],0,0):i(e.tag)&&C(e)}}return O(t,d,u),t.elm}i(e)&&C(e)}}var Ti={create:ji,update:ji,destroy:function(e){ji(e,Ai)}};function ji(e,t){(e.data.directives||t.data.directives)&&Ni(e,t)}function Ni(e,t){var n,r,i,o=e===Ai,s=t===Ai,a=Ii(e.data.directives,e.context),u=Ii(t.data.directives,t.context),c=[],l=[];for(n in u)r=a[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Ri(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(Ri(i,"bind",t,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Ri(c[n],"inserted",t,e)};o?_t(t,"insert",d):d()}if(l.length&&_t(t,"postpatch",(function(){for(var n=0;n<l.length;n++)Ri(l[n],"componentUpdated",t,e)})),!o)for(n in a)u[n]||Ri(a[n],"unbind",e,e,s)}var Bi=Object.create(null);function Ii(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Bi),i[Li(r)]=r,r.def=Ke(t.$options,"directives",r.name,!0);return i}function Li(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Ri(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(Es){tt(Es,n.context,"directive "+e.name+" "+t+" hook")}}var Pi=[Ci,Ti];function Hi(e,t){var n=t.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var o,s,a,u=t.elm,c=e.data.attrs||{},l=t.data.attrs||{};for(o in i(l.__ob__)&&(l=t.data.attrs=M({},l)),l)s=l[o],a=c[o],a!==s&&zi(u,o,s);for(o in(ee||ne)&&l.value!==c.value&&zi(u,"value",l.value),c)r(l[o])&&(Vr(o)?u.removeAttributeNS(Yr,Wr(o)):zr(o)||u.removeAttribute(o))}}function zi(e,t,n){e.tagName.indexOf("-")>-1?$i(e,t,n):qr(t)?Jr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):zr(t)?e.setAttribute(t,Ur(t,n)):Vr(t)?Jr(n)?e.removeAttributeNS(Yr,Wr(t)):e.setAttributeNS(Yr,t,n):$i(e,t,n)}function $i(e,t,n){if(Jr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Ui={create:Hi,update:Hi};function qi(e,t){var n=t.elm,o=t.data,s=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Kr(t),u=n._transitionClasses;i(u)&&(a=Zr(a,Qr(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Yi,Vi={create:qi,update:qi},Wi="__r",Ji="__c";function Ki(e){if(i(e[Wi])){var t=ee?"change":"input";e[t]=[].concat(e[Wi],e[t]||[]),delete e[Wi]}i(e[Ji])&&(e.change=[].concat(e[Ji],e.change||[]),delete e[Ji])}function Xi(e,t,n){var r=Yi;return function i(){var o=t.apply(null,arguments);null!==o&&Qi(e,i,n,r)}}var Gi=st&&!(ie&&Number(ie[1])<=53);function Zi(e,t,n,r){if(Gi){var i=Wn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Yi.addEventListener(e,t,se?{capture:n,passive:r}:n)}function Qi(e,t,n,r){(r||Yi).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Yi=t.elm,Ki(n),Dt(n,i,Zi,Qi,Xi,t.context),Yi=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,s=t.elm,a=e.data.domProps||{},u=t.data.domProps||{};for(n in i(u.__ob__)&&(u=t.data.domProps=M({},u)),a)n in u||(s[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var c=r(o)?"":String(o);io(s,c)&&(s.value=c)}else if("innerHTML"===n&&ii(s.tagName)&&r(s.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var l=to.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(l.firstChild)s.appendChild(l.firstChild)}else if(o!==a[n])try{s[n]=o}catch(Es){}}}}function io(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||so(e,t))}function oo(e,t){var n=!0;try{n=document.activeElement!==e}catch(Es){}return n&&e.value!==t}function so(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var ao={create:ro,update:ro},uo=_((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function co(e){var t=lo(e.style);return e.staticStyle?M(e.staticStyle,t):t}function lo(e){return Array.isArray(e)?T(e):"string"===typeof e?uo(e):e}function ho(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=co(i.data))&&M(r,n)}(n=co(e.data))&&M(r,n);var o=e;while(o=o.parent)o.data&&(n=co(o.data))&&M(r,n);return r}var fo,po=/^--/,mo=/\s*!important$/,go=function(e,t,n){if(po.test(t))e.style.setProperty(t,n);else if(mo.test(n))e.style.setProperty(A(t),n.replace(mo,""),"important");else{var r=yo(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},vo=["Webkit","Moz","ms"],yo=_((function(e){if(fo=fo||document.createElement("div").style,e=E(e),"filter"!==e&&e in fo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<vo.length;n++){var r=vo[n]+t;if(r in fo)return r}}));function bo(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,a,u=t.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},d=c||l,h=lo(t.data.style)||{};t.data.normalizedStyle=i(h.__ob__)?M({},h):h;var f=ho(t,!0);for(a in d)r(f[a])&&go(u,a,"");for(a in f)s=f[a],s!==d[a]&&go(u,a,null==s?"":s)}}var Do={create:bo,update:bo},_o=/\s+/;function wo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(_o).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Eo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(_o).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Co(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&M(t,xo(e.name||"v")),M(t,e),t}return"string"===typeof e?xo(e):void 0}}var xo=_((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ao=X&&!te,ko="transition",So="animation",Fo="transition",Oo="transitionend",Mo="animation",To="animationend";Ao&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Fo="WebkitTransition",Oo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mo="WebkitAnimation",To="webkitAnimationEnd"));var jo=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function No(e){jo((function(){jo(e)}))}function Bo(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),wo(e,t))}function Io(e,t){e._transitionClasses&&y(e._transitionClasses,t),Eo(e,t)}function Lo(e,t,n){var r=Po(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===ko?Oo:To,u=0,c=function(){e.removeEventListener(a,l),n()},l=function(t){t.target===e&&++u>=s&&c()};setTimeout((function(){u<s&&c()}),o+1),e.addEventListener(a,l)}var Ro=/\b(transform|all)(,|$)/;function Po(e,t){var n,r=window.getComputedStyle(e),i=(r[Fo+"Delay"]||"").split(", "),o=(r[Fo+"Duration"]||"").split(", "),s=Ho(i,o),a=(r[Mo+"Delay"]||"").split(", "),u=(r[Mo+"Duration"]||"").split(", "),c=Ho(a,u),l=0,d=0;t===ko?s>0&&(n=ko,l=s,d=o.length):t===So?c>0&&(n=So,l=c,d=u.length):(l=Math.max(s,c),n=l>0?s>c?ko:So:null,d=n?n===ko?o.length:u.length:0);var h=n===ko&&Ro.test(r[Fo+"Property"]);return{type:n,timeout:l,propCount:d,hasTransform:h}}function Ho(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return zo(t)+zo(e[n])})))}function zo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function $o(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Co(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var s=o.css,a=o.type,c=o.enterClass,l=o.enterToClass,d=o.enterActiveClass,h=o.appearClass,f=o.appearToClass,p=o.appearActiveClass,g=o.beforeEnter,v=o.enter,y=o.afterEnter,b=o.enterCancelled,D=o.beforeAppear,_=o.appear,w=o.afterAppear,E=o.appearCancelled,C=o.duration,x=On,A=On.$vnode;while(A&&A.parent)x=A.context,A=A.parent;var k=!x._isMounted||!e.isRootInsert;if(!k||_||""===_){var S=k&&h?h:c,F=k&&p?p:d,O=k&&f?f:l,M=k&&D||g,T=k&&"function"===typeof _?_:v,j=k&&w||y,N=k&&E||b,B=m(u(C)?C.enter:C);0;var I=!1!==s&&!te,L=Yo(T),P=n._enterCb=R((function(){I&&(Io(n,O),Io(n,F)),P.cancelled?(I&&Io(n,S),N&&N(n)):j&&j(n),n._enterCb=null}));e.data.show||_t(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),T&&T(n,P)})),M&&M(n),I&&(Bo(n,S),Bo(n,F),No((function(){Io(n,S),P.cancelled||(Bo(n,O),L||(qo(B)?setTimeout(P,B):Lo(n,a,P)))}))),e.data.show&&(t&&t(),T&&T(n,P)),I||L||P()}}}function Uo(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Co(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var s=o.css,a=o.type,c=o.leaveClass,l=o.leaveToClass,d=o.leaveActiveClass,h=o.beforeLeave,f=o.leave,p=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,y=o.duration,b=!1!==s&&!te,D=Yo(f),_=m(u(y)?y.leave:y);0;var w=n._leaveCb=R((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(Io(n,l),Io(n,d)),w.cancelled?(b&&Io(n,c),g&&g(n)):(t(),p&&p(n)),n._leaveCb=null}));v?v(E):E()}function E(){w.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),h&&h(n),b&&(Bo(n,c),Bo(n,d),No((function(){Io(n,c),w.cancelled||(Bo(n,l),D||(qo(_)?setTimeout(w,_):Lo(n,a,w)))}))),f&&f(n,w),b||D||w())}}function qo(e){return"number"===typeof e&&!isNaN(e)}function Yo(e){if(r(e))return!1;var t=e.fns;return i(t)?Yo(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Vo(e,t){!0!==t.data.show&&$o(t)}var Wo=X?{create:Vo,activate:Vo,remove:function(e,t){!0!==e.data.show?Uo(e,t):t()}}:{},Jo=[Ui,Vi,no,ao,Do,Wo],Ko=Jo.concat(Pi),Xo=Mi({nodeOps:Ei,modules:Ko});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&is(e,"input")}));var Go={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?_t(n,"postpatch",(function(){Go.componentUpdated(e,t,n)})):Zo(e,t,n.context),e._vOptions=[].map.call(e.options,ts)):("textarea"===n.tag||ci(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",ns),e.addEventListener("compositionend",rs),e.addEventListener("change",rs),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Zo(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ts);if(i.some((function(e,t){return!I(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return es(e,i)})):t.value!==t.oldValue&&es(t.value,i);o&&is(e,"change")}}}};function Zo(e,t,n){Qo(e,t,n),(ee||ne)&&setTimeout((function(){Qo(e,t,n)}),0)}function Qo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,u=e.options.length;a<u;a++)if(s=e.options[a],i)o=L(r,ts(s))>-1,s.selected!==o&&(s.selected=o);else if(I(ts(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function es(e,t){return t.every((function(t){return!I(t,e)}))}function ts(e){return"_value"in e?e._value:e.value}function ns(e){e.target.composing=!0}function rs(e){e.target.composing&&(e.target.composing=!1,is(e.target,"input"))}function is(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function os(e){return!e.componentInstance||e.data&&e.data.transition?e:os(e.componentInstance._vnode)}var ss={bind:function(e,t,n){var r=t.value;n=os(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,$o(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?$o(n,(function(){e.style.display=e.__vOriginalDisplay})):Uo(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},as={model:Go,show:ss},us={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function cs(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?cs(En(t.children)):e}function ls(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[E(o)]=i[o];return t}function ds(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function hs(e){while(e=e.parent)if(e.data.transition)return!0}function fs(e,t){return t.key===e.key&&t.tag===e.tag}var ps=function(e){return e.tag||wn(e)},ms=function(e){return"show"===e.name},gs={name:"transition",props:us,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ps),n.length)){0;var r=this.mode;0;var i=n[0];if(hs(this.$vnode))return i;var o=cs(i);if(!o)return i;if(this._leaving)return ds(e,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=ls(this),c=this._vnode,l=cs(c);if(o.data.directives&&o.data.directives.some(ms)&&(o.data.show=!0),l&&l.data&&!fs(o,l)&&!wn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=M({},u);if("out-in"===r)return this._leaving=!0,_t(d,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),ds(e,i);if("in-out"===r){if(wn(o))return c;var h,f=function(){h()};_t(u,"afterEnter",f),_t(u,"enterCancelled",f),_t(d,"delayLeave",(function(e){h=e}))}}return i}}},vs=M({tag:String,moveClass:String},us);delete vs.mode;var ys={props:vs,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Mn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=ls(this),a=0;a<i.length;a++){var u=i[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(r){for(var c=[],l=[],d=0;d<r.length;d++){var h=r[d];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):l.push(h)}this.kept=e(t,null,c),this.removed=l}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(bs),e.forEach(Ds),e.forEach(_s),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;Bo(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Oo,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Oo,e),n._moveCb=null,Io(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ao)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Eo(n,e)})),wo(n,t),n.style.display="none",this.$el.appendChild(n);var r=Po(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function bs(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Ds(e){e.data.newPos=e.elm.getBoundingClientRect()}function _s(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var ws={Transition:gs,TransitionGroup:ys};Er.config.mustUseProp=Hr,Er.config.isReservedTag=oi,Er.config.isReservedAttr=Rr,Er.config.getTagNamespace=si,Er.config.isUnknownElement=ui,M(Er.options.directives,as),M(Er.options.components,ws),Er.prototype.__patch__=X?Xo:j,Er.prototype.$mount=function(e,t){return e=e&&X?li(e):void 0,Nn(this,e,t)},X&&setTimeout((function(){$.devtools&&ce&&ce.emit("init",Er)}),0),t["a"]=Er}).call(this,n("7d15"))},"9f14":function(e,t,n){"use strict";n("36580")},a35f:function(e,t,n){var r=n("6b1d"),i=n("aaf2"),o=i.NATIVE_ARRAY_BUFFER_VIEWS;r({target:"ArrayBuffer",stat:!0,forced:!o},{isView:i.isView})},a5a3:function(e,t,n){var r=n("f117");e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},a80c:function(e,t,n){"use strict";n("7557")},ab7f:function(e,t,n){"use strict";var r=n("6b1d"),i=n("8081"),o=n("b07c");r({target:"String",proto:!0,forced:o("sub")},{sub:function(){return i(this,"sub","","")}})},adb7:function(e,t,n){"use strict";var r=n("6b1d"),i=n("f498"),o=n("5428"),s=n("9618"),a=n("abdf").f,u=n("7a25"),c=n("4cce"),l=n("8fa9"),d=n("aa4d"),h=n("96be"),f=n("c9bf"),p=n("d4cb"),m=n("0e93"),g="DOMException",v=o("Error"),y=o(g),b=function(){c(this,D);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=v(t);return i.name=g,a(r,"stack",s(1,f(i.stack,1))),l(r,this,b),r},D=b.prototype=y.prototype,_="stack"in v(g),w="stack"in new y(1,2),E=y&&p&&Object.getOwnPropertyDescriptor(i,g),C=!!E&&!(E.writable&&E.configurable),x=_&&!C&&!w;r({global:!0,constructor:!0,forced:m||x},{DOMException:x?b:y});var A=o(g),k=A.prototype;if(k.constructor!==A)for(var S in m||a(k,"constructor",s(1,A)),h)if(u(h,S)){var F=h[S],O=F.s;u(A,O)||a(A,O,s(6,F.c))}},b0f5:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return M}));n("2aa5"),n("dee9"),n("58d3");var r=/iPhone/i,i=/iPod/i,o=/iPad/i,s=/\biOS-universal(?:.+)Mac\b/i,a=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,l=/Silk/i,d=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,f=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i,y=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};function b(e){return function(t){return t.test(e)}}function D(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,D=n.split("[FBAN");"undefined"!==typeof D[1]&&(n=D[0]),D=n.split("Twitter"),"undefined"!==typeof D[1]&&(n=D[0]);var _=b(n),w={apple:{phone:_(r)&&!_(d),ipod:_(i),tablet:!_(r)&&(_(o)||y(t))&&!_(d),universal:_(s),device:(_(r)||_(i)||_(o)||_(s)||y(t))&&!_(d)},amazon:{phone:_(c),tablet:!_(c)&&_(l),device:_(c)||_(l)},android:{phone:!_(d)&&_(c)||!_(d)&&_(a),tablet:!_(d)&&!_(c)&&!_(a)&&(_(l)||_(u)),device:!_(d)&&(_(c)||_(l)||_(a)||_(u))||_(/\bokhttp\b/i)},windows:{phone:_(d),tablet:_(h),device:_(d)||_(h)},other:{blackberry:_(f),blackberry10:_(p),opera:_(m),firefox:_(v),chrome:_(g),device:_(f)||_(p)||_(m)||_(v)||_(g)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}var _="undefined"===typeof window,w=!_&&navigator.userAgent.toLowerCase(),E=w&&/ipad/.test(w),C=w&&!E&&/(iphone|ipod)/.test(w),x=w&&w.indexOf("android")>0,A=(w&&/windows/.test(w),w&&!E&&!C&&/macintosh/.test(w),navigator,w&&/opera|opr\/[\d]+/.test(w)),k=w&&/edge\/(\d+)/.test(w),S=(w&&!A&&!k&&/chrome/.test(w)&&/webkit/.test(w),C||x||E||D(window.navigator).any),F=(navigator.vendor.match(/apple/i)&&!w.match(/crios/i)&&!w.match(/fxios/i)&&w.match(/opera|opt\//),/firefox\/([\d.]+)/.test(w)),O=!1,M=function(){return O}},b394:function(e,t,n){"use strict";var r=n("6b1d"),i=n("8081"),o=n("b07c");r({target:"String",proto:!0,forced:o("strike")},{strike:function(){return i(this,"strike","","")}})},ba2b:function(e,t,n){(function(n){var r,i;(function(t,n){e.exports=n(t)})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n?n:this,(function(n){"use strict";n=n||{};var o,s=n.Base64,a="2.6.4",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(u),l=String.fromCharCode,d=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(e){return e.replace(h,d)},p=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[u.charAt(n>>>18),u.charAt(n>>>12&63),t>=2?"=":u.charAt(n>>>6&63),t>=1?"=":u.charAt(63&n)];return r.join("")},m=n.btoa&&"function"==typeof n.btoa?function(e){return n.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,p)},g=function(e){return m(f(String(e)))},v=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},y=function(e,t){return t?v(g(e)):g(e)},b=function(e){return y(e,!0)};n.Uint8Array&&(o=function(e,t){for(var n="",r=0,i=e.length;r<i;r+=3){var o=e[r],s=e[r+1],a=e[r+2],c=o<<16|s<<8|a;n+=u.charAt(c>>>18)+u.charAt(c>>>12&63)+("undefined"!=typeof s?u.charAt(c>>>6&63):"=")+("undefined"!=typeof a?u.charAt(63&c):"=")}return t?v(n):n});var D,_=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return l(55296+(n>>>10))+l(56320+(1023&n));case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},E=function(e){return e.replace(_,w)},C=function(e){var t=e.length,n=t%4,r=(t>0?c[e.charAt(0)]<<18:0)|(t>1?c[e.charAt(1)]<<12:0)|(t>2?c[e.charAt(2)]<<6:0)|(t>3?c[e.charAt(3)]:0),i=[l(r>>>16),l(r>>>8&255),l(255&r)];return i.length-=[0,0,2,1][n],i.join("")},x=n.atob&&"function"==typeof n.atob?function(e){return n.atob(e)}:function(e){return e.replace(/\S{1,4}/g,C)},A=function(e){return x(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},k=function(e){return E(x(e))},S=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},F=function(e){return k(S(e))};n.Uint8Array&&(D=function(e){return Uint8Array.from(A(S(e)),(function(e){return e.charCodeAt(0)}))});var O=function(){var e=n.Base64;return n.Base64=s,e};if(n.Base64={VERSION:a,atob:A,btoa:m,fromBase64:F,toBase64:y,utob:f,encode:y,encodeURI:b,btou:E,decode:F,noConflict:O,fromUint8Array:o,toUint8Array:D},"function"===typeof Object.defineProperty){var M=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",M((function(){return F(this)}))),Object.defineProperty(String.prototype,"toBase64",M((function(e){return y(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",M((function(){return y(this,!0)})))}}return n["Meteor"]&&(Base64=n.Base64),e.exports?e.exports.Base64=n.Base64:(r=[],i=function(){return n.Base64}.apply(t,r),void 0===i||(e.exports=i)),{Base64:n.Base64}}))}).call(this,n("7d15"))},ba92:function(e,t,n){var r=n("31c3");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},bd28:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:["vote-item"],attrs:{tabindex:e.tabindex}},[n("span",{staticClass:"vote-emoji"},[e._v(e._s(e.vote.emoji))]),n("span",{staticClass:"vote-count"},[e._v(e._s(e.vote.count))])])},i=[],o=(n("e94e"),{name:"im-emoji-vote",props:{vote:Object,index:Number,emojiVotes:Array,tabindex:{type:Number,default:-1}}}),s=o,a=(n("1eb6"),n("2be6")),u=Object(a["a"])(s,r,i,!1,null,"2c1bae51",null);t["a"]=u.exports},c18c:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"tr",weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){return e+"."}};return n.default.locale(r,null,!0),r}))},c4d4:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),i="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),o="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),s="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function u(e,t,n){var r,i;return"m"===n?t?"минута":"минуту":e+" "+(r=+e,i={mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?i[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?i[1]:i[2])}var c=function(e,t){return a.test(t)?r[e.month()]:i[e.month()]};c.s=i,c.f=r;var l=function(e,t){return a.test(t)?o[e.month()]:s[e.month()]};l.s=s,l.f=o;var d={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:c,monthsShort:l,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:u,mm:u,h:"час",hh:u,d:"день",dd:u,M:"месяц",MM:u,y:"год",yy:u},ordinal:function(e){return e},meridiem:function(e){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"}};return n.default.locale(d,null,!0),d}))},c761:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-reply-list"},[n("div",{staticClass:"im-reply-header"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showToggleBtn,expression:"showToggleBtn"}],staticClass:"toggle-btn",attrs:{role:"button",tabindex:e.tabindex,"aria-label":e.showMessage?e.$t("xmpp_collapsed_all"):e.replyCountMessage},on:{click:e.toggleShow,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toggleShow(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.toggleShow(t))}]}},[e.showMessage?[n("span",{staticClass:"text"},[e._v(e._s(e.$t("xmpp_collapsed_all")))]),e.loading?n("span",{staticClass:"loading-icon"},[n("i",{staticClass:"zm-icon-loading",staticStyle:{"font-size":"14px","margin-left":"4px"}})]):n("i",{staticClass:"zm-icon-up"})]:[n("span",{staticClass:"text"},[e._v(e._s(e.replyCountMessage))]),n("i",{staticClass:"zm-icon-down"})]],2),e.showEmojiVote?n("div",{staticClass:"emoji-vote"},e._l(e.emojiVotes,(function(t,r){return n("emoji-vote",{key:t.emoji,attrs:{vote:t,"emoji-votes":e.emojiVotes,index:r}})})),1):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMessage,expression:"showMessage"}],ref:"replyList",staticClass:"replay-list",attrs:{tabindex:e.replyList.length?e.tabindex:-1,"aria-label":"Message reply list, press arrow key to navigate, press TAB for more options",role:"list"},on:{keydown:function(t){return t.stopPropagation(),e.handleKeydown(t)},focusout:e.clearFocusedMsgId}},e._l(e.replyList,(function(t,r){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMessage,expression:"showMessage"}],key:t.id,class:e.getListItemCls(t.id),attrs:{tabindex:"1","aria-label":e.getAriaLabel(t)}},[n("message",{attrs:{message:t,"avatar-size":24,"should-show-avatar":e.needAvatar(t,r)},on:{"open-message":e.openMessage}})],1)})),0)])},i=[],o=(n("e94e"),n("33ef"),n("ef14"),n("8563")),s=n("2bb0"),a=n("bd28"),u=n("46b8"),c=n("e343"),l=n("f5ea"),d={name:"im-reply-list",mixins:[o["b"],s["a"]],components:{Message:c["a"],EmojiVote:a["a"]},props:{list:{type:Array,default:function(){return[]}},message:{type:Object,default:function(){return{}}},emojiVotes:{type:Array,default:function(){return[]}},replyId:String,disabled:Boolean,ownerJid:String,msgTime:Number,commentTotal:Number,tabindex:{type:Number,default:-1},getControlsElement:{type:Function,required:!0}},data:function(){return{loading:!1,loaded:!1,activeIndex:"",useKeyboard:!1}},computed:{showToggleBtn:function(){return this.list.length},showMessage:{set:function(e){this.message.showMessage=e},get:function(){return this.message.showMessage}},showEmojiVote:function(){var e=this.emojiVotes.length;return e&&!this.disabled&&e<=2},replyList:function(){return this.list.slice(0)},replyCountMessage:function(){var e,t=this.list;return e=this.loaded?t.length:this.commentTotal,this.$t(1===e?"xmpp_reply_one":"xmpp_replies",[e])}},inject:["chatPanel"],methods:{toggleShow:function(e){if(this.showMessage)this.showMessage=!1;else{this.showMessage=!0;var t=this.chatPanel.$el.querySelector(".zm-scrollbar__wrap"),n=t.scrollTop;this.$nextTick((function(){t.scrollTop=n}))}},openMessage:function(){this.showMessage||(this.showMessage=!0)},needAvatar:function(e,t){var n=0===t,r="edit"===e.operType||e.edited;if(n||r)return!0;var i=this.replyList[t-1],o=i.channelJid!==e.channelJid,s=i.senderName!==e.senderName,a=Object(u["a"])(i.time,e.time)>0;return o||a||s},fetchComments:function(e){if(!this.loading&&!this.loaded){var t=this.commentTotal;if(!(t<=0)){this.loading=!0;try{this.loading=!1,this.loaded=!0,e&&e()}catch(n){this.loading=!1,console.error(n)}}}},getAriaLabel:function(e){var t=(null===e||void 0===e?void 0:e.senderName)+", "+Object(l["a"])(null===e||void 0===e?void 0:e.timeFromMeetingStart)+", "+(null===e||void 0===e?void 0:e.content);return t||""},getListItemCls:function(e){var t=["replay-list-item"];return e===this.activeIndex&&this.useKeyboard&&t.push("is-keyboard-active"),t.join(" ")}}},h=d,f=(n("f3e0"),n("2be6")),p=Object(f["a"])(h,r,i,!1,null,"11db9b06",null);t["default"]=p.exports},c87f:function(e,t,n){var r=n("6b1d"),i=n("95ad"),o=n("72df"),s=n("7526"),a=n("e023").onFreeze,u=Object.freeze,c=o((function(){u(1)}));r({target:"Object",stat:!0,forced:c,sham:!i},{freeze:function(e){return u&&s(e)?u(a(e)):e}})},c998:function(e,t,n){"use strict";var r=n("8aef"),i=n("3ad5");r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},cb41:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return n.default.locale(r,null,!0),r}))},cc18:function(e,t,n){var r=n("f498"),i=n("72df"),o=n("70b7"),s=n("2a3e"),a=n("61ad").trim,u=n("fbf7"),c=o("".charAt),l=r.parseFloat,d=r.Symbol,h=d&&d.iterator,f=1/l(u+"-0")!==-1/0||h&&!i((function(){l(Object(h))}));e.exports=f?function(e){var t=a(s(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},cc2b:function(e,t,n){},cdf0:function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}}}))},d48b:function(e,t,n){"use strict";var r=n("6b1d"),i=n("8081"),o=n("b07c");r({target:"String",proto:!0,forced:o("bold")},{bold:function(){return i(this,"b","","")}})},d48b1:function(e,t,n){var r=n("6b1d"),i=n("6009").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},de07:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"pt",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sa".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+"º"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return n.default.locale(r,null,!0),r}))},e343:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-message",style:e.msgStyle,attrs:{id:e.id,role:"listitem"},on:{focusin:e.handleFocusin,focusout:e.handleFocusout}},[e.shouldShowAvatar&&!e.notRecord?n("div",{staticClass:"message-header",style:{"padding-left":e.avatarSize+"px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAvatar,expression:"shouldShowAvatar"}],staticClass:"name",attrs:{title:e.senderName}},[e._v(" "+e._s(e.senderName)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAvatar,expression:"shouldShowAvatar"}],staticClass:"time"},[e._v(" "+e._s(e.formatTime(e.message.timeFromMeetingStart))+" "),e.isEdited?n("span",[e._v("("+e._s(e.$t("xmpp_edited_message"))+")")]):e._e()])]):e._e(),n("div",{staticClass:"message-content"},[n("div",{staticClass:"avatar-wrapper",style:{width:e.avatarSize+"px"}},[n("avatar",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowAvatar,expression:"shouldShowAvatar"}],attrs:{size:e.avatarSize,avatar:e.message.senderAvatar,name:e.avatarName,"channel-jid":e.message.channelJid||"","not-record":e.notRecord,"is-not-support":e.message.isNotSupport,"avatar-short-name":e.message.avatarShortName,jid:e.message.senderJid,"is-deleted":e.isDeleted,"is-xmpp":e.message.xmpp}})],1),n("div",{staticClass:"content"},[n("div",{staticClass:"rich-text-wrapper"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"richText",staticClass:"rich-text",class:{"is-text":e.isText,"is-image":e.isImage,"is-deleted":e.isDeleted,"is-file":e.isFile}},[e.isFile?n("div",[e.isError?n("img",{attrs:{alt:"error placeholder",src:e.message.message}}):n("file",{attrs:{file:e.message.cFile,tabindex:e.tabindex}})],1):e._e(),e.isImage?n("div",[e.isError?e._e():n("image-message",{attrs:{lazy:!0,message:e.message,tabindex:e.tabindex}})],1):n("div",{staticClass:"html-content",domProps:{innerHTML:e._s(e.computedHtmlContent)}}),e.isLoading?n("div",{staticClass:"image-mask"}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPreview,expression:"showPreview"}],staticClass:"triangle-show-preview",on:{click:e.switchPreview}},[n("zm-button",{directives:[{name:"show",rawName:"v-show",value:!e.openPreview,expression:"!openPreview"}],attrs:{ghost:"",icon:"zm-icon-right"}}),n("zm-button",{directives:[{name:"show",rawName:"v-show",value:e.openPreview,expression:"openPreview"}],attrs:{ghost:"",icon:"zm-icon-down"}})],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showControls,expression:"showControls"}],ref:"controls",staticClass:"controls",style:e.controlStyle}),e.showEmojiVote?n("div",{staticClass:"emoji-vote"},e._l(e.emojiVotes,(function(t,r){return n("emoji-vote",{key:t.emoji,attrs:{vote:t,"emoji-votes":e.emojiVotes,index:r,tabindex:e.tabindex}})})),1):e._e()])])]),e.showPreview?n("div",{directives:[{name:"show",rawName:"v-show",value:e.openPreview,expression:"openPreview"}],staticClass:"link-preview-list-wrapper"},[e.isText?n("link-preview-list",{attrs:{previews:e.previews}}):e._e()],1):e._e(),e.isReply?e._e():n("reply-list",{ref:"replyList",attrs:{list:e.message.comments,"reply-id":e.message.id,"emoji-votes":e.emojiVotes,message:e.message,disabled:e.disabled,"owner-jid":e.message.senderJid,"msg-time":e.message.time,"comment-total":e.replyCount,tabindex:e.tabindex,"get-controls-element":e.getControlsElement}})],1)},i=[],o=n("de79"),s=(n("ef1f"),n("f3b8"),n("918c"),n("e94e"),n("fa8c"),n("f8a5"),n("2aa5"),n("62c8"),n("8d0d"),n("c78b"),n("bd28")),a=n("45ce"),u=n("9ce4"),c=n("ba2b"),l=n.n(c),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-file",attrs:{tabindex:e.tabindex,"aria-label":"Download file button"},on:{click:e.tryDownload,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.tryDownload(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.stopPropagation(),t.preventDefault(),e.tryDownload(t))}],mouseenter:function(t){e.showTip=!0},mouseleave:function(t){e.showTip=!1}}},[n("div",{staticClass:"file-type"},[n("span",{staticClass:"file-icon"},[n("i",{class:e.file.icon}),n("span",{staticClass:"file-status"},[n("i",{class:e.statusIcon})])])]),n("div",{staticClass:"file-desc"},[n("h1",{staticClass:"file-name"},[e._v(e._s(e.file.name))]),n("div",{staticClass:"file-detail"},[n("span",{staticClass:"file-size"},[e._v(e._s(e.file.size))]),e.isSending?[n("zm-progress",{attrs:{"show-text":!1,percentage:e.file.uploadProgress}}),n("span",{staticClass:"file-close-btn icon-close",attrs:{role:"button",title:e.$t("cancel"),tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.cancelSend(t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.cancelSend(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.stopPropagation(),t.preventDefault(),e.cancelSend(t))}]}})]:e.isDownloading?[n("zm-progress",{attrs:{"show-text":!1,percentage:e.file.downloadProgress}}),n("span",{staticClass:"file-close-btn icon-close",attrs:{role:"button",title:e.$t("cancel"),tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.cancelDownload(t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.cancelDownload(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.stopPropagation(),t.preventDefault(),e.cancelDownload(t))}]}})]:[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showTip,expression:"showTip"}],staticClass:"file-tip"},[e._v(e._s(e.fileTip))])]],2)])])},h=[],f=(n("868d"),n("2f54")),p=(n("e109"),n("72dfb"),n("85bf"),n("11fd"),n("28eb"),n("d86f"),null);function m(e){return p?p.checkDownloadFileValidation(e):{status:a["d"].noConnection}}n("7ada");var g,v=n("9869");new v["a"],n("7a40");var y=["png","jpg","jpeg","gif","svg"];var b={".txt":0,".odt":0,".pages":0},D={".html":1,".htm":1},_={".3gp":2,".asf":2,".avi":2,".m4u":2,".m4v":2,".mov":2,".mp4":2,".mpe":2,".mpeg":2,".mpg":2,".mpg4":2,".wmv":2,".rmvb":2,".mp4a":2,".3gpp":2,".mjpeg":2,".flv":2,".mkv":2},w={".m3u":3,".m4a":3,".m4b":3,".m4p":3,".mp2":3,".mp3":3,".mpga":3,".ogg":3,".wav":3,".wma":3,".aiff":3},E={".pdf":4},C={".doc":5,".docx":5,".rtf":5,".wps":5},x={".xls":6,".xlsx":6,".csv":6},A={".ppt":7,".pptx":7,".pps":7},k={".zip":8,".rar":8},S={".sketch":9},F={".js":10,".xml":10,".json":10,".cpp":10,".h":10,".java":10,".log":10,".rc":10,".sh":10,".c":10,".conf":10,".prop":10},O={".one":11},M=y.reduce((function(e,t){return Object(o["a"])(Object(o["a"])({},e),{},Object(f["a"])({},".".concat(t),12))}),{}),T={};Array.prototype.concat.apply([],[b,D,_,w,E,C,x,A,k,S,F,O,M]).forEach((function(e){Object.keys(e).forEach((function(t){T[t]=e[t]}))}));var j=(g={},Object(f["a"])(g,a["c"].unsend,"icon-corner-upload"),Object(f["a"])(g,a["c"].sending,"icon-corner-refresh"),Object(f["a"])(g,a["c"].sended,"icon-corner-success"),Object(f["a"])(g,a["c"].sendError,"icon-corner-error"),Object(f["a"])(g,a["c"].notDownload,"icon-corner-download"),Object(f["a"])(g,a["c"].downloading,"icon-corner-refresh"),Object(f["a"])(g,a["c"].downloaded,"icon-corner-success"),Object(f["a"])(g,a["c"].downloadError,"icon-corner-error"),g);var N={name:"im-file",props:{file:Object,tabindex:{type:Number,default:-1}},data:function(){return{showTip:!1}},computed:Object(o["a"])({statusIcon:function(){return j[this.file.status]},isSending:function(){return this.file.status===a["c"].sending},isDownloading:function(){return this.file.status===a["c"].downloading},fileTip:function(){return this.isEmbedded||[a["c"].notDownload,a["c"].downloadError].indexOf(this.file.status)>-1||[a["c"].downloaded,a["c"].sended].indexOf(this.file.status)>-1?" - "+this.$t("download_tip"):""}},Object(u["e"])(["isEmbedded"])),methods:{downloadFile:function(){this.file.download()},tryDownload:function(){[a["c"].notDownload,a["c"].downloaded,a["c"].sended,a["c"].downloadError].indexOf(this.file.status)>-1&&m(Object(o["a"])(Object(o["a"])({},this.file),{},{fileName:this.file.name})).status===a["d"].success&&this.file.download()},cancelDownload:function(){this.file.cancelDownload()},cancelSend:function(){this.file.cancelSend()}}},B=N,I=(n("e941"),n("2be6")),L=Object(I["a"])(B,d,h,!1,null,"4beaf631",null),R=L.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{tabindex:"-1",role:"button"}},[e.isDeleted||e.notRecord?n("span",{staticClass:"im-avatar icon-avatar",style:e.iconStyle},[n("i",{class:e.isDeleted?"zm-icon-delete-outline":"zm-icon-message",staticStyle:{"font-size":"20px"}})]):e.isNotSupport?n("img",{class:["im-img-avatar"],style:{width:e.size+"px",height:e.size+"px"},attrs:{src:e.avatarDefault,tabindex:e.tabindex,alt:e.name+"'s avatar",role:"button"},on:{error:e.handleAvatarLoadFailed}}):e.avatar&&!e.avatarLoadFailed?n("img",{class:["im-img-avatar"],style:{width:e.size+"px",height:e.size+"px"},attrs:{src:e.avatar,tabindex:e.tabindex,alt:e.name+"'s avatar",role:"button"},on:{error:e.handleAvatarLoadFailed}}):n("span",{class:["im-avatar"],style:e.avatarStyle,attrs:{tabindex:e.tabindex,role:"button","aria-label":e.name+"'s avatar"}},[e._v(" "+e._s(e.shortName)+" ")])])},H=[],z=(n("b55a"),n("2d6d"),n("b0f5"));function $(e){for(var t=["#27ae60","#16a085","#2980b9","#8e44ad","#34495e","#f39c12","#d35400","#c0392b"],n=0,r=0;r<e.length;r++)n+=e.charCodeAt(r),n%=t.length;return t[n]}var U={name:"im-avatar",props:{avatar:String,name:{type:String,default:""},channelJid:{type:String,default:""},avatarShortName:String,size:{type:Number,default:32},jid:{type:String,default:""},isDeleted:Boolean,isXmpp:Boolean,tabindex:{type:Number,default:-1},noMarkup:{type:Boolean,default:!1},notRecord:{type:Boolean,default:!1},isNotSupport:{type:Boolean,default:!1}},data:function(){return{avatarLoadFailed:!1,avatarDefault:n("df9f")}},computed:{desktopShortName:function(){if(this.avatarShortName)return this.avatarShortName.toUpperCase();var e=this.name.trim();if(!e)return"";var t=e.split(" ").filter((function(e){return e&&(e=e.trim()),e}));return t.length>1?t[0][0].toUpperCase()+t[1][0].toUpperCase():1===t.length?(t[0][0]||" ").toUpperCase():" "},mobileShortName:function(){return this.desktopShortName[0]},shortName:function(){return z["c"]?this.mobileShortName:this.desktopShortName},avatarStyle:function(){var e=this.size;return{fontSize:"".concat(Math.max(e/2,12),"px"),lineHeight:"".concat(e,"px"),backgroundColor:this.background,width:"".concat(e,"px")}},iconStyle:function(){var e=this.size;return{width:"".concat(e,"px"),height:"".concat(e,"px"),lineHeight:"".concat(e,"px")}},background:function(){return $(this.channelJid||this.desktopShortName)}},methods:{handleAvatarLoadFailed:function(){this.avatarLoadFailed=!0}}},q=U,Y=(n("6feb"),Object(I["a"])(q,P,H,!1,null,"fd76ef6e",null)),V=Y.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"im-link-preview-list-wrapper"},e._l(e.previews,(function(e){return n("link-preview",{key:e.link,attrs:{linkData:e}})})),1)},J=[],K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"im-link-preview-wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.linkData.imageUrl,expression:"linkData.imageUrl"}],staticClass:"im-link-preview-image-wrapper"},[n("img",{attrs:{src:e.linkData.imageUrl}})]),n("div",{staticClass:"im-link-preview-content-wrapper"},[n("h1",{staticClass:"im-link-header"},[e._v(e._s(e.linkData.title))]),n("p",{staticClass:"im-link-content"},[e._v(" "+e._s(e.linkData.description)+" ")]),n("span",{staticClass:"im-link-site-name"},[e._v(e._s(e.linkData.siteName))])])])},X=[],G={name:"im-link-preview",props:{linkData:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},Z=G,Q=(n("9f14"),Object(I["a"])(Z,K,X,!1,null,"d4bcc900",null)),ee=Q.exports,te={name:"link-preview-list",components:{LinkPreview:ee},props:{previews:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},watch:{},methods:{}},ne=te,re=(n("a80c"),Object(I["a"])(ne,W,J,!1,null,"11c02332",null)),ie=re.exports,oe=n("6ad9"),se={name:"im-message",components:{Avatar:V,EmojiVote:s["a"],File:R,imageMessage:function(){return n.e("chunk-f4827a76").then(n.bind(null,"aaa3"))},LinkPreviewList:ie},inject:["chatPanel"],props:{message:{type:Object,default:function(){return{}}},avatarSize:{type:Number,default:32},shouldShowAvatar:{type:Boolean,default:!1}},data:function(){return{richTextWidth:0,richTextHeight:0,controlShow:!1,focused:!1,computedHtmlContent:this.message.htmlContent||this.message.content,openPreview:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(u["e"])(["chatMessageQuery"])),{},{showEmojiVote:function(){var e=this.emojiVotes.length;return this.isReply?e&&!this.disabled:e&&!this.disabled&&e>2},senderName:function(){return this.displayName},tabindex:function(){return this.focused?0:-1},controlStyle:function(){var e=this.controlShow?"":"hidden";return{left:"".concat(this.richTextWidth+8,"px"),visibility:e}},msgStyle:function(){return{paddingTop:this.shouldShowAvatar?"8px":this.isReply?"4px":0}},isReply:function(){return!!this.message.replyId},isText:function(){return this.message.messageType===a["e"].text},isImage:function(){var e=this.message.messageType;return(e===a["e"].image||e===a["e"].giphy||e===a["e"].screenshot)&&!this.isDeleted},isFile:function(){return this.message.messageType===a["e"].file&&!this.isDeleted},replyCount:function(){var e=this.message,t=e.commentTotal,n=e.comments;return t||Array.isArray(n)&&n.length},isDeleted:function(){return this.message.deleted},isLoading:function(){return this.message.loading},isEdited:function(){return"edit"===this.message.operType||this.message.edited},isError:function(){return!!this.message.error},disabled:function(){return this.isDeleted||this.isError},notRecord:function(){return!!this.message.notRecord},avatarName:function(){return this.message.avatarName||this.message.senderName},displayName:function(){return this.message.displayName||this.message.senderName},emojiVotes:function(){var e=this.message.chatEmojiDetailMap,t=[];if(!e)return t;var n=this.serializeMessageResponseEmoji(e);return Object.keys(n).forEach((function(e){var r=n[e],i=r.count,o=r.haveIEmojied;i>0&&t.push({emoji:e,count:i,haveIEmojied:o})})),t},id:function(){var e=this.message.id;return"message_".concat(e)},showControls:function(){return this.isFile?!!this.message.cFile&&this.message.cFile.status!==a["c"].sending:!this.isLoading},showPreview:function(){return this.message.linkPreview&&this.message.linkPreview.previews.length>0},previews:function(){return this.message.linkPreview&&this.message.linkPreview.previews?this.message.linkPreview.previews:[]}}),beforeCreate:function(){this.$options.components.ReplyList=n("c761").default},mounted:function(){this.handleMatch(this.chatMessageQuery),this.calculateRickText()},watch:{message:function(){this.$nextTick(this.calculateRickText)},chatMessageQuery:function(e){this.handleMatch(e)},controlShow:function(e){e&&this.calculateRickText()}},methods:Object(o["a"])(Object(o["a"])({},Object(u["d"])({setMatchedMessageList:"SET_MATCH_CHAT_MESSAGE_LIST"})),{},{formatTime:function(e){var t="string"===typeof e?e.split(":"):[];return 3===t.length&&"00"===t[0]?t[1]+":"+t[2]:e},serializeMessageResponseEmoji:function(e){if(e){var t={};for(var n in e){var r=l.a.Base64.decode(n);t[r]=e[n]}return t}return e},handleMatch:function(e){var t,n=this.message,r=n.content,i=n.htmlContent,o=n.messageType,s=n.deleted,u=n.notRecord,c=n.id,l=n.replyId,d=n.matchIndex,h=n.senderName,f=n.timeFromMeetingStart;if(this.message.matched=!1,o&&o===a["e"].text&&e&&!s&&!u&&"s"!==e){var p=oe.html(i||r,e,{before:'<span class="matches" id="cmr_chat_message_match">',after:"</span>"});if(null!==(t=p.html)&&void 0!==t&&t.includes("cmr_chat_message_match"))this.message.matched=!0,this.setMatchedMessageList({content:r,id:c,replyId:l,matchIndex:d,senderName:h,timeFromMeetingStart:f,emojiVotes:this.emojiVotes}),this.computedHtmlContent=p.html||i,this.$emit("open-message");else{var m=i||r;this.computedHtmlContent!==m&&(this.computedHtmlContent=m)}}else{var g=i||r;this.computedHtmlContent!==g&&(this.computedHtmlContent=g)}},switchPreview:function(){this.openPreview=!this.openPreview},getControlsElement:function(){return this.$refs.controls},calculateRickText:function(){this.richTextWidth=this.$refs.richText.clientWidth,this.richTextHeight=this.$refs.richText.clientHeight},handleFocusin:function(){this.focused=!0},handleFocusout:function(){this.focused=!1}})},ae=se,ue=(n("2ee7"),Object(I["a"])(ae,r,i,!1,null,"0062677a",null));t["a"]=ue.exports},e8b2:function(e,t,n){var r=n("6b1d"),i=n("b578"),o=n("dac6");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},e941:function(e,t,n){"use strict";n("50f9")},ed7e:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesiące":"miesięcy");case"yy":return i+(r(e)?"lata":"lat")}}var o="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),s="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),a=/D MMMM/,u=function(e,t){return a.test(t)?o[e.month()]:s[e.month()]};u.s=s,u.f=o;var c={name:"pl",weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),months:u,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:i,y:"rok",yy:i},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return n.default.locale(c,null,!0),c}))},f271:function(e,t,n){var r=n("31c3");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},f3e0:function(e,t,n){"use strict";n("1ba0")},f61c:function(e,t,n){"use strict";n("6dec")},f776:function(e,t){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={},i=0;i<66;i++)r[n.charAt(i)]=i;e.exports={itoc:n,ctoi:r}},f7d3:function(e,t,n){var r=n("6b1d"),i=n("f498");r({global:!0},{globalThis:i})},f9bc:function(e,t,n){var r=n("6b1d"),i=n("5428"),o=n("70b7"),s=n("72df"),a=n("2a3e"),u=n("ae5d"),c=n("f776").itoc,l=i("btoa"),d=o("".charAt),h=o("".charCodeAt),f=!!l&&!s((function(){l()})),p=!!l&&s((function(){return"bnVsbA=="!==l(null)})),m=!!l&&1!==l.length;r({global:!0,enumerable:!0,forced:f||p||m},{btoa:function(e){if(u(arguments.length,1),f||p||m)return l(a(e));var t,n,r=a(e),o="",s=0,g=c;while(d(r,s)||(g="=",s%1)){if(n=h(r,s+=3/4),n>255)throw new(i("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");t=t<<8|n,o+=d(g,63&t>>8-s%1*8)}return o}})},fb9f:function(e,t,n){!function(t,r){e.exports=r(n("050d"))}(0,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(r,null,!0),r}))},fbea:function(e,t,n){e.exports={editorBlockQuote:"official-extensions-module_editorBlockQuote_1U2cD"}},fe02:function(e,t,n){"use strict";var r=n("6b1d"),i=n("a5a3"),o=n("5428"),s=n("72df"),a=n("82e8"),u=n("9618"),c=n("abdf").f,l=n("ef30"),d=n("cf87"),h=n("7a25"),f=n("4cce"),p=n("157c"),m=n("2741"),g=n("aa4d"),v=n("96be"),y=n("c9bf"),b=n("cdcd"),D=n("d4cb"),_=n("0e93"),w="DOMException",E="DATA_CLONE_ERR",C=o("Error"),x=o(w)||function(){try{var e=o("MessageChannel")||i("worker_threads").MessageChannel;(new e).port1.postMessage(new WeakMap)}catch(t){if(t.name==E&&25==t.code)return t.constructor}}(),A=x&&x.prototype,k=C.prototype,S=b.set,F=b.getterFor(w),O="stack"in C(w),M=function(e){return h(v,e)&&v[e].m?v[e].c:0},T=function(){f(this,j);var e=arguments.length,t=g(e<1?void 0:arguments[0]),n=g(e<2?void 0:arguments[1],"Error"),r=M(n);if(S(this,{type:w,name:n,message:t,code:r}),D||(this.name=n,this.message=t,this.code=r),O){var i=C(t);i.name=w,c(this,"stack",u(1,y(i.stack,1)))}},j=T.prototype=a(k),N=function(e){return{enumerable:!0,configurable:!0,get:e}},B=function(e){return N((function(){return F(this)[e]}))};D&&(d(j,"code",B("code")),d(j,"message",B("message")),d(j,"name",B("name"))),c(j,"constructor",u(1,T));var I=s((function(){return!(new x instanceof C)})),L=I||s((function(){return k.toString!==m||"2: 1"!==String(new x(1,2))})),R=I||s((function(){return 25!==new x(1,"DataCloneError").code})),P=I||25!==x[E]||25!==A[E],H=_?L||R||P:I;r({global:!0,constructor:!0,forced:H},{DOMException:H?T:x});var z=o(w),$=z.prototype;for(var U in L&&(_||x===z)&&l($,"toString",m),R&&D&&x===z&&d($,"code",N((function(){return M(p(this).name)}))),v)if(h(v,U)){var q=v[U],Y=q.s,V=u(6,q.c);h(z,Y)||c(z,Y,V),h($,Y)||c($,Y,V)}}}]);