(function(){var Q=false;var k="raf-eligible";var n="extole-creative-parent";var e="extole-creative";var M="refer-a-friend-hide-banner";var H="refer-a-friend-hide-op-banner";var x=false;var v="";var C="production";var y="en-US";var P=false;var b="_zm_refer_a_friend";var q=60000;var d=3600000;var h=24*d;var f=10*q;function l(){(function(Y,U,X,W,V){Y[U]=Y[U]||{};for(Y[U].q=Y[U].q||[];V<W.length;){X(W[V++],Y[U])}})(window,"extole",function(V,U){U[V]=U[V]||function(){U.q.push([V,arguments])}},["createZone"],0)}function p(U){var V=U?"relative":"absolute";var W=document.getElementsByClassName(e)||[];Array.from(W).forEach(function(X){if(X.parentElement&&X.parentElement.classList.contains(n)){X.parentElement.style.position=V}})}function j(U){localStorage.setItem(b,JSON.stringify(U))}function o(V){if(V){var U={referralCode:btoa(V),lastDateReferralLinkAccessed:new Date()};j(U)}}function A(){var U=localStorage.getItem(b);return U?JSON.parse(U):{}}function I(){var U=A();return U.lastDateReferralLinkAccessed?new Date(U.lastDateReferralLinkAccessed):null}function S(){var U=I();if(!U||!window.location.pathname.startsWith("/pricing")){return false}return Date.now()<U.getTime()+h}function m(){document.body.classList.add(M)}function B(U){if(U){return false}return S()}function t(){document.body.classList.add(H)}function K(U){if(S()){m()}if(B(U)){t()}}function w(){return window.location.pathname.startsWith("/signin")}function a(){var U=$.cookie("_zm_bu");return U?new URL(U):null}function u(){var V=a();var U=V?V.searchParams.get("extole_source"):"";return U==="pricing_page_banner_desktop"||U==="pricing_page_banner_mobile"}function s(){var U=A();U.referralSellingDate=new Date();j(U)}function E(){var U=A();return U.referralSellingDate?new Date(U.referralSellingDate):null}function r(){var U=E();if(!U){return false}return Date.now()-U<f}function R(){return document.querySelector("#warning-shadow")}function g(){return document.querySelector("#referralSellingDialog")}function L(U){if(!P){U.stopPropagation();U.preventDefault();var W=g();if(W){W.classList.remove("hideme");var V=R();if(V){V.classList.remove("hideme")}}}}function z(){var V=g();if(V){V.classList.add("hideme");var U=R();if(U){U.classList.add("hideme")}}}function c(){return document.querySelector(".header-links > button:first-of-type > span")}function N(){return document.querySelector(".header-links > button:first-of-type")}function O(){return document.querySelector(".header-login-link")}function G(){var U=N();if(U){var V=O();U.style.setProperty("padding","0");U.style.setProperty("line-height","inherit");U.style.setProperty("margin-left","0","important");U.style.setProperty("border-width","0");if(V){V.style.setProperty("margin-right","6px")}}}function J(){var U=c();if(U){U.addEventListener("click",L)}G()}function i(){var U=g();if(U){var V=U.querySelector("button.dialog-signup");if(V){var W=function(){P=true;var X=c();if(X){X.click()}};V.addEventListener("click",W)}}}function T(){var V=g();if(V){var U=V.querySelector("button.dialog-cancel");if(U){U.addEventListener("click",z)}}}function D(){var U=function(){if(g()){J();i();T()}};setTimeout(U,500)}function F(){if(w()){if(u()){s()}if(r()){D()}}}window.referAFriend={hasConsented:null,init:function(V,U){y=U;x=!window.matchMedia("(min-width: 768px)").matches;if(V){v="test";C="staging"}},friendConfiguration:function(U){o(U.referralCode);K(U.isReferAFriendOpBannerAlwaysEnabled);F()},getReferrer:function(){var U=A();return U.referralCode?atob(U.referralCode):null},showCtaContainers:function(){this.hasConsented=true;if(!Q){return}this.toggleConsentWarning();p(true);document.body.classList.add(k)},hideCtaContainers:function(){this.hasConsented=false;document.body.classList.remove(k);p(false);this.toggleConsentWarning()},toggleConsentWarning:function(){var U=document.getElementById("cookie-consent-warning");if(U){U.style.display=(this.hasConsented?"none":"flex")}},ExtoleCreative:function(U){U=U||{};this.nameDesktop=U.nameDesktop;this.nameMobile=U.nameMobile;this.elementID=U.elementID;this.element=U.element},setupDeviceSpecificExtoleCtaTag:function(U){var W=this;var V=(x&&U.nameMobile)?U.nameMobile:U.nameDesktop;if(!U.elementID&&!U.element){return}l();extole.createZone({name:V,element_id:U.elementID,element:U.element,data:{container:v,labels:C,locale:y}},function(Y,X){if(!Y){Q=true;W.showCtaContainers()}})},setupReferralPageExtoleTag:function(U,V){var X=this;var W=(x&&U.nameMobile)?U.nameMobile:U.nameDesktop;if((!U.elementID&&!U.element)||!V){return}l();extole.createZone({name:W,element_id:U.elementID,element:U.element,jwt:V},function(Z,Y){if(!Z){Q=true;X.showCtaContainers()}})},sendRegistrationEvent:function(U){if(!this.getReferrer()||!U){return}l();extole.createZone({name:"signed_up",jwt:U})},sendPurchaseEvent:function(U){if(!this.getReferrer()||!U){return}l();extole.createZone({name:"conversion",jwt:U})}}})();